<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Advanced smart charging • flextools</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Advanced smart charging">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">flextools</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/flextools.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Optimization problems</h6></li>
    <li><a class="dropdown-item" href="../articles/minimize_net_power.html">Net power optimization</a></li>
    <li><a class="dropdown-item" href="../articles/minimize_cost.html">Energy cost optimization</a></li>
    <li><a class="dropdown-item" href="../articles/combined_optimization.html">Combined optimization</a></li>
    <li><a class="dropdown-item" href="../articles/parallel-processing.html">Parallel processing</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Demand-response</h6></li>
    <li><a class="dropdown-item" href="../articles/smart-charging.html">Smart charging</a></li>
    <li><a class="dropdown-item" href="../articles/smart-charging-advanced.html">Advanced smart charging</a></li>
    <li><a class="dropdown-item" href="../articles/user-profiles.html">User profiles in smart charging</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/resourcefully-dev/flextools/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">



<link href="smart-charging-advanced_files/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="smart-charging-advanced_files/htmlwidgets-1.6.4/htmlwidgets.js"></script><link href="smart-charging-advanced_files/dygraphs-1.1.1/dygraph.css" rel="stylesheet">
<script src="smart-charging-advanced_files/dygraphs-1.1.1/dygraph-combined.js"></script><script src="smart-charging-advanced_files/dygraphs-1.1.1/shapes.js"></script><script src="smart-charging-advanced_files/moment-2.8.4/moment.js"></script><script src="smart-charging-advanced_files/moment-timezone-0.2.5/moment-timezone-with-data.js"></script><script src="smart-charging-advanced_files/moment-fquarter-1.0.0/moment-fquarter.min.js"></script><script src="smart-charging-advanced_files/dygraphs-binding-1.1.1.6/dygraphs.js"></script><div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Advanced smart charging</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/resourcefully-dev/flextools/blob/HEAD/vignettes/smart-charging-advanced.Rmd" class="external-link"><code>vignettes/smart-charging-advanced.Rmd</code></a></small>
      <div class="d-none name"><code>smart-charging-advanced.Rmd</code></div>
    </div>

    
    
<p>The <code><a href="../reference/smart_charging.html">smart_charging()</a></code> function provides some parameters
that may not be required in most of simulations but configuring them in
specific cases can make a huge difference. This article raises some
cases where a more advanced knowledge and configuration of these
parameters may be required to obtain the desired results.</p>
<p>For the smart charging examples in this article, the same example
data sets <code>energy_data</code> and <code>ev_sessions</code> from the
article Smart charging will be used:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">energy_data</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 6 × 7</span></span></span>
<span><span class="co">##   datetime            solar building price_imported price_exported price_turn_up</span></span>
<span><span class="co">##   <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span> 2023-05-01 <span style="color: #949494;">00:00:00</span>     0     3.06         0.099<span style="text-decoration: underline;">9</span>          0.025        0.104 </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">2</span> 2023-05-01 <span style="color: #949494;">00:15:00</span>     0     2.98         0.099<span style="text-decoration: underline;">9</span>          0.025        0.099<span style="text-decoration: underline;">3</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">3</span> 2023-05-01 <span style="color: #949494;">00:30:00</span>     0     2.90         0.099<span style="text-decoration: underline;">9</span>          0.025        0     </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">4</span> 2023-05-01 <span style="color: #949494;">00:45:00</span>     0     2.82         0.099<span style="text-decoration: underline;">9</span>          0.025        0     </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">5</span> 2023-05-01 <span style="color: #949494;">01:00:00</span>     0     2.74         0.095<span style="text-decoration: underline;">5</span>          0.025        0     </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">6</span> 2023-05-01 <span style="color: #949494;">01:15:00</span>     0     2.64         0.095<span style="text-decoration: underline;">5</span>          0.025        0     </span></span>
<span><span class="co">## <span style="color: #949494;"># ℹ 1 more variable: price_turn_down &lt;dbl&gt;</span></span></span></code></pre>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">ev_sessions</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 6 × 11</span></span></span>
<span><span class="co">##   Session Timecycle Profile ConnectionStartDateTime ConnectionEndDateTime</span></span>
<span><span class="co">##   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>                  <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>               </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span> S1      Workdays  HomeEV  2023-05-01 <span style="color: #949494;">13:45:00</span>     2023-05-02 <span style="color: #949494;">03:46:00</span>  </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">2</span> S2      Workdays  HomeEV  2023-05-01 <span style="color: #949494;">14:00:00</span>     2023-05-02 <span style="color: #949494;">04:33:00</span>  </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">3</span> S3      Workdays  HomeEV  2023-05-01 <span style="color: #949494;">14:15:00</span>     2023-05-02 <span style="color: #949494;">03:01:00</span>  </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">4</span> S4      Workdays  HomeEV  2023-05-01 <span style="color: #949494;">17:30:00</span>     2023-05-02 <span style="color: #949494;">07:09:00</span>  </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">5</span> S5      Workdays  HomeEV  2023-05-01 <span style="color: #949494;">21:45:00</span>     2023-05-02 <span style="color: #949494;">11:47:00</span>  </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">6</span> S6      Workdays  HomeEV  2023-05-02 <span style="color: #949494;">10:15:00</span>     2023-05-02 <span style="color: #949494;">23:13:00</span>  </span></span>
<span><span class="co">## <span style="color: #949494;"># ℹ 6 more variables: ChargingStartDateTime &lt;dttm&gt;, ChargingEndDateTime &lt;dttm&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   Power &lt;dbl&gt;, Energy &lt;dbl&gt;, ConnectionHours &lt;dbl&gt;, ChargingHours &lt;dbl&gt;</span></span></span></code></pre>
<div class="dygraphs html-widget html-fill-item" id="htmlwidget-ac96cb3ee4656e2e9ec3" style="width:700px;height:432.632880098888px;"></div>
<script type="application/json" data-for="htmlwidget-ac96cb3ee4656e2e9ec3">{"x":{"attrs":{"ylabel":"Power demand (kW)","labels":["minute","HomeEV"],"axes":{"x":{"pixelsPerLabel":60,"drawAxis":true},"y":{"drawAxis":true}},"legend":"auto","labelsDivWidth":250,"labelsShowZeroValues":false,"labelsSeparateLines":false,"hideOverlayOnMouseOut":true,"stackedGraph":false,"fillGraph":true,"fillAlpha":0.15,"stepPlot":false,"drawPoints":false,"pointSize":1,"drawGapEdgePoints":false,"connectSeparatedPoints":false,"strokeWidth":2,"strokeBorderColor":"white","colorValue":0.5,"colorSaturation":1,"includeZero":false,"drawAxesAtZero":false,"logscale":false,"axisTickSize":3,"axisLineColor":"black","axisLineWidth":0.3,"axisLabelColor":"black","axisLabelFontSize":14,"axisLabelWidth":60,"drawGrid":true,"gridLineWidth":0.3,"rightGap":5,"digitsAfterDecimal":2,"labelsKMB":false,"labelsKMG2":false,"labelsUTC":false,"maxNumberWidth":6,"animatedZooms":false,"mobileDisableYTouch":true,"retainDateWindow":true,"disableZoom":false},"scale":"minute","annotations":[],"shadings":[],"events":[],"format":"date","data":[["2023-04-30T22:00:00.000Z","2023-04-30T22:15:00.000Z","2023-04-30T22:30:00.000Z","2023-04-30T22:45:00.000Z","2023-04-30T23:00:00.000Z","2023-04-30T23:15:00.000Z","2023-04-30T23:30:00.000Z","2023-04-30T23:45:00.000Z","2023-05-01T00:00:00.000Z","2023-05-01T00:15:00.000Z","2023-05-01T00:30:00.000Z","2023-05-01T00:45:00.000Z","2023-05-01T01:00:00.000Z","2023-05-01T01:15:00.000Z","2023-05-01T01:30:00.000Z","2023-05-01T01:45:00.000Z","2023-05-01T02:00:00.000Z","2023-05-01T02:15:00.000Z","2023-05-01T02:30:00.000Z","2023-05-01T02:45:00.000Z","2023-05-01T03:00:00.000Z","2023-05-01T03:15:00.000Z","2023-05-01T03:30:00.000Z","2023-05-01T03:45:00.000Z","2023-05-01T04:00:00.000Z","2023-05-01T04:15:00.000Z","2023-05-01T04:30:00.000Z","2023-05-01T04:45:00.000Z","2023-05-01T05:00:00.000Z","2023-05-01T05:15:00.000Z","2023-05-01T05:30:00.000Z","2023-05-01T05:45:00.000Z","2023-05-01T06:00:00.000Z","2023-05-01T06:15:00.000Z","2023-05-01T06:30:00.000Z","2023-05-01T06:45:00.000Z","2023-05-01T07:00:00.000Z","2023-05-01T07:15:00.000Z","2023-05-01T07:30:00.000Z","2023-05-01T07:45:00.000Z","2023-05-01T08:00:00.000Z","2023-05-01T08:15:00.000Z","2023-05-01T08:30:00.000Z","2023-05-01T08:45:00.000Z","2023-05-01T09:00:00.000Z","2023-05-01T09:15:00.000Z","2023-05-01T09:30:00.000Z","2023-05-01T09:45:00.000Z","2023-05-01T10:00:00.000Z","2023-05-01T10:15:00.000Z","2023-05-01T10:30:00.000Z","2023-05-01T10:45:00.000Z","2023-05-01T11:00:00.000Z","2023-05-01T11:15:00.000Z","2023-05-01T11:30:00.000Z","2023-05-01T11:45:00.000Z","2023-05-01T12:00:00.000Z","2023-05-01T12:15:00.000Z","2023-05-01T12:30:00.000Z","2023-05-01T12:45:00.000Z","2023-05-01T13:00:00.000Z","2023-05-01T13:15:00.000Z","2023-05-01T13:30:00.000Z","2023-05-01T13:45:00.000Z","2023-05-01T14:00:00.000Z","2023-05-01T14:15:00.000Z","2023-05-01T14:30:00.000Z","2023-05-01T14:45:00.000Z","2023-05-01T15:00:00.000Z","2023-05-01T15:15:00.000Z","2023-05-01T15:30:00.000Z","2023-05-01T15:45:00.000Z","2023-05-01T16:00:00.000Z","2023-05-01T16:15:00.000Z","2023-05-01T16:30:00.000Z","2023-05-01T16:45:00.000Z","2023-05-01T17:00:00.000Z","2023-05-01T17:15:00.000Z","2023-05-01T17:30:00.000Z","2023-05-01T17:45:00.000Z","2023-05-01T18:00:00.000Z","2023-05-01T18:15:00.000Z","2023-05-01T18:30:00.000Z","2023-05-01T18:45:00.000Z","2023-05-01T19:00:00.000Z","2023-05-01T19:15:00.000Z","2023-05-01T19:30:00.000Z","2023-05-01T19:45:00.000Z","2023-05-01T20:00:00.000Z","2023-05-01T20:15:00.000Z","2023-05-01T20:30:00.000Z","2023-05-01T20:45:00.000Z","2023-05-01T21:00:00.000Z","2023-05-01T21:15:00.000Z","2023-05-01T21:30:00.000Z","2023-05-01T21:45:00.000Z","2023-05-01T22:00:00.000Z","2023-05-01T22:15:00.000Z","2023-05-01T22:30:00.000Z","2023-05-01T22:45:00.000Z","2023-05-01T23:00:00.000Z","2023-05-01T23:15:00.000Z","2023-05-01T23:30:00.000Z","2023-05-01T23:45:00.000Z","2023-05-02T00:00:00.000Z","2023-05-02T00:15:00.000Z","2023-05-02T00:30:00.000Z","2023-05-02T00:45:00.000Z","2023-05-02T01:00:00.000Z","2023-05-02T01:15:00.000Z","2023-05-02T01:30:00.000Z","2023-05-02T01:45:00.000Z","2023-05-02T02:00:00.000Z","2023-05-02T02:15:00.000Z","2023-05-02T02:30:00.000Z","2023-05-02T02:45:00.000Z","2023-05-02T03:00:00.000Z","2023-05-02T03:15:00.000Z","2023-05-02T03:30:00.000Z","2023-05-02T03:45:00.000Z","2023-05-02T04:00:00.000Z","2023-05-02T04:15:00.000Z","2023-05-02T04:30:00.000Z","2023-05-02T04:45:00.000Z","2023-05-02T05:00:00.000Z","2023-05-02T05:15:00.000Z","2023-05-02T05:30:00.000Z","2023-05-02T05:45:00.000Z","2023-05-02T06:00:00.000Z","2023-05-02T06:15:00.000Z","2023-05-02T06:30:00.000Z","2023-05-02T06:45:00.000Z","2023-05-02T07:00:00.000Z","2023-05-02T07:15:00.000Z","2023-05-02T07:30:00.000Z","2023-05-02T07:45:00.000Z","2023-05-02T08:00:00.000Z","2023-05-02T08:15:00.000Z","2023-05-02T08:30:00.000Z","2023-05-02T08:45:00.000Z","2023-05-02T09:00:00.000Z","2023-05-02T09:15:00.000Z","2023-05-02T09:30:00.000Z","2023-05-02T09:45:00.000Z","2023-05-02T10:00:00.000Z","2023-05-02T10:15:00.000Z","2023-05-02T10:30:00.000Z","2023-05-02T10:45:00.000Z","2023-05-02T11:00:00.000Z","2023-05-02T11:15:00.000Z","2023-05-02T11:30:00.000Z","2023-05-02T11:45:00.000Z","2023-05-02T12:00:00.000Z","2023-05-02T12:15:00.000Z","2023-05-02T12:30:00.000Z","2023-05-02T12:45:00.000Z","2023-05-02T13:00:00.000Z","2023-05-02T13:15:00.000Z","2023-05-02T13:30:00.000Z","2023-05-02T13:45:00.000Z","2023-05-02T14:00:00.000Z","2023-05-02T14:15:00.000Z","2023-05-02T14:30:00.000Z","2023-05-02T14:45:00.000Z","2023-05-02T15:00:00.000Z","2023-05-02T15:15:00.000Z","2023-05-02T15:30:00.000Z","2023-05-02T15:45:00.000Z","2023-05-02T16:00:00.000Z","2023-05-02T16:15:00.000Z","2023-05-02T16:30:00.000Z","2023-05-02T16:45:00.000Z","2023-05-02T17:00:00.000Z","2023-05-02T17:15:00.000Z","2023-05-02T17:30:00.000Z","2023-05-02T17:45:00.000Z","2023-05-02T18:00:00.000Z","2023-05-02T18:15:00.000Z","2023-05-02T18:30:00.000Z","2023-05-02T18:45:00.000Z","2023-05-02T19:00:00.000Z","2023-05-02T19:15:00.000Z","2023-05-02T19:30:00.000Z","2023-05-02T19:45:00.000Z","2023-05-02T20:00:00.000Z","2023-05-02T20:15:00.000Z","2023-05-02T20:30:00.000Z","2023-05-02T20:45:00.000Z","2023-05-02T21:00:00.000Z","2023-05-02T21:15:00.000Z","2023-05-02T21:30:00.000Z","2023-05-02T21:45:00.000Z","2023-05-02T22:00:00.000Z","2023-05-02T22:15:00.000Z","2023-05-02T22:30:00.000Z","2023-05-02T22:45:00.000Z","2023-05-02T23:00:00.000Z","2023-05-02T23:15:00.000Z","2023-05-02T23:30:00.000Z","2023-05-02T23:45:00.000Z","2023-05-03T00:00:00.000Z","2023-05-03T00:15:00.000Z","2023-05-03T00:30:00.000Z","2023-05-03T00:45:00.000Z","2023-05-03T01:00:00.000Z","2023-05-03T01:15:00.000Z","2023-05-03T01:30:00.000Z","2023-05-03T01:45:00.000Z","2023-05-03T02:00:00.000Z","2023-05-03T02:15:00.000Z","2023-05-03T02:30:00.000Z","2023-05-03T02:45:00.000Z","2023-05-03T03:00:00.000Z","2023-05-03T03:15:00.000Z","2023-05-03T03:30:00.000Z","2023-05-03T03:45:00.000Z","2023-05-03T04:00:00.000Z","2023-05-03T04:15:00.000Z","2023-05-03T04:30:00.000Z","2023-05-03T04:45:00.000Z","2023-05-03T05:00:00.000Z","2023-05-03T05:15:00.000Z","2023-05-03T05:30:00.000Z","2023-05-03T05:45:00.000Z","2023-05-03T06:00:00.000Z","2023-05-03T06:15:00.000Z","2023-05-03T06:30:00.000Z","2023-05-03T06:45:00.000Z","2023-05-03T07:00:00.000Z","2023-05-03T07:15:00.000Z","2023-05-03T07:30:00.000Z","2023-05-03T07:45:00.000Z","2023-05-03T08:00:00.000Z","2023-05-03T08:15:00.000Z","2023-05-03T08:30:00.000Z","2023-05-03T08:45:00.000Z","2023-05-03T09:00:00.000Z","2023-05-03T09:15:00.000Z","2023-05-03T09:30:00.000Z","2023-05-03T09:45:00.000Z","2023-05-03T10:00:00.000Z","2023-05-03T10:15:00.000Z","2023-05-03T10:30:00.000Z","2023-05-03T10:45:00.000Z","2023-05-03T11:00:00.000Z","2023-05-03T11:15:00.000Z","2023-05-03T11:30:00.000Z","2023-05-03T11:45:00.000Z","2023-05-03T12:00:00.000Z","2023-05-03T12:15:00.000Z","2023-05-03T12:30:00.000Z","2023-05-03T12:45:00.000Z","2023-05-03T13:00:00.000Z","2023-05-03T13:15:00.000Z","2023-05-03T13:30:00.000Z","2023-05-03T13:45:00.000Z","2023-05-03T14:00:00.000Z","2023-05-03T14:15:00.000Z","2023-05-03T14:30:00.000Z","2023-05-03T14:45:00.000Z","2023-05-03T15:00:00.000Z","2023-05-03T15:15:00.000Z","2023-05-03T15:30:00.000Z","2023-05-03T15:45:00.000Z","2023-05-03T16:00:00.000Z","2023-05-03T16:15:00.000Z","2023-05-03T16:30:00.000Z","2023-05-03T16:45:00.000Z","2023-05-03T17:00:00.000Z","2023-05-03T17:15:00.000Z","2023-05-03T17:30:00.000Z","2023-05-03T17:45:00.000Z","2023-05-03T18:00:00.000Z","2023-05-03T18:15:00.000Z","2023-05-03T18:30:00.000Z","2023-05-03T18:45:00.000Z","2023-05-03T19:00:00.000Z","2023-05-03T19:15:00.000Z","2023-05-03T19:30:00.000Z","2023-05-03T19:45:00.000Z","2023-05-03T20:00:00.000Z","2023-05-03T20:15:00.000Z","2023-05-03T20:30:00.000Z","2023-05-03T20:45:00.000Z","2023-05-03T21:00:00.000Z","2023-05-03T21:15:00.000Z","2023-05-03T21:30:00.000Z","2023-05-03T21:45:00.000Z","2023-05-03T22:00:00.000Z","2023-05-03T22:15:00.000Z","2023-05-03T22:30:00.000Z","2023-05-03T22:45:00.000Z","2023-05-03T23:00:00.000Z","2023-05-03T23:15:00.000Z","2023-05-03T23:30:00.000Z","2023-05-03T23:45:00.000Z","2023-05-04T00:00:00.000Z","2023-05-04T00:15:00.000Z","2023-05-04T00:30:00.000Z","2023-05-04T00:45:00.000Z","2023-05-04T01:00:00.000Z","2023-05-04T01:15:00.000Z","2023-05-04T01:30:00.000Z","2023-05-04T01:45:00.000Z","2023-05-04T02:00:00.000Z","2023-05-04T02:15:00.000Z","2023-05-04T02:30:00.000Z","2023-05-04T02:45:00.000Z","2023-05-04T03:00:00.000Z","2023-05-04T03:15:00.000Z","2023-05-04T03:30:00.000Z","2023-05-04T03:45:00.000Z","2023-05-04T04:00:00.000Z","2023-05-04T04:15:00.000Z","2023-05-04T04:30:00.000Z","2023-05-04T04:45:00.000Z","2023-05-04T05:00:00.000Z","2023-05-04T05:15:00.000Z","2023-05-04T05:30:00.000Z","2023-05-04T05:45:00.000Z","2023-05-04T06:00:00.000Z","2023-05-04T06:15:00.000Z","2023-05-04T06:30:00.000Z","2023-05-04T06:45:00.000Z","2023-05-04T07:00:00.000Z","2023-05-04T07:15:00.000Z","2023-05-04T07:30:00.000Z","2023-05-04T07:45:00.000Z","2023-05-04T08:00:00.000Z","2023-05-04T08:15:00.000Z","2023-05-04T08:30:00.000Z","2023-05-04T08:45:00.000Z","2023-05-04T09:00:00.000Z","2023-05-04T09:15:00.000Z","2023-05-04T09:30:00.000Z","2023-05-04T09:45:00.000Z","2023-05-04T10:00:00.000Z","2023-05-04T10:15:00.000Z","2023-05-04T10:30:00.000Z","2023-05-04T10:45:00.000Z","2023-05-04T11:00:00.000Z","2023-05-04T11:15:00.000Z","2023-05-04T11:30:00.000Z","2023-05-04T11:45:00.000Z","2023-05-04T12:00:00.000Z","2023-05-04T12:15:00.000Z","2023-05-04T12:30:00.000Z","2023-05-04T12:45:00.000Z","2023-05-04T13:00:00.000Z","2023-05-04T13:15:00.000Z","2023-05-04T13:30:00.000Z","2023-05-04T13:45:00.000Z","2023-05-04T14:00:00.000Z","2023-05-04T14:15:00.000Z","2023-05-04T14:30:00.000Z","2023-05-04T14:45:00.000Z","2023-05-04T15:00:00.000Z","2023-05-04T15:15:00.000Z","2023-05-04T15:30:00.000Z","2023-05-04T15:45:00.000Z","2023-05-04T16:00:00.000Z","2023-05-04T16:15:00.000Z","2023-05-04T16:30:00.000Z","2023-05-04T16:45:00.000Z","2023-05-04T17:00:00.000Z","2023-05-04T17:15:00.000Z","2023-05-04T17:30:00.000Z","2023-05-04T17:45:00.000Z","2023-05-04T18:00:00.000Z","2023-05-04T18:15:00.000Z","2023-05-04T18:30:00.000Z","2023-05-04T18:45:00.000Z","2023-05-04T19:00:00.000Z","2023-05-04T19:15:00.000Z","2023-05-04T19:30:00.000Z","2023-05-04T19:45:00.000Z","2023-05-04T20:00:00.000Z","2023-05-04T20:15:00.000Z","2023-05-04T20:30:00.000Z","2023-05-04T20:45:00.000Z","2023-05-04T21:00:00.000Z","2023-05-04T21:15:00.000Z","2023-05-04T21:30:00.000Z","2023-05-04T21:45:00.000Z","2023-05-04T22:00:00.000Z"],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,7.4,11.1,11.1,11.1,11.1,11.1,11.1,11.1,11.1,11.1,11.1,11.1,8.879999999999999,7.4,10.5,7.4,7.4,5.18,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.84,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,2.66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,0.3,0,0,0,0,0,0,0,0,0,0,3.7,3.7,3.7,3.7,3.7,3.7,3.7,7.4,7.4,7.4,7.4,7.4,7.4,7.4,7.4,5.32,3.7,3.7,3.7,3.7,7.4,7.4,4.16,3.7,7.4,7.4,7.4,7.4,7.4,7.4,7.4,7.4,7.4,7.4,7.4,7.4,7.4,7.4,7.1,3.7,3.7,2.82,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,2.5,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,7.4,7.4,7.4,7.4,7.4,7.4,7.4,7.4,7.4,11.1,11.1,11.1,11.1,7.98,7.4,7.4,7.4,4.720000000000001,7.4,7.4,7.4,7.4,7.4,7.4,7.4,7.4,5.76,3.7,3.7,3.7,3.7,3.7,3.7,1.5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],"fixedtz":true,"tzone":"Europe/Amsterdam","css":"/* Dygraph styling */\n\n.dygraph-title {\n  text-align: left;\n  font-weight: normal;\n  font-size: 70%;\n}\n\n.dygraph-legend {\n  color: white;\n  background-color: #BABABA !important;\n    padding-left:5px;\n  border-color:#BABABA;\n    border-style:solid;\n  border-width:thin;\n  transition:0s 4s;\n  z-index: 20 !important;\n  box-shadow: 2px 2px 5px rgba(0, 0, 0, .3);\n  border-radius: 3px;\n}\n\n.dygraph-legend:hover{\n  transform: translate(-110%);\n  transition: 0s;\n}\n\n.dygraph-legend > span {\n  color: black;\n  padding-left:5px;\n  margin-left:-5px;\n  background-color: white !important;\n  display: block;\n}\n\n.dygraph-legend > span > span{\n  display: inline;\n}\n\n.highlight {\n  border-left: 2px solid #BABABA;\n  padding-left:3px !important;\n\n}"},"evals":[],"jsHooks":[]}</script><p>For all smart charging simulations the following parameters will be
considered:</p>
<ul>
<li>scheduling method: curtail</li>
<li>optimization window days: 1</li>
<li>optimization window start hour: 6:00 AM</li>
</ul>
<div class="section level2">
<h2 id="the-ev-demand-is-pushed-to-the-end-of-the-optimization-window">The EV demand is pushed to the end of the optimization window<a class="anchor" aria-label="anchor" href="#the-ev-demand-is-pushed-to-the-end-of-the-optimization-window"></a>
</h2>
<p>Usually applying the <code><a href="../reference/smart_charging.html">smart_charging()</a></code> function with
default configuration will not prevent that some EV users surpass their
setpoints, due to a lack of flexibility from the EV sessions. When this
happens, normally it results in a higher demand at the end of the
optimization window because the smart charging algorithm tries to match
the setpoint until there’s no more flexibility from the EV users and the
EV must be charged.</p>
<p>Below, we will see examples of these situations for the 2 types of
setpoints that <code><a href="../reference/smart_charging.html">smart_charging()</a></code> function can consider (grid
capacity setpoint and optimization setpoint), and how to deal with
that.</p>
<div class="section level3">
<h3 id="setpoint-as-grid-capacity">Setpoint as grid capacity<a class="anchor" aria-label="anchor" href="#setpoint-as-grid-capacity"></a>
</h3>
<p>Imagine that there’s a <strong>maximum grid connection has to be
reduced to 4 kW</strong>, so that we can charge only one EV at a
time:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">grid_capacity</span> <span class="op">&lt;-</span> <span class="fl">4</span></span></code></pre></div>
<p>We configure this grid capacity as a setpoint for the EV user
profile:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">opt_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span>
<span>  datetime <span class="op">=</span> <span class="va">ev_demand</span><span class="op">$</span><span class="va">datetime</span>, <span class="co"># Same date-time sequence than the demand</span></span>
<span>  HomeEV <span class="op">=</span> <span class="va">grid_capacity</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">opt_data</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 6 × 2</span></span></span>
<span><span class="co">##   datetime            HomeEV</span></span>
<span><span class="co">##   <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>               <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span> 2023-05-01 <span style="color: #949494;">00:00:00</span>      4</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">2</span> 2023-05-01 <span style="color: #949494;">00:15:00</span>      4</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">3</span> 2023-05-01 <span style="color: #949494;">00:30:00</span>      4</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">4</span> 2023-05-01 <span style="color: #949494;">00:45:00</span>      4</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">5</span> 2023-05-01 <span style="color: #949494;">01:00:00</span>      4</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">6</span> 2023-05-01 <span style="color: #949494;">01:15:00</span>      4</span></span></code></pre>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sc_results</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/smart_charging.html">smart_charging</a></span><span class="op">(</span></span>
<span>  sessions <span class="op">=</span> <span class="va">ev_sessions</span>,</span>
<span>  opt_data <span class="op">=</span> <span class="va">opt_data</span>, </span>
<span>  opt_objective <span class="op">=</span> <span class="st">"none"</span>,</span>
<span>  method <span class="op">=</span> <span class="st">"curtail"</span>,</span>
<span>  window_days <span class="op">=</span> <span class="fl">1</span>, </span>
<span>  window_start_hour <span class="op">=</span> <span class="fl">6</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning: `production` variable not found in `opt_data`. No local energy production will be considered.</span></span></code></pre>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">sc_results</span>, sessions <span class="op">=</span> <span class="va">ev_sessions</span><span class="op">)</span></span></code></pre></div>
<div class="dygraphs html-widget html-fill-item" id="htmlwidget-e5c8c404fe174e4c81bd" style="width:700px;height:432.632880098888px;"></div>
<script type="application/json" data-for="htmlwidget-e5c8c404fe174e4c81bd">{"x":{"attrs":{"ylabel":"Power (kW)","labels":["minute","Setpoint","Flexible EVs","Original EVs"],"axes":{"x":{"pixelsPerLabel":60,"drawAxis":true},"y":{"drawAxis":true}},"legend":"auto","labelsDivWidth":250,"labelsShowZeroValues":false,"labelsSeparateLines":false,"hideOverlayOnMouseOut":true,"stackedGraph":false,"fillGraph":false,"fillAlpha":0.15,"stepPlot":false,"drawPoints":false,"pointSize":1,"drawGapEdgePoints":false,"connectSeparatedPoints":false,"strokeWidth":2,"strokeBorderColor":"white","colorValue":0.5,"colorSaturation":1,"includeZero":false,"drawAxesAtZero":false,"logscale":false,"axisTickSize":3,"axisLineColor":"black","axisLineWidth":0.3,"axisLabelColor":"black","axisLabelFontSize":14,"axisLabelWidth":60,"drawGrid":true,"gridLineWidth":0.3,"rightGap":5,"digitsAfterDecimal":2,"labelsKMB":false,"labelsKMG2":false,"labelsUTC":false,"maxNumberWidth":6,"animatedZooms":false,"mobileDisableYTouch":true,"retainDateWindow":true,"disableZoom":false,"colors":["red","navy","gray"],"series":{"Setpoint":{"axis":"y","strokeWidth":2,"strokePattern":[7,3]},"Flexible EVs":{"axis":"y"},"Original EVs":{"axis":"y","strokeWidth":2,"strokePattern":[7,3]}}},"scale":"minute","annotations":[],"shadings":[],"events":[],"format":"date","data":[["2023-04-30T22:00:00.000Z","2023-04-30T22:15:00.000Z","2023-04-30T22:30:00.000Z","2023-04-30T22:45:00.000Z","2023-04-30T23:00:00.000Z","2023-04-30T23:15:00.000Z","2023-04-30T23:30:00.000Z","2023-04-30T23:45:00.000Z","2023-05-01T00:00:00.000Z","2023-05-01T00:15:00.000Z","2023-05-01T00:30:00.000Z","2023-05-01T00:45:00.000Z","2023-05-01T01:00:00.000Z","2023-05-01T01:15:00.000Z","2023-05-01T01:30:00.000Z","2023-05-01T01:45:00.000Z","2023-05-01T02:00:00.000Z","2023-05-01T02:15:00.000Z","2023-05-01T02:30:00.000Z","2023-05-01T02:45:00.000Z","2023-05-01T03:00:00.000Z","2023-05-01T03:15:00.000Z","2023-05-01T03:30:00.000Z","2023-05-01T03:45:00.000Z","2023-05-01T04:00:00.000Z","2023-05-01T04:15:00.000Z","2023-05-01T04:30:00.000Z","2023-05-01T04:45:00.000Z","2023-05-01T05:00:00.000Z","2023-05-01T05:15:00.000Z","2023-05-01T05:30:00.000Z","2023-05-01T05:45:00.000Z","2023-05-01T06:00:00.000Z","2023-05-01T06:15:00.000Z","2023-05-01T06:30:00.000Z","2023-05-01T06:45:00.000Z","2023-05-01T07:00:00.000Z","2023-05-01T07:15:00.000Z","2023-05-01T07:30:00.000Z","2023-05-01T07:45:00.000Z","2023-05-01T08:00:00.000Z","2023-05-01T08:15:00.000Z","2023-05-01T08:30:00.000Z","2023-05-01T08:45:00.000Z","2023-05-01T09:00:00.000Z","2023-05-01T09:15:00.000Z","2023-05-01T09:30:00.000Z","2023-05-01T09:45:00.000Z","2023-05-01T10:00:00.000Z","2023-05-01T10:15:00.000Z","2023-05-01T10:30:00.000Z","2023-05-01T10:45:00.000Z","2023-05-01T11:00:00.000Z","2023-05-01T11:15:00.000Z","2023-05-01T11:30:00.000Z","2023-05-01T11:45:00.000Z","2023-05-01T12:00:00.000Z","2023-05-01T12:15:00.000Z","2023-05-01T12:30:00.000Z","2023-05-01T12:45:00.000Z","2023-05-01T13:00:00.000Z","2023-05-01T13:15:00.000Z","2023-05-01T13:30:00.000Z","2023-05-01T13:45:00.000Z","2023-05-01T14:00:00.000Z","2023-05-01T14:15:00.000Z","2023-05-01T14:30:00.000Z","2023-05-01T14:45:00.000Z","2023-05-01T15:00:00.000Z","2023-05-01T15:15:00.000Z","2023-05-01T15:30:00.000Z","2023-05-01T15:45:00.000Z","2023-05-01T16:00:00.000Z","2023-05-01T16:15:00.000Z","2023-05-01T16:30:00.000Z","2023-05-01T16:45:00.000Z","2023-05-01T17:00:00.000Z","2023-05-01T17:15:00.000Z","2023-05-01T17:30:00.000Z","2023-05-01T17:45:00.000Z","2023-05-01T18:00:00.000Z","2023-05-01T18:15:00.000Z","2023-05-01T18:30:00.000Z","2023-05-01T18:45:00.000Z","2023-05-01T19:00:00.000Z","2023-05-01T19:15:00.000Z","2023-05-01T19:30:00.000Z","2023-05-01T19:45:00.000Z","2023-05-01T20:00:00.000Z","2023-05-01T20:15:00.000Z","2023-05-01T20:30:00.000Z","2023-05-01T20:45:00.000Z","2023-05-01T21:00:00.000Z","2023-05-01T21:15:00.000Z","2023-05-01T21:30:00.000Z","2023-05-01T21:45:00.000Z","2023-05-01T22:00:00.000Z","2023-05-01T22:15:00.000Z","2023-05-01T22:30:00.000Z","2023-05-01T22:45:00.000Z","2023-05-01T23:00:00.000Z","2023-05-01T23:15:00.000Z","2023-05-01T23:30:00.000Z","2023-05-01T23:45:00.000Z","2023-05-02T00:00:00.000Z","2023-05-02T00:15:00.000Z","2023-05-02T00:30:00.000Z","2023-05-02T00:45:00.000Z","2023-05-02T01:00:00.000Z","2023-05-02T01:15:00.000Z","2023-05-02T01:30:00.000Z","2023-05-02T01:45:00.000Z","2023-05-02T02:00:00.000Z","2023-05-02T02:15:00.000Z","2023-05-02T02:30:00.000Z","2023-05-02T02:45:00.000Z","2023-05-02T03:00:00.000Z","2023-05-02T03:15:00.000Z","2023-05-02T03:30:00.000Z","2023-05-02T03:45:00.000Z","2023-05-02T04:00:00.000Z","2023-05-02T04:15:00.000Z","2023-05-02T04:30:00.000Z","2023-05-02T04:45:00.000Z","2023-05-02T05:00:00.000Z","2023-05-02T05:15:00.000Z","2023-05-02T05:30:00.000Z","2023-05-02T05:45:00.000Z","2023-05-02T06:00:00.000Z","2023-05-02T06:15:00.000Z","2023-05-02T06:30:00.000Z","2023-05-02T06:45:00.000Z","2023-05-02T07:00:00.000Z","2023-05-02T07:15:00.000Z","2023-05-02T07:30:00.000Z","2023-05-02T07:45:00.000Z","2023-05-02T08:00:00.000Z","2023-05-02T08:15:00.000Z","2023-05-02T08:30:00.000Z","2023-05-02T08:45:00.000Z","2023-05-02T09:00:00.000Z","2023-05-02T09:15:00.000Z","2023-05-02T09:30:00.000Z","2023-05-02T09:45:00.000Z","2023-05-02T10:00:00.000Z","2023-05-02T10:15:00.000Z","2023-05-02T10:30:00.000Z","2023-05-02T10:45:00.000Z","2023-05-02T11:00:00.000Z","2023-05-02T11:15:00.000Z","2023-05-02T11:30:00.000Z","2023-05-02T11:45:00.000Z","2023-05-02T12:00:00.000Z","2023-05-02T12:15:00.000Z","2023-05-02T12:30:00.000Z","2023-05-02T12:45:00.000Z","2023-05-02T13:00:00.000Z","2023-05-02T13:15:00.000Z","2023-05-02T13:30:00.000Z","2023-05-02T13:45:00.000Z","2023-05-02T14:00:00.000Z","2023-05-02T14:15:00.000Z","2023-05-02T14:30:00.000Z","2023-05-02T14:45:00.000Z","2023-05-02T15:00:00.000Z","2023-05-02T15:15:00.000Z","2023-05-02T15:30:00.000Z","2023-05-02T15:45:00.000Z","2023-05-02T16:00:00.000Z","2023-05-02T16:15:00.000Z","2023-05-02T16:30:00.000Z","2023-05-02T16:45:00.000Z","2023-05-02T17:00:00.000Z","2023-05-02T17:15:00.000Z","2023-05-02T17:30:00.000Z","2023-05-02T17:45:00.000Z","2023-05-02T18:00:00.000Z","2023-05-02T18:15:00.000Z","2023-05-02T18:30:00.000Z","2023-05-02T18:45:00.000Z","2023-05-02T19:00:00.000Z","2023-05-02T19:15:00.000Z","2023-05-02T19:30:00.000Z","2023-05-02T19:45:00.000Z","2023-05-02T20:00:00.000Z","2023-05-02T20:15:00.000Z","2023-05-02T20:30:00.000Z","2023-05-02T20:45:00.000Z","2023-05-02T21:00:00.000Z","2023-05-02T21:15:00.000Z","2023-05-02T21:30:00.000Z","2023-05-02T21:45:00.000Z","2023-05-02T22:00:00.000Z","2023-05-02T22:15:00.000Z","2023-05-02T22:30:00.000Z","2023-05-02T22:45:00.000Z","2023-05-02T23:00:00.000Z","2023-05-02T23:15:00.000Z","2023-05-02T23:30:00.000Z","2023-05-02T23:45:00.000Z","2023-05-03T00:00:00.000Z","2023-05-03T00:15:00.000Z","2023-05-03T00:30:00.000Z","2023-05-03T00:45:00.000Z","2023-05-03T01:00:00.000Z","2023-05-03T01:15:00.000Z","2023-05-03T01:30:00.000Z","2023-05-03T01:45:00.000Z","2023-05-03T02:00:00.000Z","2023-05-03T02:15:00.000Z","2023-05-03T02:30:00.000Z","2023-05-03T02:45:00.000Z","2023-05-03T03:00:00.000Z","2023-05-03T03:15:00.000Z","2023-05-03T03:30:00.000Z","2023-05-03T03:45:00.000Z","2023-05-03T04:00:00.000Z","2023-05-03T04:15:00.000Z","2023-05-03T04:30:00.000Z","2023-05-03T04:45:00.000Z","2023-05-03T05:00:00.000Z","2023-05-03T05:15:00.000Z","2023-05-03T05:30:00.000Z","2023-05-03T05:45:00.000Z","2023-05-03T06:00:00.000Z","2023-05-03T06:15:00.000Z","2023-05-03T06:30:00.000Z","2023-05-03T06:45:00.000Z","2023-05-03T07:00:00.000Z","2023-05-03T07:15:00.000Z","2023-05-03T07:30:00.000Z","2023-05-03T07:45:00.000Z","2023-05-03T08:00:00.000Z","2023-05-03T08:15:00.000Z","2023-05-03T08:30:00.000Z","2023-05-03T08:45:00.000Z","2023-05-03T09:00:00.000Z","2023-05-03T09:15:00.000Z","2023-05-03T09:30:00.000Z","2023-05-03T09:45:00.000Z","2023-05-03T10:00:00.000Z","2023-05-03T10:15:00.000Z","2023-05-03T10:30:00.000Z","2023-05-03T10:45:00.000Z","2023-05-03T11:00:00.000Z","2023-05-03T11:15:00.000Z","2023-05-03T11:30:00.000Z","2023-05-03T11:45:00.000Z","2023-05-03T12:00:00.000Z","2023-05-03T12:15:00.000Z","2023-05-03T12:30:00.000Z","2023-05-03T12:45:00.000Z","2023-05-03T13:00:00.000Z","2023-05-03T13:15:00.000Z","2023-05-03T13:30:00.000Z","2023-05-03T13:45:00.000Z","2023-05-03T14:00:00.000Z","2023-05-03T14:15:00.000Z","2023-05-03T14:30:00.000Z","2023-05-03T14:45:00.000Z","2023-05-03T15:00:00.000Z","2023-05-03T15:15:00.000Z","2023-05-03T15:30:00.000Z","2023-05-03T15:45:00.000Z","2023-05-03T16:00:00.000Z","2023-05-03T16:15:00.000Z","2023-05-03T16:30:00.000Z","2023-05-03T16:45:00.000Z","2023-05-03T17:00:00.000Z","2023-05-03T17:15:00.000Z","2023-05-03T17:30:00.000Z","2023-05-03T17:45:00.000Z","2023-05-03T18:00:00.000Z","2023-05-03T18:15:00.000Z","2023-05-03T18:30:00.000Z","2023-05-03T18:45:00.000Z","2023-05-03T19:00:00.000Z","2023-05-03T19:15:00.000Z","2023-05-03T19:30:00.000Z","2023-05-03T19:45:00.000Z","2023-05-03T20:00:00.000Z","2023-05-03T20:15:00.000Z","2023-05-03T20:30:00.000Z","2023-05-03T20:45:00.000Z","2023-05-03T21:00:00.000Z","2023-05-03T21:15:00.000Z","2023-05-03T21:30:00.000Z","2023-05-03T21:45:00.000Z","2023-05-03T22:00:00.000Z","2023-05-03T22:15:00.000Z","2023-05-03T22:30:00.000Z","2023-05-03T22:45:00.000Z","2023-05-03T23:00:00.000Z","2023-05-03T23:15:00.000Z","2023-05-03T23:30:00.000Z","2023-05-03T23:45:00.000Z","2023-05-04T00:00:00.000Z","2023-05-04T00:15:00.000Z","2023-05-04T00:30:00.000Z","2023-05-04T00:45:00.000Z","2023-05-04T01:00:00.000Z","2023-05-04T01:15:00.000Z","2023-05-04T01:30:00.000Z","2023-05-04T01:45:00.000Z","2023-05-04T02:00:00.000Z","2023-05-04T02:15:00.000Z","2023-05-04T02:30:00.000Z","2023-05-04T02:45:00.000Z","2023-05-04T03:00:00.000Z","2023-05-04T03:15:00.000Z","2023-05-04T03:30:00.000Z","2023-05-04T03:45:00.000Z","2023-05-04T04:00:00.000Z","2023-05-04T04:15:00.000Z","2023-05-04T04:30:00.000Z","2023-05-04T04:45:00.000Z","2023-05-04T05:00:00.000Z","2023-05-04T05:15:00.000Z","2023-05-04T05:30:00.000Z","2023-05-04T05:45:00.000Z","2023-05-04T06:00:00.000Z","2023-05-04T06:15:00.000Z","2023-05-04T06:30:00.000Z","2023-05-04T06:45:00.000Z","2023-05-04T07:00:00.000Z","2023-05-04T07:15:00.000Z","2023-05-04T07:30:00.000Z","2023-05-04T07:45:00.000Z","2023-05-04T08:00:00.000Z","2023-05-04T08:15:00.000Z","2023-05-04T08:30:00.000Z","2023-05-04T08:45:00.000Z","2023-05-04T09:00:00.000Z","2023-05-04T09:15:00.000Z","2023-05-04T09:30:00.000Z","2023-05-04T09:45:00.000Z","2023-05-04T10:00:00.000Z","2023-05-04T10:15:00.000Z","2023-05-04T10:30:00.000Z","2023-05-04T10:45:00.000Z","2023-05-04T11:00:00.000Z","2023-05-04T11:15:00.000Z","2023-05-04T11:30:00.000Z","2023-05-04T11:45:00.000Z","2023-05-04T12:00:00.000Z","2023-05-04T12:15:00.000Z","2023-05-04T12:30:00.000Z","2023-05-04T12:45:00.000Z","2023-05-04T13:00:00.000Z","2023-05-04T13:15:00.000Z","2023-05-04T13:30:00.000Z","2023-05-04T13:45:00.000Z","2023-05-04T14:00:00.000Z","2023-05-04T14:15:00.000Z","2023-05-04T14:30:00.000Z","2023-05-04T14:45:00.000Z","2023-05-04T15:00:00.000Z","2023-05-04T15:15:00.000Z","2023-05-04T15:30:00.000Z","2023-05-04T15:45:00.000Z","2023-05-04T16:00:00.000Z","2023-05-04T16:15:00.000Z","2023-05-04T16:30:00.000Z","2023-05-04T16:45:00.000Z","2023-05-04T17:00:00.000Z","2023-05-04T17:15:00.000Z","2023-05-04T17:30:00.000Z","2023-05-04T17:45:00.000Z","2023-05-04T18:00:00.000Z","2023-05-04T18:15:00.000Z","2023-05-04T18:30:00.000Z","2023-05-04T18:45:00.000Z","2023-05-04T19:00:00.000Z","2023-05-04T19:15:00.000Z","2023-05-04T19:30:00.000Z","2023-05-04T19:45:00.000Z","2023-05-04T20:00:00.000Z","2023-05-04T20:15:00.000Z","2023-05-04T20:30:00.000Z","2023-05-04T20:45:00.000Z","2023-05-04T21:00:00.000Z","2023-05-04T21:15:00.000Z","2023-05-04T21:30:00.000Z","2023-05-04T21:45:00.000Z","2023-05-04T22:00:00.000Z"],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,4,3.99,3.99,3.99,3.99,3.99,3.99,3.99,3.99,3.99,3.99,3.99,3.99,3.99,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,3.98,4.01,4.01,3.99,3.990000000000001,4.01,4,3.999999999999999,3.99,4.02,4,4,4.2,3.99,6.12,4,4,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,0.3,0,0,0,0,0,0,0,0,0,0,3.7,3.7,3.7,3.7,3.7,3.7,3.7,4,4,4,4,4,4,4,4,4,4,4,4,4,3.99,3.99,4.01,4,4,4,4,4.01,3.99,4,3.99,3.99,3.99,3.99,3.99,3.99,3.99,3.99,3.99,3.99,4,4,4,3.99,3.99,3.99,4.01,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,2.5,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,4,4,4,4,4,4,4,4,4,3.99,3.99,3.99,3.99,3.99,3.99,3.99,3.99,3.99,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,3.99,4.01,3.99,4.02,3.98,4.01,3.99,3.99,4,4,3.99,3.99,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,7.4,11.1,11.1,11.1,11.1,11.1,11.1,11.1,11.1,11.1,11.1,11.1,8.879999999999999,7.4,10.5,7.4,7.4,5.18,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.84,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,2.66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,0.3,0,0,0,0,0,0,0,0,0,0,3.7,3.7,3.7,3.7,3.7,3.7,3.7,7.4,7.4,7.4,7.4,7.4,7.4,7.4,7.4,5.32,3.7,3.7,3.7,3.7,7.4,7.4,4.16,3.7,7.4,7.4,7.4,7.4,7.4,7.4,7.4,7.4,7.4,7.4,7.4,7.4,7.4,7.4,7.1,3.7,3.7,2.82,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,2.5,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,7.4,7.4,7.4,7.4,7.4,7.4,7.4,7.4,7.4,11.1,11.1,11.1,11.1,7.98,7.4,7.4,7.4,4.720000000000001,7.4,7.4,7.4,7.4,7.4,7.4,7.4,7.4,5.76,3.7,3.7,3.7,3.7,3.7,3.7,1.5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],"fixedtz":true,"tzone":"Europe/Amsterdam","css":"/* Dygraph styling */\n\n.dygraph-title {\n  text-align: left;\n  font-weight: normal;\n  font-size: 70%;\n}\n\n.dygraph-legend {\n  color: white;\n  background-color: #BABABA !important;\n    padding-left:5px;\n  border-color:#BABABA;\n    border-style:solid;\n  border-width:thin;\n  transition:0s 4s;\n  z-index: 20 !important;\n  box-shadow: 2px 2px 5px rgba(0, 0, 0, .3);\n  border-radius: 3px;\n}\n\n.dygraph-legend:hover{\n  transform: translate(-110%);\n  transition: 0s;\n}\n\n.dygraph-legend > span {\n  color: black;\n  padding-left:5px;\n  margin-left:-5px;\n  background-color: white !important;\n  display: block;\n}\n\n.dygraph-legend > span > span{\n  display: inline;\n}\n\n.highlight {\n  border-left: 2px solid #BABABA;\n  padding-left:3px !important;\n\n}"},"evals":[],"jsHooks":[]}</script><p>The demand is being postponed by the smart charging algorithm to
match the setpoint during all possible hours, but when the <strong>end
of the optimization window</strong> is reaching, the vehicle must charge
to accomplish with the <strong>energy requirements</strong> by the EV
user. This means that all EV users are not able to charge all their
requirements under these grid conditions.</p>
<p>Therefore, in these scenarios where the grid stability is the
priority we have to assume that <strong>not all EV can be completely
charged</strong>, and we should be able to simulate this impact to the
EV user. This scenario can be configured with the parameter
<code>energy_min</code>, as the required minimum ratio of the energy
required by the EV user. With <code>energy_min = 0</code> the algorithm
considers that EVs may disconnect without charging all their energy
requirements, while with <code>energy_min = 1</code> the algorithm will
make sure that all EV users charge their energy requirements, even
though the setpoint is not achieved.</p>
<p>Let’s try a value of <code>energy_min = 0</code> to see how the
algorithm works and the corresponding impact to the vehicles:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sc_results</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/smart_charging.html">smart_charging</a></span><span class="op">(</span></span>
<span>  sessions <span class="op">=</span> <span class="va">ev_sessions</span>,</span>
<span>  opt_data <span class="op">=</span> <span class="va">opt_data</span>, </span>
<span>  opt_objective <span class="op">=</span> <span class="st">"none"</span>,</span>
<span>  method <span class="op">=</span> <span class="st">"curtail"</span>,</span>
<span>  window_days <span class="op">=</span> <span class="fl">1</span>, </span>
<span>  window_start_hour <span class="op">=</span> <span class="fl">6</span>,</span>
<span>  energy_min <span class="op">=</span> <span class="fl">0</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning: `production` variable not found in `opt_data`. No local energy production will be considered.</span></span></code></pre>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">sc_results</span>, sessions <span class="op">=</span> <span class="va">ev_sessions</span><span class="op">)</span></span></code></pre></div>
<div class="dygraphs html-widget html-fill-item" id="htmlwidget-36aa3d2a04d42bbc2145" style="width:700px;height:432.632880098888px;"></div>
<script type="application/json" data-for="htmlwidget-36aa3d2a04d42bbc2145">{"x":{"attrs":{"ylabel":"Power (kW)","labels":["minute","Setpoint","Flexible EVs","Original EVs"],"axes":{"x":{"pixelsPerLabel":60,"drawAxis":true},"y":{"drawAxis":true}},"legend":"auto","labelsDivWidth":250,"labelsShowZeroValues":false,"labelsSeparateLines":false,"hideOverlayOnMouseOut":true,"stackedGraph":false,"fillGraph":false,"fillAlpha":0.15,"stepPlot":false,"drawPoints":false,"pointSize":1,"drawGapEdgePoints":false,"connectSeparatedPoints":false,"strokeWidth":2,"strokeBorderColor":"white","colorValue":0.5,"colorSaturation":1,"includeZero":false,"drawAxesAtZero":false,"logscale":false,"axisTickSize":3,"axisLineColor":"black","axisLineWidth":0.3,"axisLabelColor":"black","axisLabelFontSize":14,"axisLabelWidth":60,"drawGrid":true,"gridLineWidth":0.3,"rightGap":5,"digitsAfterDecimal":2,"labelsKMB":false,"labelsKMG2":false,"labelsUTC":false,"maxNumberWidth":6,"animatedZooms":false,"mobileDisableYTouch":true,"retainDateWindow":true,"disableZoom":false,"colors":["red","navy","gray"],"series":{"Setpoint":{"axis":"y","strokeWidth":2,"strokePattern":[7,3]},"Flexible EVs":{"axis":"y"},"Original EVs":{"axis":"y","strokeWidth":2,"strokePattern":[7,3]}}},"scale":"minute","annotations":[],"shadings":[],"events":[],"format":"date","data":[["2023-04-30T22:00:00.000Z","2023-04-30T22:15:00.000Z","2023-04-30T22:30:00.000Z","2023-04-30T22:45:00.000Z","2023-04-30T23:00:00.000Z","2023-04-30T23:15:00.000Z","2023-04-30T23:30:00.000Z","2023-04-30T23:45:00.000Z","2023-05-01T00:00:00.000Z","2023-05-01T00:15:00.000Z","2023-05-01T00:30:00.000Z","2023-05-01T00:45:00.000Z","2023-05-01T01:00:00.000Z","2023-05-01T01:15:00.000Z","2023-05-01T01:30:00.000Z","2023-05-01T01:45:00.000Z","2023-05-01T02:00:00.000Z","2023-05-01T02:15:00.000Z","2023-05-01T02:30:00.000Z","2023-05-01T02:45:00.000Z","2023-05-01T03:00:00.000Z","2023-05-01T03:15:00.000Z","2023-05-01T03:30:00.000Z","2023-05-01T03:45:00.000Z","2023-05-01T04:00:00.000Z","2023-05-01T04:15:00.000Z","2023-05-01T04:30:00.000Z","2023-05-01T04:45:00.000Z","2023-05-01T05:00:00.000Z","2023-05-01T05:15:00.000Z","2023-05-01T05:30:00.000Z","2023-05-01T05:45:00.000Z","2023-05-01T06:00:00.000Z","2023-05-01T06:15:00.000Z","2023-05-01T06:30:00.000Z","2023-05-01T06:45:00.000Z","2023-05-01T07:00:00.000Z","2023-05-01T07:15:00.000Z","2023-05-01T07:30:00.000Z","2023-05-01T07:45:00.000Z","2023-05-01T08:00:00.000Z","2023-05-01T08:15:00.000Z","2023-05-01T08:30:00.000Z","2023-05-01T08:45:00.000Z","2023-05-01T09:00:00.000Z","2023-05-01T09:15:00.000Z","2023-05-01T09:30:00.000Z","2023-05-01T09:45:00.000Z","2023-05-01T10:00:00.000Z","2023-05-01T10:15:00.000Z","2023-05-01T10:30:00.000Z","2023-05-01T10:45:00.000Z","2023-05-01T11:00:00.000Z","2023-05-01T11:15:00.000Z","2023-05-01T11:30:00.000Z","2023-05-01T11:45:00.000Z","2023-05-01T12:00:00.000Z","2023-05-01T12:15:00.000Z","2023-05-01T12:30:00.000Z","2023-05-01T12:45:00.000Z","2023-05-01T13:00:00.000Z","2023-05-01T13:15:00.000Z","2023-05-01T13:30:00.000Z","2023-05-01T13:45:00.000Z","2023-05-01T14:00:00.000Z","2023-05-01T14:15:00.000Z","2023-05-01T14:30:00.000Z","2023-05-01T14:45:00.000Z","2023-05-01T15:00:00.000Z","2023-05-01T15:15:00.000Z","2023-05-01T15:30:00.000Z","2023-05-01T15:45:00.000Z","2023-05-01T16:00:00.000Z","2023-05-01T16:15:00.000Z","2023-05-01T16:30:00.000Z","2023-05-01T16:45:00.000Z","2023-05-01T17:00:00.000Z","2023-05-01T17:15:00.000Z","2023-05-01T17:30:00.000Z","2023-05-01T17:45:00.000Z","2023-05-01T18:00:00.000Z","2023-05-01T18:15:00.000Z","2023-05-01T18:30:00.000Z","2023-05-01T18:45:00.000Z","2023-05-01T19:00:00.000Z","2023-05-01T19:15:00.000Z","2023-05-01T19:30:00.000Z","2023-05-01T19:45:00.000Z","2023-05-01T20:00:00.000Z","2023-05-01T20:15:00.000Z","2023-05-01T20:30:00.000Z","2023-05-01T20:45:00.000Z","2023-05-01T21:00:00.000Z","2023-05-01T21:15:00.000Z","2023-05-01T21:30:00.000Z","2023-05-01T21:45:00.000Z","2023-05-01T22:00:00.000Z","2023-05-01T22:15:00.000Z","2023-05-01T22:30:00.000Z","2023-05-01T22:45:00.000Z","2023-05-01T23:00:00.000Z","2023-05-01T23:15:00.000Z","2023-05-01T23:30:00.000Z","2023-05-01T23:45:00.000Z","2023-05-02T00:00:00.000Z","2023-05-02T00:15:00.000Z","2023-05-02T00:30:00.000Z","2023-05-02T00:45:00.000Z","2023-05-02T01:00:00.000Z","2023-05-02T01:15:00.000Z","2023-05-02T01:30:00.000Z","2023-05-02T01:45:00.000Z","2023-05-02T02:00:00.000Z","2023-05-02T02:15:00.000Z","2023-05-02T02:30:00.000Z","2023-05-02T02:45:00.000Z","2023-05-02T03:00:00.000Z","2023-05-02T03:15:00.000Z","2023-05-02T03:30:00.000Z","2023-05-02T03:45:00.000Z","2023-05-02T04:00:00.000Z","2023-05-02T04:15:00.000Z","2023-05-02T04:30:00.000Z","2023-05-02T04:45:00.000Z","2023-05-02T05:00:00.000Z","2023-05-02T05:15:00.000Z","2023-05-02T05:30:00.000Z","2023-05-02T05:45:00.000Z","2023-05-02T06:00:00.000Z","2023-05-02T06:15:00.000Z","2023-05-02T06:30:00.000Z","2023-05-02T06:45:00.000Z","2023-05-02T07:00:00.000Z","2023-05-02T07:15:00.000Z","2023-05-02T07:30:00.000Z","2023-05-02T07:45:00.000Z","2023-05-02T08:00:00.000Z","2023-05-02T08:15:00.000Z","2023-05-02T08:30:00.000Z","2023-05-02T08:45:00.000Z","2023-05-02T09:00:00.000Z","2023-05-02T09:15:00.000Z","2023-05-02T09:30:00.000Z","2023-05-02T09:45:00.000Z","2023-05-02T10:00:00.000Z","2023-05-02T10:15:00.000Z","2023-05-02T10:30:00.000Z","2023-05-02T10:45:00.000Z","2023-05-02T11:00:00.000Z","2023-05-02T11:15:00.000Z","2023-05-02T11:30:00.000Z","2023-05-02T11:45:00.000Z","2023-05-02T12:00:00.000Z","2023-05-02T12:15:00.000Z","2023-05-02T12:30:00.000Z","2023-05-02T12:45:00.000Z","2023-05-02T13:00:00.000Z","2023-05-02T13:15:00.000Z","2023-05-02T13:30:00.000Z","2023-05-02T13:45:00.000Z","2023-05-02T14:00:00.000Z","2023-05-02T14:15:00.000Z","2023-05-02T14:30:00.000Z","2023-05-02T14:45:00.000Z","2023-05-02T15:00:00.000Z","2023-05-02T15:15:00.000Z","2023-05-02T15:30:00.000Z","2023-05-02T15:45:00.000Z","2023-05-02T16:00:00.000Z","2023-05-02T16:15:00.000Z","2023-05-02T16:30:00.000Z","2023-05-02T16:45:00.000Z","2023-05-02T17:00:00.000Z","2023-05-02T17:15:00.000Z","2023-05-02T17:30:00.000Z","2023-05-02T17:45:00.000Z","2023-05-02T18:00:00.000Z","2023-05-02T18:15:00.000Z","2023-05-02T18:30:00.000Z","2023-05-02T18:45:00.000Z","2023-05-02T19:00:00.000Z","2023-05-02T19:15:00.000Z","2023-05-02T19:30:00.000Z","2023-05-02T19:45:00.000Z","2023-05-02T20:00:00.000Z","2023-05-02T20:15:00.000Z","2023-05-02T20:30:00.000Z","2023-05-02T20:45:00.000Z","2023-05-02T21:00:00.000Z","2023-05-02T21:15:00.000Z","2023-05-02T21:30:00.000Z","2023-05-02T21:45:00.000Z","2023-05-02T22:00:00.000Z","2023-05-02T22:15:00.000Z","2023-05-02T22:30:00.000Z","2023-05-02T22:45:00.000Z","2023-05-02T23:00:00.000Z","2023-05-02T23:15:00.000Z","2023-05-02T23:30:00.000Z","2023-05-02T23:45:00.000Z","2023-05-03T00:00:00.000Z","2023-05-03T00:15:00.000Z","2023-05-03T00:30:00.000Z","2023-05-03T00:45:00.000Z","2023-05-03T01:00:00.000Z","2023-05-03T01:15:00.000Z","2023-05-03T01:30:00.000Z","2023-05-03T01:45:00.000Z","2023-05-03T02:00:00.000Z","2023-05-03T02:15:00.000Z","2023-05-03T02:30:00.000Z","2023-05-03T02:45:00.000Z","2023-05-03T03:00:00.000Z","2023-05-03T03:15:00.000Z","2023-05-03T03:30:00.000Z","2023-05-03T03:45:00.000Z","2023-05-03T04:00:00.000Z","2023-05-03T04:15:00.000Z","2023-05-03T04:30:00.000Z","2023-05-03T04:45:00.000Z","2023-05-03T05:00:00.000Z","2023-05-03T05:15:00.000Z","2023-05-03T05:30:00.000Z","2023-05-03T05:45:00.000Z","2023-05-03T06:00:00.000Z","2023-05-03T06:15:00.000Z","2023-05-03T06:30:00.000Z","2023-05-03T06:45:00.000Z","2023-05-03T07:00:00.000Z","2023-05-03T07:15:00.000Z","2023-05-03T07:30:00.000Z","2023-05-03T07:45:00.000Z","2023-05-03T08:00:00.000Z","2023-05-03T08:15:00.000Z","2023-05-03T08:30:00.000Z","2023-05-03T08:45:00.000Z","2023-05-03T09:00:00.000Z","2023-05-03T09:15:00.000Z","2023-05-03T09:30:00.000Z","2023-05-03T09:45:00.000Z","2023-05-03T10:00:00.000Z","2023-05-03T10:15:00.000Z","2023-05-03T10:30:00.000Z","2023-05-03T10:45:00.000Z","2023-05-03T11:00:00.000Z","2023-05-03T11:15:00.000Z","2023-05-03T11:30:00.000Z","2023-05-03T11:45:00.000Z","2023-05-03T12:00:00.000Z","2023-05-03T12:15:00.000Z","2023-05-03T12:30:00.000Z","2023-05-03T12:45:00.000Z","2023-05-03T13:00:00.000Z","2023-05-03T13:15:00.000Z","2023-05-03T13:30:00.000Z","2023-05-03T13:45:00.000Z","2023-05-03T14:00:00.000Z","2023-05-03T14:15:00.000Z","2023-05-03T14:30:00.000Z","2023-05-03T14:45:00.000Z","2023-05-03T15:00:00.000Z","2023-05-03T15:15:00.000Z","2023-05-03T15:30:00.000Z","2023-05-03T15:45:00.000Z","2023-05-03T16:00:00.000Z","2023-05-03T16:15:00.000Z","2023-05-03T16:30:00.000Z","2023-05-03T16:45:00.000Z","2023-05-03T17:00:00.000Z","2023-05-03T17:15:00.000Z","2023-05-03T17:30:00.000Z","2023-05-03T17:45:00.000Z","2023-05-03T18:00:00.000Z","2023-05-03T18:15:00.000Z","2023-05-03T18:30:00.000Z","2023-05-03T18:45:00.000Z","2023-05-03T19:00:00.000Z","2023-05-03T19:15:00.000Z","2023-05-03T19:30:00.000Z","2023-05-03T19:45:00.000Z","2023-05-03T20:00:00.000Z","2023-05-03T20:15:00.000Z","2023-05-03T20:30:00.000Z","2023-05-03T20:45:00.000Z","2023-05-03T21:00:00.000Z","2023-05-03T21:15:00.000Z","2023-05-03T21:30:00.000Z","2023-05-03T21:45:00.000Z","2023-05-03T22:00:00.000Z","2023-05-03T22:15:00.000Z","2023-05-03T22:30:00.000Z","2023-05-03T22:45:00.000Z","2023-05-03T23:00:00.000Z","2023-05-03T23:15:00.000Z","2023-05-03T23:30:00.000Z","2023-05-03T23:45:00.000Z","2023-05-04T00:00:00.000Z","2023-05-04T00:15:00.000Z","2023-05-04T00:30:00.000Z","2023-05-04T00:45:00.000Z","2023-05-04T01:00:00.000Z","2023-05-04T01:15:00.000Z","2023-05-04T01:30:00.000Z","2023-05-04T01:45:00.000Z","2023-05-04T02:00:00.000Z","2023-05-04T02:15:00.000Z","2023-05-04T02:30:00.000Z","2023-05-04T02:45:00.000Z","2023-05-04T03:00:00.000Z","2023-05-04T03:15:00.000Z","2023-05-04T03:30:00.000Z","2023-05-04T03:45:00.000Z","2023-05-04T04:00:00.000Z","2023-05-04T04:15:00.000Z","2023-05-04T04:30:00.000Z","2023-05-04T04:45:00.000Z","2023-05-04T05:00:00.000Z","2023-05-04T05:15:00.000Z","2023-05-04T05:30:00.000Z","2023-05-04T05:45:00.000Z","2023-05-04T06:00:00.000Z","2023-05-04T06:15:00.000Z","2023-05-04T06:30:00.000Z","2023-05-04T06:45:00.000Z","2023-05-04T07:00:00.000Z","2023-05-04T07:15:00.000Z","2023-05-04T07:30:00.000Z","2023-05-04T07:45:00.000Z","2023-05-04T08:00:00.000Z","2023-05-04T08:15:00.000Z","2023-05-04T08:30:00.000Z","2023-05-04T08:45:00.000Z","2023-05-04T09:00:00.000Z","2023-05-04T09:15:00.000Z","2023-05-04T09:30:00.000Z","2023-05-04T09:45:00.000Z","2023-05-04T10:00:00.000Z","2023-05-04T10:15:00.000Z","2023-05-04T10:30:00.000Z","2023-05-04T10:45:00.000Z","2023-05-04T11:00:00.000Z","2023-05-04T11:15:00.000Z","2023-05-04T11:30:00.000Z","2023-05-04T11:45:00.000Z","2023-05-04T12:00:00.000Z","2023-05-04T12:15:00.000Z","2023-05-04T12:30:00.000Z","2023-05-04T12:45:00.000Z","2023-05-04T13:00:00.000Z","2023-05-04T13:15:00.000Z","2023-05-04T13:30:00.000Z","2023-05-04T13:45:00.000Z","2023-05-04T14:00:00.000Z","2023-05-04T14:15:00.000Z","2023-05-04T14:30:00.000Z","2023-05-04T14:45:00.000Z","2023-05-04T15:00:00.000Z","2023-05-04T15:15:00.000Z","2023-05-04T15:30:00.000Z","2023-05-04T15:45:00.000Z","2023-05-04T16:00:00.000Z","2023-05-04T16:15:00.000Z","2023-05-04T16:30:00.000Z","2023-05-04T16:45:00.000Z","2023-05-04T17:00:00.000Z","2023-05-04T17:15:00.000Z","2023-05-04T17:30:00.000Z","2023-05-04T17:45:00.000Z","2023-05-04T18:00:00.000Z","2023-05-04T18:15:00.000Z","2023-05-04T18:30:00.000Z","2023-05-04T18:45:00.000Z","2023-05-04T19:00:00.000Z","2023-05-04T19:15:00.000Z","2023-05-04T19:30:00.000Z","2023-05-04T19:45:00.000Z","2023-05-04T20:00:00.000Z","2023-05-04T20:15:00.000Z","2023-05-04T20:30:00.000Z","2023-05-04T20:45:00.000Z","2023-05-04T21:00:00.000Z","2023-05-04T21:15:00.000Z","2023-05-04T21:30:00.000Z","2023-05-04T21:45:00.000Z","2023-05-04T22:00:00.000Z"],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,4,3.99,3.99,3.99,3.99,3.99,3.99,3.99,3.99,3.99,3.99,3.99,3.99,3.99,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,3.98,4.01,4.01,3.99,3.990000000000001,4.01,4,3.999999999999999,3.99,4.02,4,4,3.99,3.99,3.99,3.99,3.99,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,0.3,0,0,0,0,0,0,0,0,0,0,3.7,3.7,3.7,3.7,3.7,3.7,3.7,4,4,4,4,4,4,4,4,4,4,4,4,4,3.99,3.99,4.01,4,4,4,4,4.01,3.99,4,3.99,3.99,3.99,3.99,3.99,3.99,3.99,3.99,3.99,3.99,4,4,4,3.99,3.99,3.99,4.01,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,2.5,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,4,4,4,4,4,4,4,4,4,3.99,3.99,3.99,3.99,3.99,3.99,3.99,3.99,3.99,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,3.99,4.01,3.99,4.02,3.98,4.01,3.99,3.99,4,4,3.99,3.99,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,7.4,11.1,11.1,11.1,11.1,11.1,11.1,11.1,11.1,11.1,11.1,11.1,8.879999999999999,7.4,10.5,7.4,7.4,5.18,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.84,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,2.66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,0.3,0,0,0,0,0,0,0,0,0,0,3.7,3.7,3.7,3.7,3.7,3.7,3.7,7.4,7.4,7.4,7.4,7.4,7.4,7.4,7.4,5.32,3.7,3.7,3.7,3.7,7.4,7.4,4.16,3.7,7.4,7.4,7.4,7.4,7.4,7.4,7.4,7.4,7.4,7.4,7.4,7.4,7.4,7.4,7.1,3.7,3.7,2.82,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,2.5,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,7.4,7.4,7.4,7.4,7.4,7.4,7.4,7.4,7.4,11.1,11.1,11.1,11.1,7.98,7.4,7.4,7.4,4.720000000000001,7.4,7.4,7.4,7.4,7.4,7.4,7.4,7.4,5.76,3.7,3.7,3.7,3.7,3.7,3.7,1.5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],"fixedtz":true,"tzone":"Europe/Amsterdam","css":"/* Dygraph styling */\n\n.dygraph-title {\n  text-align: left;\n  font-weight: normal;\n  font-size: 70%;\n}\n\n.dygraph-legend {\n  color: white;\n  background-color: #BABABA !important;\n    padding-left:5px;\n  border-color:#BABABA;\n    border-style:solid;\n  border-width:thin;\n  transition:0s 4s;\n  z-index: 20 !important;\n  box-shadow: 2px 2px 5px rgba(0, 0, 0, .3);\n  border-radius: 3px;\n}\n\n.dygraph-legend:hover{\n  transform: translate(-110%);\n  transition: 0s;\n}\n\n.dygraph-legend > span {\n  color: black;\n  padding-left:5px;\n  margin-left:-5px;\n  background-color: white !important;\n  display: block;\n}\n\n.dygraph-legend > span > span{\n  display: inline;\n}\n\n.highlight {\n  border-left: 2px solid #BABABA;\n  padding-left:3px !important;\n\n}"},"evals":[],"jsHooks":[]}</script><p>Now we see that the grid capacity constraint is completely respected.
<strong>But at which price?</strong></p>
<p>We can calculate the impact on the EV user in terms of
<strong>percentage of energy charged</strong> with the function
<code><a href="../reference/summarise_energy_charged.html">summarise_energy_charged()</a></code>:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/summarise_energy_charged.html">summarise_energy_charged</a></span><span class="op">(</span><span class="va">sc_results</span>, sessions <span class="op">=</span> <span class="va">ev_sessions</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span>caption <span class="op">=</span> <span class="st">"Percentage of energy charged (%)"</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<caption>Percentage of energy charged (%)</caption>
<thead><tr class="header">
<th align="left">Session</th>
<th align="right">EnergyRequired</th>
<th align="right">EnergyCharged</th>
<th align="right">PctEnergyCharged</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">S1</td>
<td align="right">17.02</td>
<td align="right">16.16</td>
<td align="right">95</td>
</tr>
<tr class="even">
<td align="left">S2</td>
<td align="right">11.47</td>
<td align="right">11.47</td>
<td align="right">100</td>
</tr>
<tr class="odd">
<td align="left">S3</td>
<td align="right">12.80</td>
<td align="right">12.71</td>
<td align="right">99</td>
</tr>
<tr class="even">
<td align="left">S4</td>
<td align="right">15.76</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">S5</td>
<td align="right">14.54</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">S6</td>
<td align="right">17.65</td>
<td align="right">17.65</td>
<td align="right">100</td>
</tr>
<tr class="odd">
<td align="left">S7</td>
<td align="right">14.28</td>
<td align="right">14.28</td>
<td align="right">100</td>
</tr>
<tr class="even">
<td align="left">S8</td>
<td align="right">13.99</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">S9</td>
<td align="right">17.50</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">S10</td>
<td align="right">16.43</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">S11</td>
<td align="right">10.80</td>
<td align="right">10.80</td>
<td align="right">100</td>
</tr>
<tr class="even">
<td align="left">S12</td>
<td align="right">14.02</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">S13</td>
<td align="right">15.98</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">S14</td>
<td align="right">16.24</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">S15</td>
<td align="right">14.25</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
</tbody>
</table>
<p>We see that, to achieve our setpoint, some EV users can only charge a
bit more than the 50% of their energy requirements.</p>
<p>We can also check that setting <code>energy_min = 0.7</code>, for
example, results in surpassing the setpoint again, but all EV users
charge at least a 70% of their energy requirements:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sc_results</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/smart_charging.html">smart_charging</a></span><span class="op">(</span></span>
<span>  sessions <span class="op">=</span> <span class="va">ev_sessions</span>,</span>
<span>  opt_data <span class="op">=</span> <span class="va">opt_data</span>, </span>
<span>  opt_objective <span class="op">=</span> <span class="st">"none"</span>,</span>
<span>  method <span class="op">=</span> <span class="st">"curtail"</span>,</span>
<span>  window_days <span class="op">=</span> <span class="fl">1</span>, </span>
<span>  window_start_hour <span class="op">=</span> <span class="fl">6</span>,</span>
<span>  energy_min <span class="op">=</span> <span class="fl">0.7</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning: `production` variable not found in `opt_data`. No local energy production will be considered.</span></span></code></pre>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">sc_results</span>, sessions <span class="op">=</span> <span class="va">ev_sessions</span><span class="op">)</span></span></code></pre></div>
<div class="dygraphs html-widget html-fill-item" id="htmlwidget-febe03efa1a2d8d52a86" style="width:700px;height:432.632880098888px;"></div>
<script type="application/json" data-for="htmlwidget-febe03efa1a2d8d52a86">{"x":{"attrs":{"ylabel":"Power (kW)","labels":["minute","Setpoint","Flexible EVs","Original EVs"],"axes":{"x":{"pixelsPerLabel":60,"drawAxis":true},"y":{"drawAxis":true}},"legend":"auto","labelsDivWidth":250,"labelsShowZeroValues":false,"labelsSeparateLines":false,"hideOverlayOnMouseOut":true,"stackedGraph":false,"fillGraph":false,"fillAlpha":0.15,"stepPlot":false,"drawPoints":false,"pointSize":1,"drawGapEdgePoints":false,"connectSeparatedPoints":false,"strokeWidth":2,"strokeBorderColor":"white","colorValue":0.5,"colorSaturation":1,"includeZero":false,"drawAxesAtZero":false,"logscale":false,"axisTickSize":3,"axisLineColor":"black","axisLineWidth":0.3,"axisLabelColor":"black","axisLabelFontSize":14,"axisLabelWidth":60,"drawGrid":true,"gridLineWidth":0.3,"rightGap":5,"digitsAfterDecimal":2,"labelsKMB":false,"labelsKMG2":false,"labelsUTC":false,"maxNumberWidth":6,"animatedZooms":false,"mobileDisableYTouch":true,"retainDateWindow":true,"disableZoom":false,"colors":["red","navy","gray"],"series":{"Setpoint":{"axis":"y","strokeWidth":2,"strokePattern":[7,3]},"Flexible EVs":{"axis":"y"},"Original EVs":{"axis":"y","strokeWidth":2,"strokePattern":[7,3]}}},"scale":"minute","annotations":[],"shadings":[],"events":[],"format":"date","data":[["2023-04-30T22:00:00.000Z","2023-04-30T22:15:00.000Z","2023-04-30T22:30:00.000Z","2023-04-30T22:45:00.000Z","2023-04-30T23:00:00.000Z","2023-04-30T23:15:00.000Z","2023-04-30T23:30:00.000Z","2023-04-30T23:45:00.000Z","2023-05-01T00:00:00.000Z","2023-05-01T00:15:00.000Z","2023-05-01T00:30:00.000Z","2023-05-01T00:45:00.000Z","2023-05-01T01:00:00.000Z","2023-05-01T01:15:00.000Z","2023-05-01T01:30:00.000Z","2023-05-01T01:45:00.000Z","2023-05-01T02:00:00.000Z","2023-05-01T02:15:00.000Z","2023-05-01T02:30:00.000Z","2023-05-01T02:45:00.000Z","2023-05-01T03:00:00.000Z","2023-05-01T03:15:00.000Z","2023-05-01T03:30:00.000Z","2023-05-01T03:45:00.000Z","2023-05-01T04:00:00.000Z","2023-05-01T04:15:00.000Z","2023-05-01T04:30:00.000Z","2023-05-01T04:45:00.000Z","2023-05-01T05:00:00.000Z","2023-05-01T05:15:00.000Z","2023-05-01T05:30:00.000Z","2023-05-01T05:45:00.000Z","2023-05-01T06:00:00.000Z","2023-05-01T06:15:00.000Z","2023-05-01T06:30:00.000Z","2023-05-01T06:45:00.000Z","2023-05-01T07:00:00.000Z","2023-05-01T07:15:00.000Z","2023-05-01T07:30:00.000Z","2023-05-01T07:45:00.000Z","2023-05-01T08:00:00.000Z","2023-05-01T08:15:00.000Z","2023-05-01T08:30:00.000Z","2023-05-01T08:45:00.000Z","2023-05-01T09:00:00.000Z","2023-05-01T09:15:00.000Z","2023-05-01T09:30:00.000Z","2023-05-01T09:45:00.000Z","2023-05-01T10:00:00.000Z","2023-05-01T10:15:00.000Z","2023-05-01T10:30:00.000Z","2023-05-01T10:45:00.000Z","2023-05-01T11:00:00.000Z","2023-05-01T11:15:00.000Z","2023-05-01T11:30:00.000Z","2023-05-01T11:45:00.000Z","2023-05-01T12:00:00.000Z","2023-05-01T12:15:00.000Z","2023-05-01T12:30:00.000Z","2023-05-01T12:45:00.000Z","2023-05-01T13:00:00.000Z","2023-05-01T13:15:00.000Z","2023-05-01T13:30:00.000Z","2023-05-01T13:45:00.000Z","2023-05-01T14:00:00.000Z","2023-05-01T14:15:00.000Z","2023-05-01T14:30:00.000Z","2023-05-01T14:45:00.000Z","2023-05-01T15:00:00.000Z","2023-05-01T15:15:00.000Z","2023-05-01T15:30:00.000Z","2023-05-01T15:45:00.000Z","2023-05-01T16:00:00.000Z","2023-05-01T16:15:00.000Z","2023-05-01T16:30:00.000Z","2023-05-01T16:45:00.000Z","2023-05-01T17:00:00.000Z","2023-05-01T17:15:00.000Z","2023-05-01T17:30:00.000Z","2023-05-01T17:45:00.000Z","2023-05-01T18:00:00.000Z","2023-05-01T18:15:00.000Z","2023-05-01T18:30:00.000Z","2023-05-01T18:45:00.000Z","2023-05-01T19:00:00.000Z","2023-05-01T19:15:00.000Z","2023-05-01T19:30:00.000Z","2023-05-01T19:45:00.000Z","2023-05-01T20:00:00.000Z","2023-05-01T20:15:00.000Z","2023-05-01T20:30:00.000Z","2023-05-01T20:45:00.000Z","2023-05-01T21:00:00.000Z","2023-05-01T21:15:00.000Z","2023-05-01T21:30:00.000Z","2023-05-01T21:45:00.000Z","2023-05-01T22:00:00.000Z","2023-05-01T22:15:00.000Z","2023-05-01T22:30:00.000Z","2023-05-01T22:45:00.000Z","2023-05-01T23:00:00.000Z","2023-05-01T23:15:00.000Z","2023-05-01T23:30:00.000Z","2023-05-01T23:45:00.000Z","2023-05-02T00:00:00.000Z","2023-05-02T00:15:00.000Z","2023-05-02T00:30:00.000Z","2023-05-02T00:45:00.000Z","2023-05-02T01:00:00.000Z","2023-05-02T01:15:00.000Z","2023-05-02T01:30:00.000Z","2023-05-02T01:45:00.000Z","2023-05-02T02:00:00.000Z","2023-05-02T02:15:00.000Z","2023-05-02T02:30:00.000Z","2023-05-02T02:45:00.000Z","2023-05-02T03:00:00.000Z","2023-05-02T03:15:00.000Z","2023-05-02T03:30:00.000Z","2023-05-02T03:45:00.000Z","2023-05-02T04:00:00.000Z","2023-05-02T04:15:00.000Z","2023-05-02T04:30:00.000Z","2023-05-02T04:45:00.000Z","2023-05-02T05:00:00.000Z","2023-05-02T05:15:00.000Z","2023-05-02T05:30:00.000Z","2023-05-02T05:45:00.000Z","2023-05-02T06:00:00.000Z","2023-05-02T06:15:00.000Z","2023-05-02T06:30:00.000Z","2023-05-02T06:45:00.000Z","2023-05-02T07:00:00.000Z","2023-05-02T07:15:00.000Z","2023-05-02T07:30:00.000Z","2023-05-02T07:45:00.000Z","2023-05-02T08:00:00.000Z","2023-05-02T08:15:00.000Z","2023-05-02T08:30:00.000Z","2023-05-02T08:45:00.000Z","2023-05-02T09:00:00.000Z","2023-05-02T09:15:00.000Z","2023-05-02T09:30:00.000Z","2023-05-02T09:45:00.000Z","2023-05-02T10:00:00.000Z","2023-05-02T10:15:00.000Z","2023-05-02T10:30:00.000Z","2023-05-02T10:45:00.000Z","2023-05-02T11:00:00.000Z","2023-05-02T11:15:00.000Z","2023-05-02T11:30:00.000Z","2023-05-02T11:45:00.000Z","2023-05-02T12:00:00.000Z","2023-05-02T12:15:00.000Z","2023-05-02T12:30:00.000Z","2023-05-02T12:45:00.000Z","2023-05-02T13:00:00.000Z","2023-05-02T13:15:00.000Z","2023-05-02T13:30:00.000Z","2023-05-02T13:45:00.000Z","2023-05-02T14:00:00.000Z","2023-05-02T14:15:00.000Z","2023-05-02T14:30:00.000Z","2023-05-02T14:45:00.000Z","2023-05-02T15:00:00.000Z","2023-05-02T15:15:00.000Z","2023-05-02T15:30:00.000Z","2023-05-02T15:45:00.000Z","2023-05-02T16:00:00.000Z","2023-05-02T16:15:00.000Z","2023-05-02T16:30:00.000Z","2023-05-02T16:45:00.000Z","2023-05-02T17:00:00.000Z","2023-05-02T17:15:00.000Z","2023-05-02T17:30:00.000Z","2023-05-02T17:45:00.000Z","2023-05-02T18:00:00.000Z","2023-05-02T18:15:00.000Z","2023-05-02T18:30:00.000Z","2023-05-02T18:45:00.000Z","2023-05-02T19:00:00.000Z","2023-05-02T19:15:00.000Z","2023-05-02T19:30:00.000Z","2023-05-02T19:45:00.000Z","2023-05-02T20:00:00.000Z","2023-05-02T20:15:00.000Z","2023-05-02T20:30:00.000Z","2023-05-02T20:45:00.000Z","2023-05-02T21:00:00.000Z","2023-05-02T21:15:00.000Z","2023-05-02T21:30:00.000Z","2023-05-02T21:45:00.000Z","2023-05-02T22:00:00.000Z","2023-05-02T22:15:00.000Z","2023-05-02T22:30:00.000Z","2023-05-02T22:45:00.000Z","2023-05-02T23:00:00.000Z","2023-05-02T23:15:00.000Z","2023-05-02T23:30:00.000Z","2023-05-02T23:45:00.000Z","2023-05-03T00:00:00.000Z","2023-05-03T00:15:00.000Z","2023-05-03T00:30:00.000Z","2023-05-03T00:45:00.000Z","2023-05-03T01:00:00.000Z","2023-05-03T01:15:00.000Z","2023-05-03T01:30:00.000Z","2023-05-03T01:45:00.000Z","2023-05-03T02:00:00.000Z","2023-05-03T02:15:00.000Z","2023-05-03T02:30:00.000Z","2023-05-03T02:45:00.000Z","2023-05-03T03:00:00.000Z","2023-05-03T03:15:00.000Z","2023-05-03T03:30:00.000Z","2023-05-03T03:45:00.000Z","2023-05-03T04:00:00.000Z","2023-05-03T04:15:00.000Z","2023-05-03T04:30:00.000Z","2023-05-03T04:45:00.000Z","2023-05-03T05:00:00.000Z","2023-05-03T05:15:00.000Z","2023-05-03T05:30:00.000Z","2023-05-03T05:45:00.000Z","2023-05-03T06:00:00.000Z","2023-05-03T06:15:00.000Z","2023-05-03T06:30:00.000Z","2023-05-03T06:45:00.000Z","2023-05-03T07:00:00.000Z","2023-05-03T07:15:00.000Z","2023-05-03T07:30:00.000Z","2023-05-03T07:45:00.000Z","2023-05-03T08:00:00.000Z","2023-05-03T08:15:00.000Z","2023-05-03T08:30:00.000Z","2023-05-03T08:45:00.000Z","2023-05-03T09:00:00.000Z","2023-05-03T09:15:00.000Z","2023-05-03T09:30:00.000Z","2023-05-03T09:45:00.000Z","2023-05-03T10:00:00.000Z","2023-05-03T10:15:00.000Z","2023-05-03T10:30:00.000Z","2023-05-03T10:45:00.000Z","2023-05-03T11:00:00.000Z","2023-05-03T11:15:00.000Z","2023-05-03T11:30:00.000Z","2023-05-03T11:45:00.000Z","2023-05-03T12:00:00.000Z","2023-05-03T12:15:00.000Z","2023-05-03T12:30:00.000Z","2023-05-03T12:45:00.000Z","2023-05-03T13:00:00.000Z","2023-05-03T13:15:00.000Z","2023-05-03T13:30:00.000Z","2023-05-03T13:45:00.000Z","2023-05-03T14:00:00.000Z","2023-05-03T14:15:00.000Z","2023-05-03T14:30:00.000Z","2023-05-03T14:45:00.000Z","2023-05-03T15:00:00.000Z","2023-05-03T15:15:00.000Z","2023-05-03T15:30:00.000Z","2023-05-03T15:45:00.000Z","2023-05-03T16:00:00.000Z","2023-05-03T16:15:00.000Z","2023-05-03T16:30:00.000Z","2023-05-03T16:45:00.000Z","2023-05-03T17:00:00.000Z","2023-05-03T17:15:00.000Z","2023-05-03T17:30:00.000Z","2023-05-03T17:45:00.000Z","2023-05-03T18:00:00.000Z","2023-05-03T18:15:00.000Z","2023-05-03T18:30:00.000Z","2023-05-03T18:45:00.000Z","2023-05-03T19:00:00.000Z","2023-05-03T19:15:00.000Z","2023-05-03T19:30:00.000Z","2023-05-03T19:45:00.000Z","2023-05-03T20:00:00.000Z","2023-05-03T20:15:00.000Z","2023-05-03T20:30:00.000Z","2023-05-03T20:45:00.000Z","2023-05-03T21:00:00.000Z","2023-05-03T21:15:00.000Z","2023-05-03T21:30:00.000Z","2023-05-03T21:45:00.000Z","2023-05-03T22:00:00.000Z","2023-05-03T22:15:00.000Z","2023-05-03T22:30:00.000Z","2023-05-03T22:45:00.000Z","2023-05-03T23:00:00.000Z","2023-05-03T23:15:00.000Z","2023-05-03T23:30:00.000Z","2023-05-03T23:45:00.000Z","2023-05-04T00:00:00.000Z","2023-05-04T00:15:00.000Z","2023-05-04T00:30:00.000Z","2023-05-04T00:45:00.000Z","2023-05-04T01:00:00.000Z","2023-05-04T01:15:00.000Z","2023-05-04T01:30:00.000Z","2023-05-04T01:45:00.000Z","2023-05-04T02:00:00.000Z","2023-05-04T02:15:00.000Z","2023-05-04T02:30:00.000Z","2023-05-04T02:45:00.000Z","2023-05-04T03:00:00.000Z","2023-05-04T03:15:00.000Z","2023-05-04T03:30:00.000Z","2023-05-04T03:45:00.000Z","2023-05-04T04:00:00.000Z","2023-05-04T04:15:00.000Z","2023-05-04T04:30:00.000Z","2023-05-04T04:45:00.000Z","2023-05-04T05:00:00.000Z","2023-05-04T05:15:00.000Z","2023-05-04T05:30:00.000Z","2023-05-04T05:45:00.000Z","2023-05-04T06:00:00.000Z","2023-05-04T06:15:00.000Z","2023-05-04T06:30:00.000Z","2023-05-04T06:45:00.000Z","2023-05-04T07:00:00.000Z","2023-05-04T07:15:00.000Z","2023-05-04T07:30:00.000Z","2023-05-04T07:45:00.000Z","2023-05-04T08:00:00.000Z","2023-05-04T08:15:00.000Z","2023-05-04T08:30:00.000Z","2023-05-04T08:45:00.000Z","2023-05-04T09:00:00.000Z","2023-05-04T09:15:00.000Z","2023-05-04T09:30:00.000Z","2023-05-04T09:45:00.000Z","2023-05-04T10:00:00.000Z","2023-05-04T10:15:00.000Z","2023-05-04T10:30:00.000Z","2023-05-04T10:45:00.000Z","2023-05-04T11:00:00.000Z","2023-05-04T11:15:00.000Z","2023-05-04T11:30:00.000Z","2023-05-04T11:45:00.000Z","2023-05-04T12:00:00.000Z","2023-05-04T12:15:00.000Z","2023-05-04T12:30:00.000Z","2023-05-04T12:45:00.000Z","2023-05-04T13:00:00.000Z","2023-05-04T13:15:00.000Z","2023-05-04T13:30:00.000Z","2023-05-04T13:45:00.000Z","2023-05-04T14:00:00.000Z","2023-05-04T14:15:00.000Z","2023-05-04T14:30:00.000Z","2023-05-04T14:45:00.000Z","2023-05-04T15:00:00.000Z","2023-05-04T15:15:00.000Z","2023-05-04T15:30:00.000Z","2023-05-04T15:45:00.000Z","2023-05-04T16:00:00.000Z","2023-05-04T16:15:00.000Z","2023-05-04T16:30:00.000Z","2023-05-04T16:45:00.000Z","2023-05-04T17:00:00.000Z","2023-05-04T17:15:00.000Z","2023-05-04T17:30:00.000Z","2023-05-04T17:45:00.000Z","2023-05-04T18:00:00.000Z","2023-05-04T18:15:00.000Z","2023-05-04T18:30:00.000Z","2023-05-04T18:45:00.000Z","2023-05-04T19:00:00.000Z","2023-05-04T19:15:00.000Z","2023-05-04T19:30:00.000Z","2023-05-04T19:45:00.000Z","2023-05-04T20:00:00.000Z","2023-05-04T20:15:00.000Z","2023-05-04T20:30:00.000Z","2023-05-04T20:45:00.000Z","2023-05-04T21:00:00.000Z","2023-05-04T21:15:00.000Z","2023-05-04T21:30:00.000Z","2023-05-04T21:45:00.000Z","2023-05-04T22:00:00.000Z"],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,4,3.99,3.99,3.99,3.99,3.99,3.99,3.99,3.99,3.99,3.99,3.99,3.99,3.99,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,3.98,4.01,4.01,3.99,3.990000000000001,4.01,4,3.999999999999999,3.99,4.02,4,4,3.99,3.99,3.99,3.99,3.99,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,0.3,0,0,0,0,0,0,0,0,0,0,3.7,3.7,3.7,3.7,3.7,3.7,3.7,4,4,4,4,4,4,4,4,4,4,4,4,4,3.99,3.99,4.01,4,4,4,4,4.01,3.99,4,3.99,3.99,3.99,3.99,3.99,3.99,3.99,3.99,3.99,3.99,4,4,4,3.99,3.99,3.99,4.01,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,2.5,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,4,4,4,4,4,4,4,4,4,3.99,3.99,3.99,3.99,3.99,3.99,3.99,3.99,3.99,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,3.99,4.01,3.99,4.02,3.98,4.01,3.99,3.99,4,4,3.99,3.99,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,7.4,11.1,11.1,11.1,11.1,11.1,11.1,11.1,11.1,11.1,11.1,11.1,8.879999999999999,7.4,10.5,7.4,7.4,5.18,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.84,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,2.66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,0.3,0,0,0,0,0,0,0,0,0,0,3.7,3.7,3.7,3.7,3.7,3.7,3.7,7.4,7.4,7.4,7.4,7.4,7.4,7.4,7.4,5.32,3.7,3.7,3.7,3.7,7.4,7.4,4.16,3.7,7.4,7.4,7.4,7.4,7.4,7.4,7.4,7.4,7.4,7.4,7.4,7.4,7.4,7.4,7.1,3.7,3.7,2.82,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,2.5,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,7.4,7.4,7.4,7.4,7.4,7.4,7.4,7.4,7.4,11.1,11.1,11.1,11.1,7.98,7.4,7.4,7.4,4.720000000000001,7.4,7.4,7.4,7.4,7.4,7.4,7.4,7.4,5.76,3.7,3.7,3.7,3.7,3.7,3.7,1.5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],"fixedtz":true,"tzone":"Europe/Amsterdam","css":"/* Dygraph styling */\n\n.dygraph-title {\n  text-align: left;\n  font-weight: normal;\n  font-size: 70%;\n}\n\n.dygraph-legend {\n  color: white;\n  background-color: #BABABA !important;\n    padding-left:5px;\n  border-color:#BABABA;\n    border-style:solid;\n  border-width:thin;\n  transition:0s 4s;\n  z-index: 20 !important;\n  box-shadow: 2px 2px 5px rgba(0, 0, 0, .3);\n  border-radius: 3px;\n}\n\n.dygraph-legend:hover{\n  transform: translate(-110%);\n  transition: 0s;\n}\n\n.dygraph-legend > span {\n  color: black;\n  padding-left:5px;\n  margin-left:-5px;\n  background-color: white !important;\n  display: block;\n}\n\n.dygraph-legend > span > span{\n  display: inline;\n}\n\n.highlight {\n  border-left: 2px solid #BABABA;\n  padding-left:3px !important;\n\n}"},"evals":[],"jsHooks":[]}</script><div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/summarise_energy_charged.html">summarise_energy_charged</a></span><span class="op">(</span><span class="va">sc_results</span>, sessions <span class="op">=</span> <span class="va">ev_sessions</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span>caption <span class="op">=</span> <span class="st">"Percentage of energy charged (%) - `energy_min = 0.7`"</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<caption>Percentage of energy charged (%) -
<code>energy_min = 0.7</code>
</caption>
<thead><tr class="header">
<th align="left">Session</th>
<th align="right">EnergyRequired</th>
<th align="right">EnergyCharged</th>
<th align="right">PctEnergyCharged</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">S1</td>
<td align="right">17.02</td>
<td align="right">16.16</td>
<td align="right">95</td>
</tr>
<tr class="even">
<td align="left">S2</td>
<td align="right">11.47</td>
<td align="right">11.47</td>
<td align="right">100</td>
</tr>
<tr class="odd">
<td align="left">S3</td>
<td align="right">12.80</td>
<td align="right">12.71</td>
<td align="right">99</td>
</tr>
<tr class="even">
<td align="left">S4</td>
<td align="right">15.76</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">S5</td>
<td align="right">14.54</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">S6</td>
<td align="right">17.65</td>
<td align="right">17.65</td>
<td align="right">100</td>
</tr>
<tr class="odd">
<td align="left">S7</td>
<td align="right">14.28</td>
<td align="right">14.28</td>
<td align="right">100</td>
</tr>
<tr class="even">
<td align="left">S8</td>
<td align="right">13.99</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">S9</td>
<td align="right">17.50</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">S10</td>
<td align="right">16.43</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">S11</td>
<td align="right">10.80</td>
<td align="right">10.80</td>
<td align="right">100</td>
</tr>
<tr class="even">
<td align="left">S12</td>
<td align="right">14.02</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">S13</td>
<td align="right">15.98</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">S14</td>
<td align="right">16.24</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">S15</td>
<td align="right">14.25</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
</tbody>
</table>
<!-- ```{r, echo=FALSE} --><!-- sc_results$postpone$sessions %>% --><!--   group_by(Session) %>% summarise(Energy = sum(Energy)) %>%  --><!--   left_join(ev_sessions %>% select(Session, EnergyRequired = Energy), by = "Session") %>%  --><!--   mutate(EnergyCharged = round(Energy/EnergyRequired*100)) %>%  --><!--   select(Session, Postpone = EnergyCharged) %>%  --><!--   left_join( --><!--     sc_results$interrupt$sessions %>% --><!--       group_by(Session) %>% summarise(Energy = sum(Energy)) %>%  --><!--       left_join(ev_sessions %>% select(Session, EnergyRequired = Energy), by = "Session") %>%  --><!--       mutate(EnergyCharged = round(Energy/EnergyRequired*100)) %>%  --><!--       select(Session, Interrupt = EnergyCharged), --><!--     by = "Session" --><!--   ) %>%  --><!--   left_join( --><!--     sc_results$curtail$sessions %>% --><!--       group_by(Session) %>% summarise(Energy = sum(Energy)) %>%  --><!--       left_join(ev_sessions %>% select(Session, EnergyRequired = Energy), by = "Session") %>%  --><!--       mutate(EnergyCharged = round(Energy/EnergyRequired*100)) %>%  --><!--       select(Session, Curtail = EnergyCharged), --><!--     by = "Session" --><!--   ) %>%  --><!--   bind_rows( --><!--     tibble(Session = "Mean", Postpone = round(mean(.$Postpone)), --><!--            Interrupt = round(mean(.$Interrupt)), Curtail = round(mean(.$Curtail))) --><!--   ) %>%  --><!--   knitr::kable(caption = "Percentage of energy charged (%)") --><!-- ``` --><!-- We see that the curtail strategy is the one with lowest average impact on the users, in contrast to postpone which has the highest impact, specially in late charging sessions. Therefore, we can say that, if we want the EV users to charge at least 50% of their energy requirements, the only suitable strategies are curtail and interrupt. -->
</div>
<div class="section level3">
<h3 id="setpoint-as-optimal-demand">Setpoint as optimal demand<a class="anchor" aria-label="anchor" href="#setpoint-as-optimal-demand"></a>
</h3>
<p>Let’s consider a <strong>grid optimization</strong> for our EV demand
in the context of the following energy flows:</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">energy_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">ev_demand</span>, by <span class="op">=</span> <span class="st">"datetime"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">-</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">starts_with</a></span><span class="op">(</span><span class="st">"price"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu">plot_ts</span><span class="op">(</span>ylab <span class="op">=</span> <span class="st">"Power (kW)"</span>, strokeWidth <span class="op">=</span> <span class="fl">2</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu">dySeries</span><span class="op">(</span><span class="st">"solar"</span>, color <span class="op">=</span> <span class="st">"orange"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu">dyStackedRibbonGroup</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"HomeEV"</span>,<span class="st">"building"</span><span class="op">)</span>, color <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"purple"</span>, <span class="st">"navy"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="dygraphs html-widget html-fill-item" id="htmlwidget-1fb4450895fe099f74a1" style="width:700px;height:432.632880098888px;"></div>
<script type="application/json" data-for="htmlwidget-1fb4450895fe099f74a1">{"x":{"attrs":{"axes":{"x":{"pixelsPerLabel":60,"drawAxis":true},"y":{"drawAxis":true,"valueRange":[null,null]}},"series":{"solar":{"axis":"y"},"HomeEV":{"axis":"y","plotter":"// the _lineplotter function extracted from dygraphs-combined-dev.js, available for use in conjunction with other per-series plotters and group plotters\n\nfunction linePlotter(e) {\n  //extracting and reducing the Dygraph.stackPoints_ function\n  stackPoints = function(points, cumulativeYval, seriesExtremes, fillMethod) {\n    var lastXval = null;\n    var prevPoint = null;\n    var nextPoint = null;\n    var nextPointIdx = -1;\n  \n    // Find the next stackable point starting from the given index.\n    var updateNextPoint = function(idx) {\n      // If we've previously found a non-NaN point and haven't gone past it yet,\n      // just use that.\n      if (nextPointIdx >= idx) return;\n  \n      // We haven't found a non-NaN point yet or have moved past it,\n      // look towards the right to find a non-NaN point.\n      for (var j = idx; j < points.length; ++j) {\n        // Clear out a previously-found point (if any) since it's no longer\n        // valid, we shouldn't use it for interpolation anymore.\n        nextPoint = null;\n        if (!isNaN(points[j].yval) && points[j].yval !== null) {\n          nextPointIdx = j;\n          nextPoint = points[j];\n          break;\n        }\n      }\n    };\n  \n    for (var i = 0; i < points.length; ++i) {\n      var point = points[i];\n      var xval = point.xval;\n      if (cumulativeYval[xval] === undefined) {\n        cumulativeYval[xval] = 0;\n      }\n  \n      var actualYval = point.yval;\n      if (isNaN(actualYval) || actualYval === null) {\n        if(fillMethod == 'none') {\n          actualYval = 0;\n        } else {\n          // Interpolate/extend for stacking purposes if possible.\n          updateNextPoint(i);\n          if (prevPoint && nextPoint && fillMethod != 'none') {\n            // Use linear interpolation between prevPoint and nextPoint.\n            actualYval = prevPoint.yval + (nextPoint.yval - prevPoint.yval) *\n                ((xval - prevPoint.xval) / (nextPoint.xval - prevPoint.xval));\n          } else if (prevPoint && fillMethod == 'all') {\n            actualYval = prevPoint.yval;\n          } else if (nextPoint && fillMethod == 'all') {\n            actualYval = nextPoint.yval;\n          } else {\n            actualYval = 0;\n          }\n        }\n      } else {\n        prevPoint = point;\n      }\n  \n      var stackedYval = cumulativeYval[xval];\n      if (lastXval != xval) {\n        // If an x-value is repeated, we ignore the duplicates.\n        stackedYval += actualYval;\n        cumulativeYval[xval] = stackedYval;\n      }\n      lastXval = xval;\n  \n      point.yval_stacked = stackedYval;\n      \n      if (stackedYval > seriesExtremes[1]) {\n        seriesExtremes[1] = stackedYval;\n      }\n      if (stackedYval < seriesExtremes[0]) {\n        seriesExtremes[0] = stackedYval;\n      }\n  \n    }\n  };\n  \n  // BEGIN HEADER BLOCK\n  // This first block can be copied to other plotters to capture the group \n  var g = e.dygraph;\n  \n  var group;\n  var groupIdx = [];\n  var sets = [];\n  var allSets = e.allSeriesPoints;\n  var minIdx = Infinity;\n  var setName = e.setName;\n  var setNames = g.getLabels().slice(1);\n  var groupSetNames = [];\n  var fillColors = [];\n  var strokeColors = g.getColors();\n  // this next one we use further down, but will be populated in a decreasing loop,\n  // so we'll establish the size in this forward loop so it has the structure to accept\n  // later on.\n  var seriesExtremes = [];\n  \n  var currGroup = g.attr_(\"group\", setName);\n  \n  for (var setIdx = 0; setIdx < allSets.length; setIdx++) {\n    // get the name and group of the current setIdx\n    setName = setNames[setIdx];\n    group = g.attr_(\"group\", setName);\n\n    if (group === currGroup) {\n      //save the indv index and the points\n      groupIdx.push(setIdx);\n      sets.push(allSets[setIdx]);\n      groupSetNames.push(setName);\n      fillColors.push(strokeColors[setIdx]);\n     \n      // the aforementioned stuff for later on \n      var tmpExtremes = [];\n      tmpExtremes[0] = Infinity;\n      tmpExtremes[1] = -Infinity;\n      \n      seriesExtremes.push(tmpExtremes);\n      \n      // capturing the min indx helps to ensure we don't render the plotter\n      // multiple times\n      if (setIdx < minIdx) minIdx = setIdx;\n    }\n  }\n  // END HEADER BLOCK\n\t\n\t//Stack the points\n  // set up cumulative records\n  var cumulativeYval = [];\n  var packed = g.gatherDatasets_(g.rolledSeries_, null);\n  var extremes = packed.extremes;\n  var seriesName;\n  \n  for (var j = sets.length - 1; j >= 0; j--) {\n    points = sets[j];\n    seriesName = groupSetNames[j]; \n    \n    //  stack the data \n    stackPoints(points, cumulativeYval, seriesExtremes[j],\n          g.getBooleanOption(\"stackedGraphNaNFill\"));\n    \n    extremes[seriesName] = seriesExtremes[j];\n  }\n  \n\t// Helper function to trace a line back along the baseline.\n  var traceBackPath = function(ctx, baselineX, baselineY, pathBack) {\n    ctx.lineTo(baselineX, baselineY);\n    for (var i = pathBack.length - 1; i >= 0; i--) {\n      var pt = pathBack[i];\n      ctx.lineTo(pt[0], pt[1]);\n    }\n  };\n  \n\t// Do the actual plotting.\n\t\t\t\t// First, we'll plot the line for this series, then...\n\t\t\t\t// Second, we'll add the fills\n\t\t\t\t// In contrast to stackedlinegroup, we do this in reverse\n\t\t\t\t// order to align with the fillplotter\n\tvar area = e.plotArea;\n  var fillAlpha = g.getNumericOption('fillAlpha');\n\t\n\tvar baseline = {};\n  var currBaseline;\n  var prevStepPlot;  // for different line drawing modes (line/step) per series\n\n  var ctx = e.drawingContext;\n    \n\t// For filled charts, we draw points from left to right, then back along\n  // the x-axis to complete a shape for filling.\n  // For stacked plots, this \"back path\" is a more complex shape. This array\n  // stores the [x, y] values needed to trace that shape.\n  var pathBack = [];\n\n\t//We'll save the group indices of the current set,\n\t\t\t\t// so as to test later and hopefully skip \n\t\t\t\t// past needless iterations of the loops\n\tvar currSetIdx;\n\t//Now a quick FOR loop to capture the group indices\n  for (var j = sets.length - 1; j >= 0; j--) {\n    seriesName = groupSetNames[j]; \n\t\tif (seriesName === e.setName) currSetIdx = j;\n  }\n  \n\tfor (var j = sets.length - 1; j >= 0; j--) {\n\t\t// If we're not dealing with the immediate plotted series or it's\n\t\t\t\t\t// immediate predecesor, skip all this stuff below\n\t\tif (j > (currSetIdx + 1) || j < currSetIdx) continue;\n\n    setName = groupSetNames[j];\n\n\t\tvar connectSeparated = g.getOption('connectSeparatedPoints', setName);\n    var logscale = g.attributes_.getForSeries(\"logscale\", setName);\n    \n    axis = g.axisPropertiesForSeries(setName);\n    \n    points = sets[j];\n    \n    for (var i = 0; i < points.length; i++) {\n      var point = points[i];\n      \n      var yval = point.yval;\n      \n      point.y_stacked = DygraphLayout.calcYNormal_(\n          axis, point.yval_stacked, logscale);\n          \n      if (yval !== null && !isNaN(yval)) {\n        yval = point.yval_stacked;\n      }\n      if (yval === null) {\n        yval = NaN;\n        if (!connectSeparated) {\n          point.yval = NaN;\n        }\n      }\n      point.y = DygraphLayout.calcYNormal_(axis, yval, logscale);\n    \n      point.canvasx = g.plotter_.area.w * point.x + g.plotter_.area.x;\n      point.canvasy = g.plotter_.area.h * point.y + g.plotter_.area.y;\n\t\t}\n\n\t\te.points = points;\n\n\t  var strokeWidth = e.strokeWidth;\n\t\n\t  var borderWidth = g.getNumericOption(\"strokeBorderWidth\", setName);\n\t  var drawPointCallback = g.getOption(\"drawPointCallback\", setName) ||\n\t      Dygraph.Circles.DEFAULT;\n\t  var strokePattern = g.getOption(\"strokePattern\", setName);\n\t  var drawPoints = g.getBooleanOption(\"drawPoints\", setName);\n\t  var pointSize = g.getNumericOption(\"pointSize\", setName);\n\t\t\n\t\t// We'll only draw the line plotter if the current series matches\n\t\t\t\t\t// the one in the top-level plotter call\n\t\tif (setName === e.setName) {\n\t  \tif (borderWidth && strokeWidth) {\n\t  \t  DygraphCanvasRenderer._drawStyledLine(e,\n\t  \t      g.getOption(\"strokeBorderColor\", setName),\n\t  \t      strokeWidth + 2 * borderWidth,\n\t  \t      strokePattern,\n\t  \t      drawPoints,\n\t  \t      drawPointCallback,\n\t  \t      pointSize\n\t  \t      );\n\t  \t}\n\t\n\t  \tDygraphCanvasRenderer._drawStyledLine(e,\n\t  \t    e.color,\n\t  \t    strokeWidth,\n\t  \t    strokePattern,\n\t  \t    drawPoints,\n\t  \t    drawPointCallback,\n\t  \t    pointSize\n\t  \t);\n\t\t}\n\t\t//END OF THE LINE PLOTTER\n\t\t\t\t\t//\n\t\t//BEGIN THE FILL\n    var stepPlot = g.getBooleanOption('stepPlot', setName);\n\t\tvar color = e.color;\n\t\tvar axis = g.axisPropertiesForSeries(setName);\n    var axisY = 1.0 + axis.minyval * axis.yscale;\n    if (axisY < 0.0) axisY = 0.0;\n    else if (axisY > 1.0) axisY = 1.0;\n    axisY = area.h * axisY + area.y;\n\n\n\t\t// setup graphics context\n  \tvar prevX = NaN;\n  \tvar prevYs = [-1, -1];\n  \tvar newYs;\n  \t\n\t\t// should be same color as the lines but only 15% opaque.\n  \tvar rgb = Dygraph.toRGB_(color);\n  \tvar err_color =\n  \t    'rgba(' + rgb.r + ',' + rgb.g + ',' + rgb.b + ',' + fillAlpha + ')';\n    \n\n    var iter = Dygraph.createIterator(points, 0, points.length,\n        DygraphCanvasRenderer._getIteratorPredicate(\n            g.getBooleanOption(\"connectSeparatedPoints\", setName)));\n\n    ctx.fillStyle = err_color;\n    ctx.beginPath();\n    var last_x, is_first = true;\n\n    // If the point density is high enough, dropping segments on their way to\n    // the canvas justifies the overhead of doing so.\n    if (points.length > 2 * g.width_ || Dygraph.FORCE_FAST_PROXY) {\n      ctx = DygraphCanvasRenderer._fastCanvasProxy(ctx);\n    }\n\n    // TODO(danvk): there are a lot of options at play in this loop.\n    //     The logic would be much clearer if some (e.g. stackGraph and\n    //     stepPlot) were split off into separate sub-plotters.\n    var point;\n\n\t\t// Throughout this loop, we test to see if the top-level called series\n\t\t\t\t\t// matches the one current in the parent FOR loop.  If not, we skip\n\t\t\t\t\t// the parts that draw the line but leave the others so the pathback\n\t\t\t\t\t// and prevYs and prevXs still get properly populated\n    while (iter.hasNext) {\n      point = iter.next();\n      if (!Dygraph.isOK(point.y) && !stepPlot) {\n\t\t\t\t//\n        if (e.setName === setName) traceBackPath(\n\t\t\t\t\t\t\t\tctx, prevX, prevYs[1], pathBack);\n        pathBack = [];\n        prevX = NaN;\n        if (point.y_stacked !== null && !isNaN(point.y_stacked)) {\n          baseline[point.canvasx] = area.h * point.y_stacked + area.y;\n        }\n        continue;\n      }\n      if (!is_first && last_x == point.xval) {\n        continue;\n      } else {\n        is_first = false;\n        last_x = point.xval;\n      }\n\n      currBaseline = baseline[point.canvasx];\n      var lastY;\n      if (currBaseline === undefined) {\n        lastY = axisY;\n      } else {\n        if(prevStepPlot) {\n          lastY = currBaseline[0];\n        } else {\n          lastY = currBaseline;\n        }\n      }\n      newYs = [ point.canvasy, lastY ];\n\n      if (stepPlot) {\n        // Step plots must keep track of the top and bottom of\n        // the baseline at each point.\n        if (prevYs[0] === -1) {\n          baseline[point.canvasx] = [ point.canvasy, axisY ];\n        } else {\n          baseline[point.canvasx] = [ point.canvasy, prevYs[0] ];\n        }\n      } else {\n        baseline[point.canvasx] = point.canvasy;\n      }\n\n      if (!isNaN(prevX)) {\n\t\t\t\tif (e.setName === setName) {\n        \t// Move to top fill point\n        \tif (stepPlot) {\n        \t  ctx.lineTo(point.canvasx, prevYs[0]);\n        \t  ctx.lineTo(point.canvasx, newYs[0]);\n        \t} else {\n        \t  ctx.lineTo(point.canvasx, newYs[0]);\n        \t}\n        }\n\n        // Record the baseline for the reverse path.\n        pathBack.push([prevX, prevYs[1]]);\n        if (prevStepPlot && currBaseline) {\n          // Draw to the bottom of the baseline\n          pathBack.push([point.canvasx, currBaseline[1]]);\n        } else {\n          pathBack.push([point.canvasx, newYs[1]]);\n        }\n      } else if (e.setName === setName) {\n        ctx.moveTo(point.canvasx, newYs[1]);\n        ctx.lineTo(point.canvasx, newYs[0]);\n      }\n      prevYs = newYs;\n      prevX = point.canvasx;\n\t\t}\n    prevStepPlot = stepPlot;\n    if (newYs && point) {\n      if (e.setName === setName) traceBackPath(\n\t\t\t\t\t\t\tctx, point.canvasx, newYs[1], pathBack);\n      pathBack = [];\n    }\n    ctx.fill();\n\t}\n}","group":"HomeEVbuilding"},"building":{"axis":"y","plotter":"// the _lineplotter function extracted from dygraphs-combined-dev.js, available for use in conjunction with other per-series plotters and group plotters\n\nfunction linePlotter(e) {\n  //extracting and reducing the Dygraph.stackPoints_ function\n  stackPoints = function(points, cumulativeYval, seriesExtremes, fillMethod) {\n    var lastXval = null;\n    var prevPoint = null;\n    var nextPoint = null;\n    var nextPointIdx = -1;\n  \n    // Find the next stackable point starting from the given index.\n    var updateNextPoint = function(idx) {\n      // If we've previously found a non-NaN point and haven't gone past it yet,\n      // just use that.\n      if (nextPointIdx >= idx) return;\n  \n      // We haven't found a non-NaN point yet or have moved past it,\n      // look towards the right to find a non-NaN point.\n      for (var j = idx; j < points.length; ++j) {\n        // Clear out a previously-found point (if any) since it's no longer\n        // valid, we shouldn't use it for interpolation anymore.\n        nextPoint = null;\n        if (!isNaN(points[j].yval) && points[j].yval !== null) {\n          nextPointIdx = j;\n          nextPoint = points[j];\n          break;\n        }\n      }\n    };\n  \n    for (var i = 0; i < points.length; ++i) {\n      var point = points[i];\n      var xval = point.xval;\n      if (cumulativeYval[xval] === undefined) {\n        cumulativeYval[xval] = 0;\n      }\n  \n      var actualYval = point.yval;\n      if (isNaN(actualYval) || actualYval === null) {\n        if(fillMethod == 'none') {\n          actualYval = 0;\n        } else {\n          // Interpolate/extend for stacking purposes if possible.\n          updateNextPoint(i);\n          if (prevPoint && nextPoint && fillMethod != 'none') {\n            // Use linear interpolation between prevPoint and nextPoint.\n            actualYval = prevPoint.yval + (nextPoint.yval - prevPoint.yval) *\n                ((xval - prevPoint.xval) / (nextPoint.xval - prevPoint.xval));\n          } else if (prevPoint && fillMethod == 'all') {\n            actualYval = prevPoint.yval;\n          } else if (nextPoint && fillMethod == 'all') {\n            actualYval = nextPoint.yval;\n          } else {\n            actualYval = 0;\n          }\n        }\n      } else {\n        prevPoint = point;\n      }\n  \n      var stackedYval = cumulativeYval[xval];\n      if (lastXval != xval) {\n        // If an x-value is repeated, we ignore the duplicates.\n        stackedYval += actualYval;\n        cumulativeYval[xval] = stackedYval;\n      }\n      lastXval = xval;\n  \n      point.yval_stacked = stackedYval;\n      \n      if (stackedYval > seriesExtremes[1]) {\n        seriesExtremes[1] = stackedYval;\n      }\n      if (stackedYval < seriesExtremes[0]) {\n        seriesExtremes[0] = stackedYval;\n      }\n  \n    }\n  };\n  \n  // BEGIN HEADER BLOCK\n  // This first block can be copied to other plotters to capture the group \n  var g = e.dygraph;\n  \n  var group;\n  var groupIdx = [];\n  var sets = [];\n  var allSets = e.allSeriesPoints;\n  var minIdx = Infinity;\n  var setName = e.setName;\n  var setNames = g.getLabels().slice(1);\n  var groupSetNames = [];\n  var fillColors = [];\n  var strokeColors = g.getColors();\n  // this next one we use further down, but will be populated in a decreasing loop,\n  // so we'll establish the size in this forward loop so it has the structure to accept\n  // later on.\n  var seriesExtremes = [];\n  \n  var currGroup = g.attr_(\"group\", setName);\n  \n  for (var setIdx = 0; setIdx < allSets.length; setIdx++) {\n    // get the name and group of the current setIdx\n    setName = setNames[setIdx];\n    group = g.attr_(\"group\", setName);\n\n    if (group === currGroup) {\n      //save the indv index and the points\n      groupIdx.push(setIdx);\n      sets.push(allSets[setIdx]);\n      groupSetNames.push(setName);\n      fillColors.push(strokeColors[setIdx]);\n     \n      // the aforementioned stuff for later on \n      var tmpExtremes = [];\n      tmpExtremes[0] = Infinity;\n      tmpExtremes[1] = -Infinity;\n      \n      seriesExtremes.push(tmpExtremes);\n      \n      // capturing the min indx helps to ensure we don't render the plotter\n      // multiple times\n      if (setIdx < minIdx) minIdx = setIdx;\n    }\n  }\n  // END HEADER BLOCK\n\t\n\t//Stack the points\n  // set up cumulative records\n  var cumulativeYval = [];\n  var packed = g.gatherDatasets_(g.rolledSeries_, null);\n  var extremes = packed.extremes;\n  var seriesName;\n  \n  for (var j = sets.length - 1; j >= 0; j--) {\n    points = sets[j];\n    seriesName = groupSetNames[j]; \n    \n    //  stack the data \n    stackPoints(points, cumulativeYval, seriesExtremes[j],\n          g.getBooleanOption(\"stackedGraphNaNFill\"));\n    \n    extremes[seriesName] = seriesExtremes[j];\n  }\n  \n\t// Helper function to trace a line back along the baseline.\n  var traceBackPath = function(ctx, baselineX, baselineY, pathBack) {\n    ctx.lineTo(baselineX, baselineY);\n    for (var i = pathBack.length - 1; i >= 0; i--) {\n      var pt = pathBack[i];\n      ctx.lineTo(pt[0], pt[1]);\n    }\n  };\n  \n\t// Do the actual plotting.\n\t\t\t\t// First, we'll plot the line for this series, then...\n\t\t\t\t// Second, we'll add the fills\n\t\t\t\t// In contrast to stackedlinegroup, we do this in reverse\n\t\t\t\t// order to align with the fillplotter\n\tvar area = e.plotArea;\n  var fillAlpha = g.getNumericOption('fillAlpha');\n\t\n\tvar baseline = {};\n  var currBaseline;\n  var prevStepPlot;  // for different line drawing modes (line/step) per series\n\n  var ctx = e.drawingContext;\n    \n\t// For filled charts, we draw points from left to right, then back along\n  // the x-axis to complete a shape for filling.\n  // For stacked plots, this \"back path\" is a more complex shape. This array\n  // stores the [x, y] values needed to trace that shape.\n  var pathBack = [];\n\n\t//We'll save the group indices of the current set,\n\t\t\t\t// so as to test later and hopefully skip \n\t\t\t\t// past needless iterations of the loops\n\tvar currSetIdx;\n\t//Now a quick FOR loop to capture the group indices\n  for (var j = sets.length - 1; j >= 0; j--) {\n    seriesName = groupSetNames[j]; \n\t\tif (seriesName === e.setName) currSetIdx = j;\n  }\n  \n\tfor (var j = sets.length - 1; j >= 0; j--) {\n\t\t// If we're not dealing with the immediate plotted series or it's\n\t\t\t\t\t// immediate predecesor, skip all this stuff below\n\t\tif (j > (currSetIdx + 1) || j < currSetIdx) continue;\n\n    setName = groupSetNames[j];\n\n\t\tvar connectSeparated = g.getOption('connectSeparatedPoints', setName);\n    var logscale = g.attributes_.getForSeries(\"logscale\", setName);\n    \n    axis = g.axisPropertiesForSeries(setName);\n    \n    points = sets[j];\n    \n    for (var i = 0; i < points.length; i++) {\n      var point = points[i];\n      \n      var yval = point.yval;\n      \n      point.y_stacked = DygraphLayout.calcYNormal_(\n          axis, point.yval_stacked, logscale);\n          \n      if (yval !== null && !isNaN(yval)) {\n        yval = point.yval_stacked;\n      }\n      if (yval === null) {\n        yval = NaN;\n        if (!connectSeparated) {\n          point.yval = NaN;\n        }\n      }\n      point.y = DygraphLayout.calcYNormal_(axis, yval, logscale);\n    \n      point.canvasx = g.plotter_.area.w * point.x + g.plotter_.area.x;\n      point.canvasy = g.plotter_.area.h * point.y + g.plotter_.area.y;\n\t\t}\n\n\t\te.points = points;\n\n\t  var strokeWidth = e.strokeWidth;\n\t\n\t  var borderWidth = g.getNumericOption(\"strokeBorderWidth\", setName);\n\t  var drawPointCallback = g.getOption(\"drawPointCallback\", setName) ||\n\t      Dygraph.Circles.DEFAULT;\n\t  var strokePattern = g.getOption(\"strokePattern\", setName);\n\t  var drawPoints = g.getBooleanOption(\"drawPoints\", setName);\n\t  var pointSize = g.getNumericOption(\"pointSize\", setName);\n\t\t\n\t\t// We'll only draw the line plotter if the current series matches\n\t\t\t\t\t// the one in the top-level plotter call\n\t\tif (setName === e.setName) {\n\t  \tif (borderWidth && strokeWidth) {\n\t  \t  DygraphCanvasRenderer._drawStyledLine(e,\n\t  \t      g.getOption(\"strokeBorderColor\", setName),\n\t  \t      strokeWidth + 2 * borderWidth,\n\t  \t      strokePattern,\n\t  \t      drawPoints,\n\t  \t      drawPointCallback,\n\t  \t      pointSize\n\t  \t      );\n\t  \t}\n\t\n\t  \tDygraphCanvasRenderer._drawStyledLine(e,\n\t  \t    e.color,\n\t  \t    strokeWidth,\n\t  \t    strokePattern,\n\t  \t    drawPoints,\n\t  \t    drawPointCallback,\n\t  \t    pointSize\n\t  \t);\n\t\t}\n\t\t//END OF THE LINE PLOTTER\n\t\t\t\t\t//\n\t\t//BEGIN THE FILL\n    var stepPlot = g.getBooleanOption('stepPlot', setName);\n\t\tvar color = e.color;\n\t\tvar axis = g.axisPropertiesForSeries(setName);\n    var axisY = 1.0 + axis.minyval * axis.yscale;\n    if (axisY < 0.0) axisY = 0.0;\n    else if (axisY > 1.0) axisY = 1.0;\n    axisY = area.h * axisY + area.y;\n\n\n\t\t// setup graphics context\n  \tvar prevX = NaN;\n  \tvar prevYs = [-1, -1];\n  \tvar newYs;\n  \t\n\t\t// should be same color as the lines but only 15% opaque.\n  \tvar rgb = Dygraph.toRGB_(color);\n  \tvar err_color =\n  \t    'rgba(' + rgb.r + ',' + rgb.g + ',' + rgb.b + ',' + fillAlpha + ')';\n    \n\n    var iter = Dygraph.createIterator(points, 0, points.length,\n        DygraphCanvasRenderer._getIteratorPredicate(\n            g.getBooleanOption(\"connectSeparatedPoints\", setName)));\n\n    ctx.fillStyle = err_color;\n    ctx.beginPath();\n    var last_x, is_first = true;\n\n    // If the point density is high enough, dropping segments on their way to\n    // the canvas justifies the overhead of doing so.\n    if (points.length > 2 * g.width_ || Dygraph.FORCE_FAST_PROXY) {\n      ctx = DygraphCanvasRenderer._fastCanvasProxy(ctx);\n    }\n\n    // TODO(danvk): there are a lot of options at play in this loop.\n    //     The logic would be much clearer if some (e.g. stackGraph and\n    //     stepPlot) were split off into separate sub-plotters.\n    var point;\n\n\t\t// Throughout this loop, we test to see if the top-level called series\n\t\t\t\t\t// matches the one current in the parent FOR loop.  If not, we skip\n\t\t\t\t\t// the parts that draw the line but leave the others so the pathback\n\t\t\t\t\t// and prevYs and prevXs still get properly populated\n    while (iter.hasNext) {\n      point = iter.next();\n      if (!Dygraph.isOK(point.y) && !stepPlot) {\n\t\t\t\t//\n        if (e.setName === setName) traceBackPath(\n\t\t\t\t\t\t\t\tctx, prevX, prevYs[1], pathBack);\n        pathBack = [];\n        prevX = NaN;\n        if (point.y_stacked !== null && !isNaN(point.y_stacked)) {\n          baseline[point.canvasx] = area.h * point.y_stacked + area.y;\n        }\n        continue;\n      }\n      if (!is_first && last_x == point.xval) {\n        continue;\n      } else {\n        is_first = false;\n        last_x = point.xval;\n      }\n\n      currBaseline = baseline[point.canvasx];\n      var lastY;\n      if (currBaseline === undefined) {\n        lastY = axisY;\n      } else {\n        if(prevStepPlot) {\n          lastY = currBaseline[0];\n        } else {\n          lastY = currBaseline;\n        }\n      }\n      newYs = [ point.canvasy, lastY ];\n\n      if (stepPlot) {\n        // Step plots must keep track of the top and bottom of\n        // the baseline at each point.\n        if (prevYs[0] === -1) {\n          baseline[point.canvasx] = [ point.canvasy, axisY ];\n        } else {\n          baseline[point.canvasx] = [ point.canvasy, prevYs[0] ];\n        }\n      } else {\n        baseline[point.canvasx] = point.canvasy;\n      }\n\n      if (!isNaN(prevX)) {\n\t\t\t\tif (e.setName === setName) {\n        \t// Move to top fill point\n        \tif (stepPlot) {\n        \t  ctx.lineTo(point.canvasx, prevYs[0]);\n        \t  ctx.lineTo(point.canvasx, newYs[0]);\n        \t} else {\n        \t  ctx.lineTo(point.canvasx, newYs[0]);\n        \t}\n        }\n\n        // Record the baseline for the reverse path.\n        pathBack.push([prevX, prevYs[1]]);\n        if (prevStepPlot && currBaseline) {\n          // Draw to the bottom of the baseline\n          pathBack.push([point.canvasx, currBaseline[1]]);\n        } else {\n          pathBack.push([point.canvasx, newYs[1]]);\n        }\n      } else if (e.setName === setName) {\n        ctx.moveTo(point.canvasx, newYs[1]);\n        ctx.lineTo(point.canvasx, newYs[0]);\n      }\n      prevYs = newYs;\n      prevX = point.canvasx;\n\t\t}\n    prevStepPlot = stepPlot;\n    if (newYs && point) {\n      if (e.setName === setName) traceBackPath(\n\t\t\t\t\t\t\tctx, point.canvasx, newYs[1], pathBack);\n      pathBack = [];\n    }\n    ctx.fill();\n\t}\n}","group":"HomeEVbuilding"}},"ylabel":"Power (kW)","labels":["minute","solar","HomeEV","building"],"legend":"auto","labelsDivWidth":250,"labelsShowZeroValues":false,"labelsSeparateLines":false,"hideOverlayOnMouseOut":true,"stackedGraph":false,"fillGraph":false,"fillAlpha":0.15,"stepPlot":false,"drawPoints":false,"pointSize":1,"drawGapEdgePoints":false,"connectSeparatedPoints":false,"strokeWidth":2,"strokeBorderColor":"white","colorValue":0.5,"colorSaturation":1,"includeZero":false,"drawAxesAtZero":false,"logscale":false,"axisTickSize":3,"axisLineColor":"black","axisLineWidth":0.3,"axisLabelColor":"black","axisLabelFontSize":14,"axisLabelWidth":60,"drawGrid":true,"gridLineWidth":0.3,"rightGap":5,"digitsAfterDecimal":2,"labelsKMB":false,"labelsKMG2":false,"labelsUTC":false,"maxNumberWidth":6,"animatedZooms":false,"mobileDisableYTouch":true,"retainDateWindow":true,"disableZoom":false,"colors":["orange","purple","navy"]},"scale":"minute","annotations":[],"shadings":[],"events":[],"format":"date","data":[["2023-04-30T22:00:00.000Z","2023-04-30T22:15:00.000Z","2023-04-30T22:30:00.000Z","2023-04-30T22:45:00.000Z","2023-04-30T23:00:00.000Z","2023-04-30T23:15:00.000Z","2023-04-30T23:30:00.000Z","2023-04-30T23:45:00.000Z","2023-05-01T00:00:00.000Z","2023-05-01T00:15:00.000Z","2023-05-01T00:30:00.000Z","2023-05-01T00:45:00.000Z","2023-05-01T01:00:00.000Z","2023-05-01T01:15:00.000Z","2023-05-01T01:30:00.000Z","2023-05-01T01:45:00.000Z","2023-05-01T02:00:00.000Z","2023-05-01T02:15:00.000Z","2023-05-01T02:30:00.000Z","2023-05-01T02:45:00.000Z","2023-05-01T03:00:00.000Z","2023-05-01T03:15:00.000Z","2023-05-01T03:30:00.000Z","2023-05-01T03:45:00.000Z","2023-05-01T04:00:00.000Z","2023-05-01T04:15:00.000Z","2023-05-01T04:30:00.000Z","2023-05-01T04:45:00.000Z","2023-05-01T05:00:00.000Z","2023-05-01T05:15:00.000Z","2023-05-01T05:30:00.000Z","2023-05-01T05:45:00.000Z","2023-05-01T06:00:00.000Z","2023-05-01T06:15:00.000Z","2023-05-01T06:30:00.000Z","2023-05-01T06:45:00.000Z","2023-05-01T07:00:00.000Z","2023-05-01T07:15:00.000Z","2023-05-01T07:30:00.000Z","2023-05-01T07:45:00.000Z","2023-05-01T08:00:00.000Z","2023-05-01T08:15:00.000Z","2023-05-01T08:30:00.000Z","2023-05-01T08:45:00.000Z","2023-05-01T09:00:00.000Z","2023-05-01T09:15:00.000Z","2023-05-01T09:30:00.000Z","2023-05-01T09:45:00.000Z","2023-05-01T10:00:00.000Z","2023-05-01T10:15:00.000Z","2023-05-01T10:30:00.000Z","2023-05-01T10:45:00.000Z","2023-05-01T11:00:00.000Z","2023-05-01T11:15:00.000Z","2023-05-01T11:30:00.000Z","2023-05-01T11:45:00.000Z","2023-05-01T12:00:00.000Z","2023-05-01T12:15:00.000Z","2023-05-01T12:30:00.000Z","2023-05-01T12:45:00.000Z","2023-05-01T13:00:00.000Z","2023-05-01T13:15:00.000Z","2023-05-01T13:30:00.000Z","2023-05-01T13:45:00.000Z","2023-05-01T14:00:00.000Z","2023-05-01T14:15:00.000Z","2023-05-01T14:30:00.000Z","2023-05-01T14:45:00.000Z","2023-05-01T15:00:00.000Z","2023-05-01T15:15:00.000Z","2023-05-01T15:30:00.000Z","2023-05-01T15:45:00.000Z","2023-05-01T16:00:00.000Z","2023-05-01T16:15:00.000Z","2023-05-01T16:30:00.000Z","2023-05-01T16:45:00.000Z","2023-05-01T17:00:00.000Z","2023-05-01T17:15:00.000Z","2023-05-01T17:30:00.000Z","2023-05-01T17:45:00.000Z","2023-05-01T18:00:00.000Z","2023-05-01T18:15:00.000Z","2023-05-01T18:30:00.000Z","2023-05-01T18:45:00.000Z","2023-05-01T19:00:00.000Z","2023-05-01T19:15:00.000Z","2023-05-01T19:30:00.000Z","2023-05-01T19:45:00.000Z","2023-05-01T20:00:00.000Z","2023-05-01T20:15:00.000Z","2023-05-01T20:30:00.000Z","2023-05-01T20:45:00.000Z","2023-05-01T21:00:00.000Z","2023-05-01T21:15:00.000Z","2023-05-01T21:30:00.000Z","2023-05-01T21:45:00.000Z","2023-05-01T22:00:00.000Z","2023-05-01T22:15:00.000Z","2023-05-01T22:30:00.000Z","2023-05-01T22:45:00.000Z","2023-05-01T23:00:00.000Z","2023-05-01T23:15:00.000Z","2023-05-01T23:30:00.000Z","2023-05-01T23:45:00.000Z","2023-05-02T00:00:00.000Z","2023-05-02T00:15:00.000Z","2023-05-02T00:30:00.000Z","2023-05-02T00:45:00.000Z","2023-05-02T01:00:00.000Z","2023-05-02T01:15:00.000Z","2023-05-02T01:30:00.000Z","2023-05-02T01:45:00.000Z","2023-05-02T02:00:00.000Z","2023-05-02T02:15:00.000Z","2023-05-02T02:30:00.000Z","2023-05-02T02:45:00.000Z","2023-05-02T03:00:00.000Z","2023-05-02T03:15:00.000Z","2023-05-02T03:30:00.000Z","2023-05-02T03:45:00.000Z","2023-05-02T04:00:00.000Z","2023-05-02T04:15:00.000Z","2023-05-02T04:30:00.000Z","2023-05-02T04:45:00.000Z","2023-05-02T05:00:00.000Z","2023-05-02T05:15:00.000Z","2023-05-02T05:30:00.000Z","2023-05-02T05:45:00.000Z","2023-05-02T06:00:00.000Z","2023-05-02T06:15:00.000Z","2023-05-02T06:30:00.000Z","2023-05-02T06:45:00.000Z","2023-05-02T07:00:00.000Z","2023-05-02T07:15:00.000Z","2023-05-02T07:30:00.000Z","2023-05-02T07:45:00.000Z","2023-05-02T08:00:00.000Z","2023-05-02T08:15:00.000Z","2023-05-02T08:30:00.000Z","2023-05-02T08:45:00.000Z","2023-05-02T09:00:00.000Z","2023-05-02T09:15:00.000Z","2023-05-02T09:30:00.000Z","2023-05-02T09:45:00.000Z","2023-05-02T10:00:00.000Z","2023-05-02T10:15:00.000Z","2023-05-02T10:30:00.000Z","2023-05-02T10:45:00.000Z","2023-05-02T11:00:00.000Z","2023-05-02T11:15:00.000Z","2023-05-02T11:30:00.000Z","2023-05-02T11:45:00.000Z","2023-05-02T12:00:00.000Z","2023-05-02T12:15:00.000Z","2023-05-02T12:30:00.000Z","2023-05-02T12:45:00.000Z","2023-05-02T13:00:00.000Z","2023-05-02T13:15:00.000Z","2023-05-02T13:30:00.000Z","2023-05-02T13:45:00.000Z","2023-05-02T14:00:00.000Z","2023-05-02T14:15:00.000Z","2023-05-02T14:30:00.000Z","2023-05-02T14:45:00.000Z","2023-05-02T15:00:00.000Z","2023-05-02T15:15:00.000Z","2023-05-02T15:30:00.000Z","2023-05-02T15:45:00.000Z","2023-05-02T16:00:00.000Z","2023-05-02T16:15:00.000Z","2023-05-02T16:30:00.000Z","2023-05-02T16:45:00.000Z","2023-05-02T17:00:00.000Z","2023-05-02T17:15:00.000Z","2023-05-02T17:30:00.000Z","2023-05-02T17:45:00.000Z","2023-05-02T18:00:00.000Z","2023-05-02T18:15:00.000Z","2023-05-02T18:30:00.000Z","2023-05-02T18:45:00.000Z","2023-05-02T19:00:00.000Z","2023-05-02T19:15:00.000Z","2023-05-02T19:30:00.000Z","2023-05-02T19:45:00.000Z","2023-05-02T20:00:00.000Z","2023-05-02T20:15:00.000Z","2023-05-02T20:30:00.000Z","2023-05-02T20:45:00.000Z","2023-05-02T21:00:00.000Z","2023-05-02T21:15:00.000Z","2023-05-02T21:30:00.000Z","2023-05-02T21:45:00.000Z","2023-05-02T22:00:00.000Z","2023-05-02T22:15:00.000Z","2023-05-02T22:30:00.000Z","2023-05-02T22:45:00.000Z","2023-05-02T23:00:00.000Z","2023-05-02T23:15:00.000Z","2023-05-02T23:30:00.000Z","2023-05-02T23:45:00.000Z","2023-05-03T00:00:00.000Z","2023-05-03T00:15:00.000Z","2023-05-03T00:30:00.000Z","2023-05-03T00:45:00.000Z","2023-05-03T01:00:00.000Z","2023-05-03T01:15:00.000Z","2023-05-03T01:30:00.000Z","2023-05-03T01:45:00.000Z","2023-05-03T02:00:00.000Z","2023-05-03T02:15:00.000Z","2023-05-03T02:30:00.000Z","2023-05-03T02:45:00.000Z","2023-05-03T03:00:00.000Z","2023-05-03T03:15:00.000Z","2023-05-03T03:30:00.000Z","2023-05-03T03:45:00.000Z","2023-05-03T04:00:00.000Z","2023-05-03T04:15:00.000Z","2023-05-03T04:30:00.000Z","2023-05-03T04:45:00.000Z","2023-05-03T05:00:00.000Z","2023-05-03T05:15:00.000Z","2023-05-03T05:30:00.000Z","2023-05-03T05:45:00.000Z","2023-05-03T06:00:00.000Z","2023-05-03T06:15:00.000Z","2023-05-03T06:30:00.000Z","2023-05-03T06:45:00.000Z","2023-05-03T07:00:00.000Z","2023-05-03T07:15:00.000Z","2023-05-03T07:30:00.000Z","2023-05-03T07:45:00.000Z","2023-05-03T08:00:00.000Z","2023-05-03T08:15:00.000Z","2023-05-03T08:30:00.000Z","2023-05-03T08:45:00.000Z","2023-05-03T09:00:00.000Z","2023-05-03T09:15:00.000Z","2023-05-03T09:30:00.000Z","2023-05-03T09:45:00.000Z","2023-05-03T10:00:00.000Z","2023-05-03T10:15:00.000Z","2023-05-03T10:30:00.000Z","2023-05-03T10:45:00.000Z","2023-05-03T11:00:00.000Z","2023-05-03T11:15:00.000Z","2023-05-03T11:30:00.000Z","2023-05-03T11:45:00.000Z","2023-05-03T12:00:00.000Z","2023-05-03T12:15:00.000Z","2023-05-03T12:30:00.000Z","2023-05-03T12:45:00.000Z","2023-05-03T13:00:00.000Z","2023-05-03T13:15:00.000Z","2023-05-03T13:30:00.000Z","2023-05-03T13:45:00.000Z","2023-05-03T14:00:00.000Z","2023-05-03T14:15:00.000Z","2023-05-03T14:30:00.000Z","2023-05-03T14:45:00.000Z","2023-05-03T15:00:00.000Z","2023-05-03T15:15:00.000Z","2023-05-03T15:30:00.000Z","2023-05-03T15:45:00.000Z","2023-05-03T16:00:00.000Z","2023-05-03T16:15:00.000Z","2023-05-03T16:30:00.000Z","2023-05-03T16:45:00.000Z","2023-05-03T17:00:00.000Z","2023-05-03T17:15:00.000Z","2023-05-03T17:30:00.000Z","2023-05-03T17:45:00.000Z","2023-05-03T18:00:00.000Z","2023-05-03T18:15:00.000Z","2023-05-03T18:30:00.000Z","2023-05-03T18:45:00.000Z","2023-05-03T19:00:00.000Z","2023-05-03T19:15:00.000Z","2023-05-03T19:30:00.000Z","2023-05-03T19:45:00.000Z","2023-05-03T20:00:00.000Z","2023-05-03T20:15:00.000Z","2023-05-03T20:30:00.000Z","2023-05-03T20:45:00.000Z","2023-05-03T21:00:00.000Z","2023-05-03T21:15:00.000Z","2023-05-03T21:30:00.000Z","2023-05-03T21:45:00.000Z","2023-05-03T22:00:00.000Z","2023-05-03T22:15:00.000Z","2023-05-03T22:30:00.000Z","2023-05-03T22:45:00.000Z","2023-05-03T23:00:00.000Z","2023-05-03T23:15:00.000Z","2023-05-03T23:30:00.000Z","2023-05-03T23:45:00.000Z","2023-05-04T00:00:00.000Z","2023-05-04T00:15:00.000Z","2023-05-04T00:30:00.000Z","2023-05-04T00:45:00.000Z","2023-05-04T01:00:00.000Z","2023-05-04T01:15:00.000Z","2023-05-04T01:30:00.000Z","2023-05-04T01:45:00.000Z","2023-05-04T02:00:00.000Z","2023-05-04T02:15:00.000Z","2023-05-04T02:30:00.000Z","2023-05-04T02:45:00.000Z","2023-05-04T03:00:00.000Z","2023-05-04T03:15:00.000Z","2023-05-04T03:30:00.000Z","2023-05-04T03:45:00.000Z","2023-05-04T04:00:00.000Z","2023-05-04T04:15:00.000Z","2023-05-04T04:30:00.000Z","2023-05-04T04:45:00.000Z","2023-05-04T05:00:00.000Z","2023-05-04T05:15:00.000Z","2023-05-04T05:30:00.000Z","2023-05-04T05:45:00.000Z","2023-05-04T06:00:00.000Z","2023-05-04T06:15:00.000Z","2023-05-04T06:30:00.000Z","2023-05-04T06:45:00.000Z","2023-05-04T07:00:00.000Z","2023-05-04T07:15:00.000Z","2023-05-04T07:30:00.000Z","2023-05-04T07:45:00.000Z","2023-05-04T08:00:00.000Z","2023-05-04T08:15:00.000Z","2023-05-04T08:30:00.000Z","2023-05-04T08:45:00.000Z","2023-05-04T09:00:00.000Z","2023-05-04T09:15:00.000Z","2023-05-04T09:30:00.000Z","2023-05-04T09:45:00.000Z","2023-05-04T10:00:00.000Z","2023-05-04T10:15:00.000Z","2023-05-04T10:30:00.000Z","2023-05-04T10:45:00.000Z","2023-05-04T11:00:00.000Z","2023-05-04T11:15:00.000Z","2023-05-04T11:30:00.000Z","2023-05-04T11:45:00.000Z","2023-05-04T12:00:00.000Z","2023-05-04T12:15:00.000Z","2023-05-04T12:30:00.000Z","2023-05-04T12:45:00.000Z","2023-05-04T13:00:00.000Z","2023-05-04T13:15:00.000Z","2023-05-04T13:30:00.000Z","2023-05-04T13:45:00.000Z","2023-05-04T14:00:00.000Z","2023-05-04T14:15:00.000Z","2023-05-04T14:30:00.000Z","2023-05-04T14:45:00.000Z","2023-05-04T15:00:00.000Z","2023-05-04T15:15:00.000Z","2023-05-04T15:30:00.000Z","2023-05-04T15:45:00.000Z","2023-05-04T16:00:00.000Z","2023-05-04T16:15:00.000Z","2023-05-04T16:30:00.000Z","2023-05-04T16:45:00.000Z","2023-05-04T17:00:00.000Z","2023-05-04T17:15:00.000Z","2023-05-04T17:30:00.000Z","2023-05-04T17:45:00.000Z","2023-05-04T18:00:00.000Z","2023-05-04T18:15:00.000Z","2023-05-04T18:30:00.000Z","2023-05-04T18:45:00.000Z","2023-05-04T19:00:00.000Z","2023-05-04T19:15:00.000Z","2023-05-04T19:30:00.000Z","2023-05-04T19:45:00.000Z","2023-05-04T20:00:00.000Z","2023-05-04T20:15:00.000Z","2023-05-04T20:30:00.000Z","2023-05-04T20:45:00.000Z","2023-05-04T21:00:00.000Z","2023-05-04T21:15:00.000Z","2023-05-04T21:30:00.000Z","2023-05-04T21:45:00.000Z","2023-05-04T22:00:00.000Z","2023-05-04T22:15:00.000Z","2023-05-04T22:30:00.000Z","2023-05-04T22:45:00.000Z","2023-05-04T23:00:00.000Z","2023-05-04T23:15:00.000Z","2023-05-04T23:30:00.000Z","2023-05-04T23:45:00.000Z","2023-05-05T00:00:00.000Z","2023-05-05T00:15:00.000Z","2023-05-05T00:30:00.000Z","2023-05-05T00:45:00.000Z","2023-05-05T01:00:00.000Z","2023-05-05T01:15:00.000Z","2023-05-05T01:30:00.000Z","2023-05-05T01:45:00.000Z","2023-05-05T02:00:00.000Z","2023-05-05T02:15:00.000Z","2023-05-05T02:30:00.000Z","2023-05-05T02:45:00.000Z","2023-05-05T03:00:00.000Z","2023-05-05T03:15:00.000Z","2023-05-05T03:30:00.000Z","2023-05-05T03:45:00.000Z","2023-05-05T04:00:00.000Z","2023-05-05T04:15:00.000Z","2023-05-05T04:30:00.000Z","2023-05-05T04:45:00.000Z","2023-05-05T05:00:00.000Z","2023-05-05T05:15:00.000Z","2023-05-05T05:30:00.000Z","2023-05-05T05:45:00.000Z","2023-05-05T06:00:00.000Z","2023-05-05T06:15:00.000Z","2023-05-05T06:30:00.000Z","2023-05-05T06:45:00.000Z","2023-05-05T07:00:00.000Z","2023-05-05T07:15:00.000Z","2023-05-05T07:30:00.000Z","2023-05-05T07:45:00.000Z","2023-05-05T08:00:00.000Z","2023-05-05T08:15:00.000Z","2023-05-05T08:30:00.000Z","2023-05-05T08:45:00.000Z","2023-05-05T09:00:00.000Z","2023-05-05T09:15:00.000Z","2023-05-05T09:30:00.000Z","2023-05-05T09:45:00.000Z","2023-05-05T10:00:00.000Z","2023-05-05T10:15:00.000Z","2023-05-05T10:30:00.000Z","2023-05-05T10:45:00.000Z","2023-05-05T11:00:00.000Z","2023-05-05T11:15:00.000Z","2023-05-05T11:30:00.000Z","2023-05-05T11:45:00.000Z","2023-05-05T12:00:00.000Z","2023-05-05T12:15:00.000Z","2023-05-05T12:30:00.000Z","2023-05-05T12:45:00.000Z","2023-05-05T13:00:00.000Z","2023-05-05T13:15:00.000Z","2023-05-05T13:30:00.000Z","2023-05-05T13:45:00.000Z","2023-05-05T14:00:00.000Z","2023-05-05T14:15:00.000Z","2023-05-05T14:30:00.000Z","2023-05-05T14:45:00.000Z","2023-05-05T15:00:00.000Z","2023-05-05T15:15:00.000Z","2023-05-05T15:30:00.000Z","2023-05-05T15:45:00.000Z","2023-05-05T16:00:00.000Z","2023-05-05T16:15:00.000Z","2023-05-05T16:30:00.000Z","2023-05-05T16:45:00.000Z","2023-05-05T17:00:00.000Z","2023-05-05T17:15:00.000Z","2023-05-05T17:30:00.000Z","2023-05-05T17:45:00.000Z","2023-05-05T18:00:00.000Z","2023-05-05T18:15:00.000Z","2023-05-05T18:30:00.000Z","2023-05-05T18:45:00.000Z","2023-05-05T19:00:00.000Z","2023-05-05T19:15:00.000Z","2023-05-05T19:30:00.000Z","2023-05-05T19:45:00.000Z","2023-05-05T20:00:00.000Z","2023-05-05T20:15:00.000Z","2023-05-05T20:30:00.000Z","2023-05-05T20:45:00.000Z","2023-05-05T21:00:00.000Z","2023-05-05T21:15:00.000Z","2023-05-05T21:30:00.000Z","2023-05-05T21:45:00.000Z"],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.2424671819039967,0.4849343638079936,0.7274015457119902,0.9698687276159862,1.20583069244451,1.441792657273034,1.677754622101558,1.91371658693008,3.423180398455763,4.932644209981448,6.44210802150713,7.951571833032809,7.919975064380512,7.888378295728214,7.856781527075918,7.825184758423618,7.241404888403889,6.657625018384166,6.073845148364438,5.490065278344713,5.93774248981136,6.385419701278007,6.833096912744655,7.280774124211302,7.987646218633161,8.694518313055022,9.401390407476885,10.10826250189874,11.42662500141507,12.7449875009314,14.06335000044774,15.38171249996406,15.96346476985637,16.54521703974868,17.12696930964098,17.70872157953329,17.47081649791599,17.23291141629869,16.99500633468139,16.75710125306409,16.175771399865,15.59444154666591,15.01311169346681,14.43178184026771,13.37303664039981,12.31429144053191,11.255546240664,10.19680104079609,8.532648236215977,6.868495431635863,5.204342627055749,3.540189822475637,2.905128565899906,2.270067309324178,1.635006052748449,0.9999447961727195,0.7499585971295394,0.4999723980863597,0.2499861990431799,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.1857788616748741,0.3715577233497483,0.5573365850246225,0.7431154466994966,0.8799784553003588,1.016841463901221,1.153704472502083,1.290567481102946,1.409097605218383,1.527627729333822,1.64615785344926,1.764687977564698,2.134556034141596,2.504424090718494,2.874292147295393,3.244160203872289,3.702144382653323,4.160128561434357,4.618112740215391,5.076096918996424,4.329940072105797,3.583783225215172,2.837626378324544,2.091469531433918,2.423911468992185,2.756353406550452,3.088795344108719,3.421237281666986,3.605241993230368,3.789246704793751,3.973251416357131,4.157256127920514,6.057877797361007,7.958499466801499,9.859121136241992,11.75974280568248,10.02918609692936,8.298629388176231,6.568072679423107,4.837515970669982,4.897752591122091,4.9579892115742,5.018225832026308,5.078462452478415,4.511917183541757,3.945371914605102,3.378826645668446,2.812281376731792,2.321517662557465,1.830753948383138,1.339990234208812,0.8492265200344857,0.6918340601434944,0.5344416002525025,0.3770491403615112,0.2196566804705196,0.1647425103528897,0.1098283402352598,0.0549141701176299,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9.486769009248133e-17,0.1080541901237672,0.2161083802475344,0.3241625703713016,0.4322167604950687,1.79476404612143,3.157311331747791,4.519858617374156,5.882405903000512,6.758667091400604,7.634928279800691,8.511189468200781,9.387450656600864,10.22197707571156,11.05650349482224,11.89102991393294,12.72555633304363,13.69044054367971,14.65532475431579,15.62020896495187,16.58509317558794,17.54195146905298,18.49880976251802,19.45566805598306,20.4125263494481,20.60835872842143,20.80419110739477,21.0000234863681,21.19585586534143,20.88343647904144,20.57101709274145,20.25859770644146,19.94617832014146,19.90621770096356,19.86625708178565,19.82629646260775,19.78633584342983,19.4489938722303,19.11165190103077,18.77430992983124,18.43696795863171,17.64130387529657,16.84563979196144,16.0499757086263,15.25431162529116,14.11801072054944,12.98170981580771,11.84540891106599,10.70910800632426,9.431044059340405,8.152980112356548,6.874916165372695,5.596852218388838,4.544189818903196,3.491527419417551,2.438865019931908,1.386202620446264,1.039651965334698,0.6931013102231319,0.3465506551115659,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.3730784234453133,0.7461568468906269,1.11923527033594,1.492313693781254,2.14139918457164,2.790484675362025,3.439570166152412,4.088655656942795,5.647035321542489,7.205414986142187,8.763794650741877,10.32217431534158,11.19683032030746,12.07148632527334,12.94614233023921,13.8207983352051,13.39736784192885,12.9739373486526,12.55050685537636,12.12707636210011,13.37329009041574,14.61950381873137,15.86571754704699,17.11193127536263,17.67188684388517,18.2318424124077,18.79179798093024,19.35175354945277,18.42995584152438,17.50815813359598,16.58636042566758,15.66456271773918,15.1158434332561,14.56712414877301,14.01840486428992,13.46968557980683,12.68483536381794,11.89998514782905,11.11513493184015,10.33028471585125,9.102234905343767,7.874185094836276,6.646135284328786,5.418085473821295,5.035122499754809,4.652159525688321,4.269196551621835,3.886233577555349,3.620195544170091,3.354157510784834,3.088119477399579,2.822081444014324,2.303522711426611,1.7849639788389,1.266405246251188,0.7478465136634765,0.5608848852476075,0.3739232568317385,0.1869616284158692,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2.371692252312034e-17,0.1776684611651935,0.3553369223303869,0.5330053834955804,0.7106738446607742,1.313884882568278,1.917095920475782,2.520306958383286,3.123517996290789,4.369309307913206,5.615100619535624,6.860891931158041,8.106683242780448,9.910571489475272,11.7144597361701,13.51834798286492,15.32223622955974,15.98940115481962,16.6565660800795,17.32373100533939,17.99089593059927,18.7054560088376,19.42001608707593,20.13457616531426,20.84913624355259,21.13063472790942,21.41213321226626,21.6936316966231,21.97513018097992,22.02413051739257,22.07313085380523,22.12213119021789,22.17113152663054,21.74381479977674,21.31649807292294,20.88918134606914,20.46186461921533,19.9858010059648,19.50973739271427,19.03367377946374,18.55761016621321,17.5378117854595,16.51801340470579,15.49821502395208,14.47841664319837,12.86115209156485,11.24388753993133,9.626622988297804,8.009358436664288,7.234899671328419,6.460440905992553,5.685982140656688,4.911523375320818,3.912169962518598,2.912816549716376,1.913463136914154,0.9141097241119316,0.6855822930839488,0.4570548620559658,0.228527431027983,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,7.4,11.1,11.1,11.1,11.1,11.1,11.1,11.1,11.1,11.1,11.1,11.1,8.879999999999999,7.4,10.5,7.4,7.4,5.18,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.84,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,2.66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,0.3,0,0,0,0,0,0,0,0,0,0,3.7,3.7,3.7,3.7,3.7,3.7,3.7,7.4,7.4,7.4,7.4,7.4,7.4,7.4,7.4,5.32,3.7,3.7,3.7,3.7,7.4,7.4,4.16,3.7,7.4,7.4,7.4,7.4,7.4,7.4,7.4,7.4,7.4,7.4,7.4,7.4,7.4,7.4,7.1,3.7,3.7,2.82,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.7,2.5,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.7,7.4,7.4,7.4,7.4,7.4,7.4,7.4,7.4,7.4,11.1,11.1,11.1,11.1,7.98,7.4,7.4,7.4,4.720000000000001,7.4,7.4,7.4,7.4,7.4,7.4,7.4,7.4,5.76,3.7,3.7,3.7,3.7,3.7,3.7,1.5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[3.061015545711201,2.980383875058471,2.899752204405745,2.819120533753014,2.738488863100288,2.636600140046788,2.534711416993284,2.432822693939784,2.330933970886284,2.311853845538604,2.292773720190923,2.273693594843243,2.254613469495562,2.261400359719902,2.268187249944247,2.274974140168591,2.281761030392936,2.313603924149911,2.345446817906891,2.377289711663872,2.409132605420852,2.505386929042826,2.601641252664796,2.697895576286765,2.794149899908734,3.042917171779622,3.291684443650505,3.540451715521388,3.789218987392276,4.106794228078509,4.424369468764746,4.741944709450983,5.059519950137225,5.084704008202408,5.109888066267546,5.135072124332731,5.160256182397915,5.102674327601435,5.045092472804955,4.987510618008521,4.92992876321204,4.71987664501082,4.509824526809618,4.299772408608412,4.089720290407204,3.986977870470142,3.884235450533075,3.781493030596009,3.678750610658941,3.630986270023476,3.583221929388,3.535457588752534,3.487693248117063,3.648487056136561,3.809280864156054,3.970074672175551,4.130868480195048,4.006228735194536,3.881588990194023,3.756949245193514,3.632309500192997,3.687074155273703,3.741838810354409,3.796603465435115,3.851368120515815,4.33537156865308,4.819375016790335,5.303378464927592,5.787381913064848,5.954279653801858,6.121177394538821,6.288075135275831,6.454972876012795,6.513579167069559,6.572185458126324,6.630791749183041,6.689398040239806,6.666988497046201,6.644578953852641,6.622169410659034,6.599759867465474,6.596003601177781,6.592247334890088,6.588491068602394,6.584734802314701,6.570350009826647,6.555965217338591,6.541580424850491,6.527195632362435,6.247695272683199,5.968194913003962,5.688694553324724,5.409194193645487,5.109205108760706,4.809216023875925,4.509226938991124,4.209237854106329,3.974556580814268,3.73987530752221,3.505194034230149,3.270512760938087,3.079583452928744,2.888654144919396,2.697724836910052,2.506795528900704,2.485367737123223,2.463939945345736,2.442512153568249,2.421084361790763,2.465220490671085,2.509356619551401,2.553492748431722,2.597628877312038,2.568560498426645,2.539492119541252,2.510423740655859,2.481355361770465,2.57556081287188,2.669766263973295,2.76397171507471,2.85817716617612,2.892623835427975,2.92707050467983,2.96151717393168,2.995963843183536,3.564397913105393,4.132831983027246,4.701266052949122,5.269700122870952,5.386998074672818,5.504296026474639,5.621593978276505,5.738891930078372,5.689078716922337,5.639265503766302,5.589452290610269,5.539639077454234,5.57741516455201,5.615191251649787,5.652967338747517,5.690743425845293,6.050662031956351,6.410580638067411,6.770499244178468,7.130417850289573,6.753724100416449,6.377030350543324,6.000336600670198,5.623642850797073,5.587872951375696,5.55210305195432,5.516333152532942,5.480563253111566,5.381747838838891,5.282932424566216,5.184117010293541,5.085301596020866,5.005737046472607,4.926172496924347,4.846607947376088,4.767043397827782,5.302994301329979,5.838945204832222,6.374896108334417,6.910847011836614,7.174895457923295,7.438943904010025,7.702992350096709,7.967040796183391,7.704571689331281,7.442102582479216,7.179633475627105,6.917164368774994,6.826672499117098,6.736180629459157,6.645688759801262,6.555196890143367,6.772633486387421,6.990070082631429,7.207506678875484,7.424943275119536,7.227013652664958,7.02908403021038,6.831154407755801,6.633224785301223,6.462186614678953,6.291148444056637,6.120110273434368,5.949072102812099,5.524699381991891,5.100326661171637,4.675953940351384,4.251581219531159,3.853118199127123,3.454655178723091,3.056192158319059,2.657729137915023,2.587854047995216,2.517978958075409,2.448103868155602,2.378228778235795,2.422151482895221,2.466074187554647,2.509996892214077,2.553919596873503,2.506240625926389,2.458561654979274,2.41088268403216,2.36320371308505,2.40772400556297,2.452244298040894,2.496764590518818,2.541284882996737,2.643515084803662,2.745745286610592,2.847975488417516,2.950205690224446,3.148263367211559,3.346321044198676,3.544378721185789,3.742436398172902,4.044431670734075,4.346426943295246,4.648422215856404,4.950417488417585,5.128413288640907,5.306409088864275,5.484404889087597,5.662400689310918,5.691511753040518,5.720622816770071,5.749733880499623,5.778844944229222,5.383071069008404,4.98729719378763,4.591523318566802,4.195749443346,4.444986248502843,4.694223053659687,4.943459858816532,5.19269666397338,5.003730858796253,4.81476505361908,4.625799248441954,4.436833443264799,4.293156257760784,4.149479072256768,4.005801886752754,3.86212470124874,3.825927953385576,3.789731205522413,3.753534457659251,3.717337709796088,3.786145678611442,3.854953647426792,3.923761616242141,3.992569585057494,4.382410266937518,4.772250948817542,5.162091630697593,5.551932312577598,5.78460739819327,6.01728248380894,6.249957569424658,6.482632655040329,6.432819441884295,6.383006228728261,6.333193015572226,6.283379802416238,6.257939635285994,6.23249946815575,6.207059301025508,6.181619133895263,6.221145299604333,6.260671465313403,6.300197631022427,6.339723796731497,6.397604445437252,6.45548509414296,6.51336574284867,6.571246391554377,6.26417162253599,5.957096853517603,5.650022084499216,5.34294731548083,4.910037625824953,4.477127936169071,4.044218246513183,3.611308556857297,3.451453815409723,3.291599073962149,3.131744332514575,2.971889591066997,2.90820380355304,2.844518016039079,2.780832228525119,2.717146441011158,2.63553301894233,2.553919596873503,2.472306174804676,2.390692752735844,2.411864435448261,2.433036118160679,2.454207800873092,2.47537948358551,2.463086248462169,2.450793013338833,2.438499778215492,2.426206543092156,2.446652583453541,2.467098623814927,2.487544664176311,2.507990704537697,2.602025416262399,2.696060127987101,2.790094839711803,2.884129551436501,3.315716010922861,3.747302470409227,4.178888929895587,4.610475389381948,4.85719378873228,5.10391218808261,5.350630587432939,5.597348986783267,5.901222392488295,6.205095798193275,6.508969203898304,6.812842609603332,6.625541513349114,6.438240417094943,6.250939320840727,6.063638224586556,6.189088981626434,6.314539738666359,6.439990495706238,6.565441252746163,6.17244189239692,5.779442532047725,5.386443171698484,4.993443811349289,4.843876117348679,4.69430842334807,4.544740729347433,4.395173035346819,4.619738000568632,4.844302965790461,5.068867931012242,5.29343289623407,5.287030169607353,5.280627442980588,5.27422471635387,5.267821989727104,5.517613697858287,5.767405405989422,6.017197114120604,6.266988822251784,6.385353895158056,6.503718968064376,6.622084040970696,6.740449113877016,7.057298712212202,7.374148310547387,7.690997908882618,8.007847507217805,8.051898266409795,8.095949025601737,8.139999784793723,8.184050543985665,8.029958256502137,7.875865969018656,7.721773681535129,7.567681394051647,7.417857590985932,7.268033787920262,7.118209984854594,6.968386181788879,6.613760496355916,6.259134810922955,5.904509125489992,5.549883440057028,5.149456916820786,4.749030393584588,4.34860387034834,3.948177347112105,3.812055379027641,3.675933410943176,3.539811442858716,3.403689474774252,3.417860843041435,3.432032211308617,3.446203579575795,3.460374947842978,3.332277730464028,3.204180513085078,3.076083295706124,2.947986078327174,2.917338360207186,2.886690642087198,2.85604292396721,2.825395205847221,2.801790487016646,2.778185768186066,2.754581049355491,2.730976330524915,2.705920326992275,2.680864323459639,2.655808319927003,2.630752316394367,2.691322110283315,2.75189190417226,2.812461698061209,2.873031491950157,3.28592198968644,3.698812487422724,4.111702985159011,4.524593482895295,4.829832803614022,5.135072124332731,5.44031144505144,5.745550765770149,5.624411177992299,5.503271590214401,5.382132002436503,5.260992414658605,5.233972908293744,5.206953401928929,5.179933895564067,5.152914389199251,5.093198292193864,5.033482195188477,4.973766098183091,4.914050001177706,4.896933378662241,4.879816756146732,4.862700133631268,4.845583511115804,4.810838047954712,4.776092584793572,4.74134712163248,4.706601658471387,4.695119435387417,4.683637212303493,4.672154989219523,4.660672766135599,4.536289130200136,4.411905494264693,4.287521858329248,4.163138222393809,4.482378172002997,4.801618121612201,5.120858071221352,5.44009802083055,5.608575100802131,5.777052180773714,5.945529260745296,6.114006340716879,6.219011057395427,6.32401577407393,6.429020490752433,6.534025207430934,6.648719383737899,6.763413560044909,6.878107736351874,6.992801912658838,7.037492944513497,7.08218397636811,7.126875008222772,7.171566040077384,7.103697137833987,7.035828235590542,6.967959333347097,6.900090431103698,6.612351896498066,6.324613361892434,6.0368748272868,5.749136292681167,5.175153193016135,4.601170093351085,4.027186993686057]],"fixedtz":true,"tzone":"Europe/Amsterdam","css":"/* Dygraph styling */\n\n.dygraph-title {\n  text-align: left;\n  font-weight: normal;\n  font-size: 70%;\n}\n\n.dygraph-legend {\n  color: white;\n  background-color: #BABABA !important;\n    padding-left:5px;\n  border-color:#BABABA;\n    border-style:solid;\n  border-width:thin;\n  transition:0s 4s;\n  z-index: 20 !important;\n  box-shadow: 2px 2px 5px rgba(0, 0, 0, .3);\n  border-radius: 3px;\n}\n\n.dygraph-legend:hover{\n  transform: translate(-110%);\n  transition: 0s;\n}\n\n.dygraph-legend > span {\n  color: black;\n  padding-left:5px;\n  margin-left:-5px;\n  background-color: white !important;\n  display: block;\n}\n\n.dygraph-legend > span > span{\n  display: inline;\n}\n\n.highlight {\n  border-left: 2px solid #BABABA;\n  padding-left:3px !important;\n\n}"},"evals":["attrs.series.HomeEV.plotter","attrs.series.building.plotter"],"jsHooks":[]}</script><div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ev_sessions</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/smart_charging.html">smart_charging</a></span><span class="op">(</span></span>
<span>    opt_data <span class="op">=</span> <span class="va">energy_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span>static <span class="op">=</span> <span class="va">building</span>, production <span class="op">=</span> <span class="va">solar</span><span class="op">)</span>, </span>
<span>    opt_objective <span class="op">=</span> <span class="st">"grid"</span>,</span>
<span>    method <span class="op">=</span> <span class="st">"curtail"</span>,</span>
<span>    window_days <span class="op">=</span> <span class="fl">1</span>, </span>
<span>    window_start_hour <span class="op">=</span> <span class="fl">6</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning: Unknown or uninitialised column: `sessions`.</span></span></code></pre>
<pre><code><span><span class="co">## Warning: Unknown or uninitialised column: `demand`.</span></span></code></pre>
<pre><code><span><span class="co">## Warning: Unknown or uninitialised column: `log`.</span></span></code></pre>
<div class="dygraphs html-widget html-fill-item" id="htmlwidget-10b3b7155e8045a1b2ad" style="width:700px;height:432.632880098888px;"></div>
<script type="application/json" data-for="htmlwidget-10b3b7155e8045a1b2ad">{"x":{"attrs":{"ylabel":"Power (kW)","labels":["minute","Setpoint","Flexible EVs"],"axes":{"x":{"pixelsPerLabel":60,"drawAxis":true},"y":{"drawAxis":true}},"legend":"auto","labelsDivWidth":250,"labelsShowZeroValues":false,"labelsSeparateLines":false,"hideOverlayOnMouseOut":true,"stackedGraph":false,"fillGraph":false,"fillAlpha":0.15,"stepPlot":false,"drawPoints":false,"pointSize":1,"drawGapEdgePoints":false,"connectSeparatedPoints":false,"strokeWidth":2,"strokeBorderColor":"white","colorValue":0.5,"colorSaturation":1,"includeZero":false,"drawAxesAtZero":false,"logscale":false,"axisTickSize":3,"axisLineColor":"black","axisLineWidth":0.3,"axisLabelColor":"black","axisLabelFontSize":14,"axisLabelWidth":60,"drawGrid":true,"gridLineWidth":0.3,"rightGap":5,"digitsAfterDecimal":2,"labelsKMB":false,"labelsKMG2":false,"labelsUTC":false,"maxNumberWidth":6,"animatedZooms":false,"mobileDisableYTouch":true,"retainDateWindow":true,"disableZoom":false,"colors":["red","navy"],"series":{"Setpoint":{"axis":"y","strokeWidth":2,"strokePattern":[7,3]},"Flexible EVs":{"axis":"y"}}},"scale":"minute","annotations":[],"shadings":[],"events":[],"format":"date","data":[["2023-04-30T22:00:00.000Z","2023-04-30T22:15:00.000Z","2023-04-30T22:30:00.000Z","2023-04-30T22:45:00.000Z","2023-04-30T23:00:00.000Z","2023-04-30T23:15:00.000Z","2023-04-30T23:30:00.000Z","2023-04-30T23:45:00.000Z","2023-05-01T00:00:00.000Z","2023-05-01T00:15:00.000Z","2023-05-01T00:30:00.000Z","2023-05-01T00:45:00.000Z","2023-05-01T01:00:00.000Z","2023-05-01T01:15:00.000Z","2023-05-01T01:30:00.000Z","2023-05-01T01:45:00.000Z","2023-05-01T02:00:00.000Z","2023-05-01T02:15:00.000Z","2023-05-01T02:30:00.000Z","2023-05-01T02:45:00.000Z","2023-05-01T03:00:00.000Z","2023-05-01T03:15:00.000Z","2023-05-01T03:30:00.000Z","2023-05-01T03:45:00.000Z","2023-05-01T04:00:00.000Z","2023-05-01T04:15:00.000Z","2023-05-01T04:30:00.000Z","2023-05-01T04:45:00.000Z","2023-05-01T05:00:00.000Z","2023-05-01T05:15:00.000Z","2023-05-01T05:30:00.000Z","2023-05-01T05:45:00.000Z","2023-05-01T06:00:00.000Z","2023-05-01T06:15:00.000Z","2023-05-01T06:30:00.000Z","2023-05-01T06:45:00.000Z","2023-05-01T07:00:00.000Z","2023-05-01T07:15:00.000Z","2023-05-01T07:30:00.000Z","2023-05-01T07:45:00.000Z","2023-05-01T08:00:00.000Z","2023-05-01T08:15:00.000Z","2023-05-01T08:30:00.000Z","2023-05-01T08:45:00.000Z","2023-05-01T09:00:00.000Z","2023-05-01T09:15:00.000Z","2023-05-01T09:30:00.000Z","2023-05-01T09:45:00.000Z","2023-05-01T10:00:00.000Z","2023-05-01T10:15:00.000Z","2023-05-01T10:30:00.000Z","2023-05-01T10:45:00.000Z","2023-05-01T11:00:00.000Z","2023-05-01T11:15:00.000Z","2023-05-01T11:30:00.000Z","2023-05-01T11:45:00.000Z","2023-05-01T12:00:00.000Z","2023-05-01T12:15:00.000Z","2023-05-01T12:30:00.000Z","2023-05-01T12:45:00.000Z","2023-05-01T13:00:00.000Z","2023-05-01T13:15:00.000Z","2023-05-01T13:30:00.000Z","2023-05-01T13:45:00.000Z","2023-05-01T14:00:00.000Z","2023-05-01T14:15:00.000Z","2023-05-01T14:30:00.000Z","2023-05-01T14:45:00.000Z","2023-05-01T15:00:00.000Z","2023-05-01T15:15:00.000Z","2023-05-01T15:30:00.000Z","2023-05-01T15:45:00.000Z","2023-05-01T16:00:00.000Z","2023-05-01T16:15:00.000Z","2023-05-01T16:30:00.000Z","2023-05-01T16:45:00.000Z","2023-05-01T17:00:00.000Z","2023-05-01T17:15:00.000Z","2023-05-01T17:30:00.000Z","2023-05-01T17:45:00.000Z","2023-05-01T18:00:00.000Z","2023-05-01T18:15:00.000Z","2023-05-01T18:30:00.000Z","2023-05-01T18:45:00.000Z","2023-05-01T19:00:00.000Z","2023-05-01T19:15:00.000Z","2023-05-01T19:30:00.000Z","2023-05-01T19:45:00.000Z","2023-05-01T20:00:00.000Z","2023-05-01T20:15:00.000Z","2023-05-01T20:30:00.000Z","2023-05-01T20:45:00.000Z","2023-05-01T21:00:00.000Z","2023-05-01T21:15:00.000Z","2023-05-01T21:30:00.000Z","2023-05-01T21:45:00.000Z","2023-05-01T22:00:00.000Z","2023-05-01T22:15:00.000Z","2023-05-01T22:30:00.000Z","2023-05-01T22:45:00.000Z","2023-05-01T23:00:00.000Z","2023-05-01T23:15:00.000Z","2023-05-01T23:30:00.000Z","2023-05-01T23:45:00.000Z","2023-05-02T00:00:00.000Z","2023-05-02T00:15:00.000Z","2023-05-02T00:30:00.000Z","2023-05-02T00:45:00.000Z","2023-05-02T01:00:00.000Z","2023-05-02T01:15:00.000Z","2023-05-02T01:30:00.000Z","2023-05-02T01:45:00.000Z","2023-05-02T02:00:00.000Z","2023-05-02T02:15:00.000Z","2023-05-02T02:30:00.000Z","2023-05-02T02:45:00.000Z","2023-05-02T03:00:00.000Z","2023-05-02T03:15:00.000Z","2023-05-02T03:30:00.000Z","2023-05-02T03:45:00.000Z","2023-05-02T04:00:00.000Z","2023-05-02T04:15:00.000Z","2023-05-02T04:30:00.000Z","2023-05-02T04:45:00.000Z","2023-05-02T05:00:00.000Z","2023-05-02T05:15:00.000Z","2023-05-02T05:30:00.000Z","2023-05-02T05:45:00.000Z","2023-05-02T06:00:00.000Z","2023-05-02T06:15:00.000Z","2023-05-02T06:30:00.000Z","2023-05-02T06:45:00.000Z","2023-05-02T07:00:00.000Z","2023-05-02T07:15:00.000Z","2023-05-02T07:30:00.000Z","2023-05-02T07:45:00.000Z","2023-05-02T08:00:00.000Z","2023-05-02T08:15:00.000Z","2023-05-02T08:30:00.000Z","2023-05-02T08:45:00.000Z","2023-05-02T09:00:00.000Z","2023-05-02T09:15:00.000Z","2023-05-02T09:30:00.000Z","2023-05-02T09:45:00.000Z","2023-05-02T10:00:00.000Z","2023-05-02T10:15:00.000Z","2023-05-02T10:30:00.000Z","2023-05-02T10:45:00.000Z","2023-05-02T11:00:00.000Z","2023-05-02T11:15:00.000Z","2023-05-02T11:30:00.000Z","2023-05-02T11:45:00.000Z","2023-05-02T12:00:00.000Z","2023-05-02T12:15:00.000Z","2023-05-02T12:30:00.000Z","2023-05-02T12:45:00.000Z","2023-05-02T13:00:00.000Z","2023-05-02T13:15:00.000Z","2023-05-02T13:30:00.000Z","2023-05-02T13:45:00.000Z","2023-05-02T14:00:00.000Z","2023-05-02T14:15:00.000Z","2023-05-02T14:30:00.000Z","2023-05-02T14:45:00.000Z","2023-05-02T15:00:00.000Z","2023-05-02T15:15:00.000Z","2023-05-02T15:30:00.000Z","2023-05-02T15:45:00.000Z","2023-05-02T16:00:00.000Z","2023-05-02T16:15:00.000Z","2023-05-02T16:30:00.000Z","2023-05-02T16:45:00.000Z","2023-05-02T17:00:00.000Z","2023-05-02T17:15:00.000Z","2023-05-02T17:30:00.000Z","2023-05-02T17:45:00.000Z","2023-05-02T18:00:00.000Z","2023-05-02T18:15:00.000Z","2023-05-02T18:30:00.000Z","2023-05-02T18:45:00.000Z","2023-05-02T19:00:00.000Z","2023-05-02T19:15:00.000Z","2023-05-02T19:30:00.000Z","2023-05-02T19:45:00.000Z","2023-05-02T20:00:00.000Z","2023-05-02T20:15:00.000Z","2023-05-02T20:30:00.000Z","2023-05-02T20:45:00.000Z","2023-05-02T21:00:00.000Z","2023-05-02T21:15:00.000Z","2023-05-02T21:30:00.000Z","2023-05-02T21:45:00.000Z","2023-05-02T22:00:00.000Z","2023-05-02T22:15:00.000Z","2023-05-02T22:30:00.000Z","2023-05-02T22:45:00.000Z","2023-05-02T23:00:00.000Z","2023-05-02T23:15:00.000Z","2023-05-02T23:30:00.000Z","2023-05-02T23:45:00.000Z","2023-05-03T00:00:00.000Z","2023-05-03T00:15:00.000Z","2023-05-03T00:30:00.000Z","2023-05-03T00:45:00.000Z","2023-05-03T01:00:00.000Z","2023-05-03T01:15:00.000Z","2023-05-03T01:30:00.000Z","2023-05-03T01:45:00.000Z","2023-05-03T02:00:00.000Z","2023-05-03T02:15:00.000Z","2023-05-03T02:30:00.000Z","2023-05-03T02:45:00.000Z","2023-05-03T03:00:00.000Z","2023-05-03T03:15:00.000Z","2023-05-03T03:30:00.000Z","2023-05-03T03:45:00.000Z","2023-05-03T04:00:00.000Z","2023-05-03T04:15:00.000Z","2023-05-03T04:30:00.000Z","2023-05-03T04:45:00.000Z","2023-05-03T05:00:00.000Z","2023-05-03T05:15:00.000Z","2023-05-03T05:30:00.000Z","2023-05-03T05:45:00.000Z","2023-05-03T06:00:00.000Z","2023-05-03T06:15:00.000Z","2023-05-03T06:30:00.000Z","2023-05-03T06:45:00.000Z","2023-05-03T07:00:00.000Z","2023-05-03T07:15:00.000Z","2023-05-03T07:30:00.000Z","2023-05-03T07:45:00.000Z","2023-05-03T08:00:00.000Z","2023-05-03T08:15:00.000Z","2023-05-03T08:30:00.000Z","2023-05-03T08:45:00.000Z","2023-05-03T09:00:00.000Z","2023-05-03T09:15:00.000Z","2023-05-03T09:30:00.000Z","2023-05-03T09:45:00.000Z","2023-05-03T10:00:00.000Z","2023-05-03T10:15:00.000Z","2023-05-03T10:30:00.000Z","2023-05-03T10:45:00.000Z","2023-05-03T11:00:00.000Z","2023-05-03T11:15:00.000Z","2023-05-03T11:30:00.000Z","2023-05-03T11:45:00.000Z","2023-05-03T12:00:00.000Z","2023-05-03T12:15:00.000Z","2023-05-03T12:30:00.000Z","2023-05-03T12:45:00.000Z","2023-05-03T13:00:00.000Z","2023-05-03T13:15:00.000Z","2023-05-03T13:30:00.000Z","2023-05-03T13:45:00.000Z","2023-05-03T14:00:00.000Z","2023-05-03T14:15:00.000Z","2023-05-03T14:30:00.000Z","2023-05-03T14:45:00.000Z","2023-05-03T15:00:00.000Z","2023-05-03T15:15:00.000Z","2023-05-03T15:30:00.000Z","2023-05-03T15:45:00.000Z","2023-05-03T16:00:00.000Z","2023-05-03T16:15:00.000Z","2023-05-03T16:30:00.000Z","2023-05-03T16:45:00.000Z","2023-05-03T17:00:00.000Z","2023-05-03T17:15:00.000Z","2023-05-03T17:30:00.000Z","2023-05-03T17:45:00.000Z","2023-05-03T18:00:00.000Z","2023-05-03T18:15:00.000Z","2023-05-03T18:30:00.000Z","2023-05-03T18:45:00.000Z","2023-05-03T19:00:00.000Z","2023-05-03T19:15:00.000Z","2023-05-03T19:30:00.000Z","2023-05-03T19:45:00.000Z","2023-05-03T20:00:00.000Z","2023-05-03T20:15:00.000Z","2023-05-03T20:30:00.000Z","2023-05-03T20:45:00.000Z","2023-05-03T21:00:00.000Z","2023-05-03T21:15:00.000Z","2023-05-03T21:30:00.000Z","2023-05-03T21:45:00.000Z","2023-05-03T22:00:00.000Z","2023-05-03T22:15:00.000Z","2023-05-03T22:30:00.000Z","2023-05-03T22:45:00.000Z","2023-05-03T23:00:00.000Z","2023-05-03T23:15:00.000Z","2023-05-03T23:30:00.000Z","2023-05-03T23:45:00.000Z","2023-05-04T00:00:00.000Z","2023-05-04T00:15:00.000Z","2023-05-04T00:30:00.000Z","2023-05-04T00:45:00.000Z","2023-05-04T01:00:00.000Z","2023-05-04T01:15:00.000Z","2023-05-04T01:30:00.000Z","2023-05-04T01:45:00.000Z","2023-05-04T02:00:00.000Z","2023-05-04T02:15:00.000Z","2023-05-04T02:30:00.000Z","2023-05-04T02:45:00.000Z","2023-05-04T03:00:00.000Z","2023-05-04T03:15:00.000Z","2023-05-04T03:30:00.000Z","2023-05-04T03:45:00.000Z","2023-05-04T04:00:00.000Z","2023-05-04T04:15:00.000Z","2023-05-04T04:30:00.000Z","2023-05-04T04:45:00.000Z","2023-05-04T05:00:00.000Z","2023-05-04T05:15:00.000Z","2023-05-04T05:30:00.000Z","2023-05-04T05:45:00.000Z","2023-05-04T06:00:00.000Z","2023-05-04T06:15:00.000Z","2023-05-04T06:30:00.000Z","2023-05-04T06:45:00.000Z","2023-05-04T07:00:00.000Z","2023-05-04T07:15:00.000Z","2023-05-04T07:30:00.000Z","2023-05-04T07:45:00.000Z","2023-05-04T08:00:00.000Z","2023-05-04T08:15:00.000Z","2023-05-04T08:30:00.000Z","2023-05-04T08:45:00.000Z","2023-05-04T09:00:00.000Z","2023-05-04T09:15:00.000Z","2023-05-04T09:30:00.000Z","2023-05-04T09:45:00.000Z","2023-05-04T10:00:00.000Z","2023-05-04T10:15:00.000Z","2023-05-04T10:30:00.000Z","2023-05-04T10:45:00.000Z","2023-05-04T11:00:00.000Z","2023-05-04T11:15:00.000Z","2023-05-04T11:30:00.000Z","2023-05-04T11:45:00.000Z","2023-05-04T12:00:00.000Z","2023-05-04T12:15:00.000Z","2023-05-04T12:30:00.000Z","2023-05-04T12:45:00.000Z","2023-05-04T13:00:00.000Z","2023-05-04T13:15:00.000Z","2023-05-04T13:30:00.000Z","2023-05-04T13:45:00.000Z","2023-05-04T14:00:00.000Z","2023-05-04T14:15:00.000Z","2023-05-04T14:30:00.000Z","2023-05-04T14:45:00.000Z","2023-05-04T15:00:00.000Z","2023-05-04T15:15:00.000Z","2023-05-04T15:30:00.000Z","2023-05-04T15:45:00.000Z","2023-05-04T16:00:00.000Z","2023-05-04T16:15:00.000Z","2023-05-04T16:30:00.000Z","2023-05-04T16:45:00.000Z","2023-05-04T17:00:00.000Z","2023-05-04T17:15:00.000Z","2023-05-04T17:30:00.000Z","2023-05-04T17:45:00.000Z","2023-05-04T18:00:00.000Z","2023-05-04T18:15:00.000Z","2023-05-04T18:30:00.000Z","2023-05-04T18:45:00.000Z","2023-05-04T19:00:00.000Z","2023-05-04T19:15:00.000Z","2023-05-04T19:30:00.000Z","2023-05-04T19:45:00.000Z","2023-05-04T20:00:00.000Z","2023-05-04T20:15:00.000Z","2023-05-04T20:30:00.000Z","2023-05-04T20:45:00.000Z","2023-05-04T21:00:00.000Z","2023-05-04T21:15:00.000Z","2023-05-04T21:30:00.000Z","2023-05-04T21:45:00.000Z","2023-05-04T22:00:00.000Z","2023-05-04T22:15:00.000Z","2023-05-04T22:30:00.000Z","2023-05-04T22:45:00.000Z","2023-05-04T23:00:00.000Z","2023-05-04T23:15:00.000Z","2023-05-04T23:30:00.000Z","2023-05-04T23:45:00.000Z","2023-05-05T00:00:00.000Z","2023-05-05T00:15:00.000Z","2023-05-05T00:30:00.000Z","2023-05-05T00:45:00.000Z","2023-05-05T01:00:00.000Z","2023-05-05T01:15:00.000Z","2023-05-05T01:30:00.000Z","2023-05-05T01:45:00.000Z","2023-05-05T02:00:00.000Z","2023-05-05T02:15:00.000Z","2023-05-05T02:30:00.000Z","2023-05-05T02:45:00.000Z","2023-05-05T03:00:00.000Z","2023-05-05T03:15:00.000Z","2023-05-05T03:30:00.000Z","2023-05-05T03:45:00.000Z","2023-05-05T04:00:00.000Z","2023-05-05T04:15:00.000Z","2023-05-05T04:30:00.000Z","2023-05-05T04:45:00.000Z","2023-05-05T05:00:00.000Z","2023-05-05T05:15:00.000Z","2023-05-05T05:30:00.000Z","2023-05-05T05:45:00.000Z","2023-05-05T06:00:00.000Z","2023-05-05T06:15:00.000Z","2023-05-05T06:30:00.000Z","2023-05-05T06:45:00.000Z","2023-05-05T07:00:00.000Z","2023-05-05T07:15:00.000Z","2023-05-05T07:30:00.000Z","2023-05-05T07:45:00.000Z","2023-05-05T08:00:00.000Z","2023-05-05T08:15:00.000Z","2023-05-05T08:30:00.000Z","2023-05-05T08:45:00.000Z","2023-05-05T09:00:00.000Z","2023-05-05T09:15:00.000Z","2023-05-05T09:30:00.000Z","2023-05-05T09:45:00.000Z","2023-05-05T10:00:00.000Z","2023-05-05T10:15:00.000Z","2023-05-05T10:30:00.000Z","2023-05-05T10:45:00.000Z","2023-05-05T11:00:00.000Z","2023-05-05T11:15:00.000Z","2023-05-05T11:30:00.000Z","2023-05-05T11:45:00.000Z","2023-05-05T12:00:00.000Z","2023-05-05T12:15:00.000Z","2023-05-05T12:30:00.000Z","2023-05-05T12:45:00.000Z","2023-05-05T13:00:00.000Z","2023-05-05T13:15:00.000Z","2023-05-05T13:30:00.000Z","2023-05-05T13:45:00.000Z","2023-05-05T14:00:00.000Z","2023-05-05T14:15:00.000Z","2023-05-05T14:30:00.000Z","2023-05-05T14:45:00.000Z","2023-05-05T15:00:00.000Z","2023-05-05T15:15:00.000Z","2023-05-05T15:30:00.000Z","2023-05-05T15:45:00.000Z","2023-05-05T16:00:00.000Z","2023-05-05T16:15:00.000Z","2023-05-05T16:30:00.000Z","2023-05-05T16:45:00.000Z","2023-05-05T17:00:00.000Z","2023-05-05T17:15:00.000Z","2023-05-05T17:30:00.000Z","2023-05-05T17:45:00.000Z","2023-05-05T18:00:00.000Z","2023-05-05T18:15:00.000Z","2023-05-05T18:30:00.000Z","2023-05-05T18:45:00.000Z","2023-05-05T19:00:00.000Z","2023-05-05T19:15:00.000Z","2023-05-05T19:30:00.000Z","2023-05-05T19:45:00.000Z","2023-05-05T20:00:00.000Z","2023-05-05T20:15:00.000Z","2023-05-05T20:30:00.000Z","2023-05-05T20:45:00.000Z","2023-05-05T21:00:00.000Z","2023-05-05T21:15:00.000Z","2023-05-05T21:30:00.000Z","2023-05-05T21:45:00.000Z"],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.67,7.53,10.93,11.17,11.1,11.12,11.08,11.08,11.07,11.2,10.99,9.42,7.27,5.12,4.32,3.52,2.71,1.91,1.6,1.29,0.99,0.68,0.7,0.72,0.74,0.77,0.77,0.77,0.78,0.78,0.79,0.8100000000000001,0.82,0.84,1.11,1.39,1.67,1.95,2.25,2.55,2.85,3.15,3.38,3.62,3.85,4.09,4.28,4.47,4.66,4.85,4.87,4.89,4.91,4.93,4.89,4.85,4.8,4.76,4.97,5.19,5.4,5.62,5.66,5.7,5.74,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.13,0.43,0.72,1.02,0.84,0.67,0.49,0.32,2.59,4.87,7.15,9.42,7.73,6.04,4.34,2.65,2.81,2.97,3.12,3.28,2.8,2.31,1.82,1.34,0.31,0.09,0.09,0.09,0.08,0.17,2.27,1.85,2.06,2.26,2.47,2.68,2.77,2.86,2.95,3.04,2.82,2.61,2.39,2.17,2.37,2.57,2.77,2.96,3.13,3.31,3.48,3.65,4.07,4.5,4.92,5.34,5.74,6.14,6.54,6.94,7.01,7.08,7.15,7.22,7.17,7.13,7.08,7.04,7.09,7.14,7.18,7.23,7.29,7.36,7.42,7.49,8.75,10.01,11.27,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.38,3.53,3.68,3.83,3.98,3.79,3.71,3.68,3.49,2.73,1.97,1.21,0.45,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.03,0.13,3.29,3.69,3.39,3.1,2.8,2.82,2.85,2.88,2.9,2.86,2.82,2.78,2.74,2.69,2.63,2.57,2.51,2.82,3.13,3.44,3.74,4.18,4.61,5.04,5.48,5.64,5.8,5.96,6.12,6.18,6.24,6.31,6.37,6.45,6.53,6.62,6.7,6.68,6.66,6.63,6.61,7,7.38,7.77,8.15,8.779999999999999,9.41,10.04,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.67,7.4,10.92,11.1,11.1,11.1,11.07,11.07,11.07,11.1,10.98,9.42,7.26,5.12,4.33,3.52,2.71,1.92,1.59,1.27,0.99,0.6799999999999999,0.71,0.71,0.74,0.77,0.76,0.76,0.77,0.78,0.8,0.8100000000000001,0.82,0.85,1.1,1.4,1.66,1.95,2.26,2.55,2.85,3.15,3.39,3.62,3.86,4.09,4.279999999999999,4.47,4.65,4.84,4.869999999999999,4.9,4.92,4.92,4.9,4.86,4.8,4.76,4.98,5.2,5.4,5.62,5.66,5.7,5.74,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.13,0.43,0.72,1.02,0.84,0.67,0.49,0.32,2.59,3.7,3.7,3.7,3.7,3.7,3.7,2.65,2.81,2.97,3.12,3.28,2.8,2.31,1.82,1.34,0.31,0.09,0.09,0.09,0.08,0.17,2.28,1.86,2.06,2.26,2.48,2.68,2.78,2.85,2.94,3.03,2.82,2.61,2.4,2.18,2.37,2.56,2.77,2.96,3.14,3.31,3.5,3.66,4.08,4.5,4.92,5.32,5.76,6.16,6.56,6.96,7,7.08,7.16,7.24,7.16,7.12,7.08,7.04,7.08,7.16,7.17,7.220000000000001,7.299999999999999,7.370000000000001,7.43,7.49,7.42,7.4,7.4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.38,3.53,3.68,3.7,3.7,3.7,3.7,3.68,3.49,2.73,1.97,1.21,0.45,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.03,0.13,3.29,3.69,3.4,3.1,2.8,2.82,2.86,2.88,2.9,2.86,2.82,2.79,2.73,2.7,2.64,2.58,2.52,2.82,3.12,3.45,3.76,4.2,4.6,5.04,5.48,5.64,5.8,5.96,6.12,6.2,6.24,6.32,6.36,6.44,6.52,6.64,6.72,6.69,6.67,6.619999999999999,6.61,6.999999999999999,7.379999999999999,7.77,8.16,7.890000000000001,7.4,7.4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],"fixedtz":true,"tzone":"Europe/Amsterdam","css":"/* Dygraph styling */\n\n.dygraph-title {\n  text-align: left;\n  font-weight: normal;\n  font-size: 70%;\n}\n\n.dygraph-legend {\n  color: white;\n  background-color: #BABABA !important;\n    padding-left:5px;\n  border-color:#BABABA;\n    border-style:solid;\n  border-width:thin;\n  transition:0s 4s;\n  z-index: 20 !important;\n  box-shadow: 2px 2px 5px rgba(0, 0, 0, .3);\n  border-radius: 3px;\n}\n\n.dygraph-legend:hover{\n  transform: translate(-110%);\n  transition: 0s;\n}\n\n.dygraph-legend > span {\n  color: black;\n  padding-left:5px;\n  margin-left:-5px;\n  background-color: white !important;\n  display: block;\n}\n\n.dygraph-legend > span > span{\n  display: inline;\n}\n\n.highlight {\n  border-left: 2px solid #BABABA;\n  padding-left:3px !important;\n\n}"},"evals":[],"jsHooks":[]}</script><p>From the plot above we see that during most of the time the EV demand
can be adapted to the setpoint but in the second optimization window,
the EV demand that is not charged during the morning has to be charged
during the night surpassing the setpoint.</p>
<p>If the setpoint is calculated for an <strong>optimization</strong>
objective (e.g. <code>"grid"</code> or <code>"cost"</code>), then
surpassing the setpoint may not suppose a risk but only a not optimal
solution. Even though, situations like the one above should be avoided
since we can have a rebound effect at the end of the optimization
window. A solution to these situations is the parameter
<code>power_th</code>, which allows a certain threshold between the
setpoint value and the EV demand in every time slot. See the application
of <code>power_th = 0.05</code> to allow a threshold of 5% of the
setpoint:</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ev_sessions</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/smart_charging.html">smart_charging</a></span><span class="op">(</span></span>
<span>    opt_data <span class="op">=</span> <span class="va">energy_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span>static <span class="op">=</span> <span class="va">building</span>, production <span class="op">=</span> <span class="va">solar</span><span class="op">)</span>, </span>
<span>    opt_objective <span class="op">=</span> <span class="st">"grid"</span>,</span>
<span>    method <span class="op">=</span> <span class="st">"curtail"</span>,</span>
<span>    window_days <span class="op">=</span> <span class="fl">1</span>, </span>
<span>    window_start_hour <span class="op">=</span> <span class="fl">6</span>,</span>
<span>    power_th <span class="op">=</span> <span class="fl">0.05</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning: Unknown or uninitialised column: `sessions`.</span></span></code></pre>
<pre><code><span><span class="co">## Warning: Unknown or uninitialised column: `demand`.</span></span></code></pre>
<pre><code><span><span class="co">## Warning: Unknown or uninitialised column: `log`.</span></span></code></pre>
<div class="dygraphs html-widget html-fill-item" id="htmlwidget-4018eef1a407a0df6b52" style="width:700px;height:432.632880098888px;"></div>
<script type="application/json" data-for="htmlwidget-4018eef1a407a0df6b52">{"x":{"attrs":{"ylabel":"Power (kW)","labels":["minute","Setpoint","Flexible EVs"],"axes":{"x":{"pixelsPerLabel":60,"drawAxis":true},"y":{"drawAxis":true}},"legend":"auto","labelsDivWidth":250,"labelsShowZeroValues":false,"labelsSeparateLines":false,"hideOverlayOnMouseOut":true,"stackedGraph":false,"fillGraph":false,"fillAlpha":0.15,"stepPlot":false,"drawPoints":false,"pointSize":1,"drawGapEdgePoints":false,"connectSeparatedPoints":false,"strokeWidth":2,"strokeBorderColor":"white","colorValue":0.5,"colorSaturation":1,"includeZero":false,"drawAxesAtZero":false,"logscale":false,"axisTickSize":3,"axisLineColor":"black","axisLineWidth":0.3,"axisLabelColor":"black","axisLabelFontSize":14,"axisLabelWidth":60,"drawGrid":true,"gridLineWidth":0.3,"rightGap":5,"digitsAfterDecimal":2,"labelsKMB":false,"labelsKMG2":false,"labelsUTC":false,"maxNumberWidth":6,"animatedZooms":false,"mobileDisableYTouch":true,"retainDateWindow":true,"disableZoom":false,"colors":["red","navy"],"series":{"Setpoint":{"axis":"y","strokeWidth":2,"strokePattern":[7,3]},"Flexible EVs":{"axis":"y"}}},"scale":"minute","annotations":[],"shadings":[],"events":[],"format":"date","data":[["2023-04-30T22:00:00.000Z","2023-04-30T22:15:00.000Z","2023-04-30T22:30:00.000Z","2023-04-30T22:45:00.000Z","2023-04-30T23:00:00.000Z","2023-04-30T23:15:00.000Z","2023-04-30T23:30:00.000Z","2023-04-30T23:45:00.000Z","2023-05-01T00:00:00.000Z","2023-05-01T00:15:00.000Z","2023-05-01T00:30:00.000Z","2023-05-01T00:45:00.000Z","2023-05-01T01:00:00.000Z","2023-05-01T01:15:00.000Z","2023-05-01T01:30:00.000Z","2023-05-01T01:45:00.000Z","2023-05-01T02:00:00.000Z","2023-05-01T02:15:00.000Z","2023-05-01T02:30:00.000Z","2023-05-01T02:45:00.000Z","2023-05-01T03:00:00.000Z","2023-05-01T03:15:00.000Z","2023-05-01T03:30:00.000Z","2023-05-01T03:45:00.000Z","2023-05-01T04:00:00.000Z","2023-05-01T04:15:00.000Z","2023-05-01T04:30:00.000Z","2023-05-01T04:45:00.000Z","2023-05-01T05:00:00.000Z","2023-05-01T05:15:00.000Z","2023-05-01T05:30:00.000Z","2023-05-01T05:45:00.000Z","2023-05-01T06:00:00.000Z","2023-05-01T06:15:00.000Z","2023-05-01T06:30:00.000Z","2023-05-01T06:45:00.000Z","2023-05-01T07:00:00.000Z","2023-05-01T07:15:00.000Z","2023-05-01T07:30:00.000Z","2023-05-01T07:45:00.000Z","2023-05-01T08:00:00.000Z","2023-05-01T08:15:00.000Z","2023-05-01T08:30:00.000Z","2023-05-01T08:45:00.000Z","2023-05-01T09:00:00.000Z","2023-05-01T09:15:00.000Z","2023-05-01T09:30:00.000Z","2023-05-01T09:45:00.000Z","2023-05-01T10:00:00.000Z","2023-05-01T10:15:00.000Z","2023-05-01T10:30:00.000Z","2023-05-01T10:45:00.000Z","2023-05-01T11:00:00.000Z","2023-05-01T11:15:00.000Z","2023-05-01T11:30:00.000Z","2023-05-01T11:45:00.000Z","2023-05-01T12:00:00.000Z","2023-05-01T12:15:00.000Z","2023-05-01T12:30:00.000Z","2023-05-01T12:45:00.000Z","2023-05-01T13:00:00.000Z","2023-05-01T13:15:00.000Z","2023-05-01T13:30:00.000Z","2023-05-01T13:45:00.000Z","2023-05-01T14:00:00.000Z","2023-05-01T14:15:00.000Z","2023-05-01T14:30:00.000Z","2023-05-01T14:45:00.000Z","2023-05-01T15:00:00.000Z","2023-05-01T15:15:00.000Z","2023-05-01T15:30:00.000Z","2023-05-01T15:45:00.000Z","2023-05-01T16:00:00.000Z","2023-05-01T16:15:00.000Z","2023-05-01T16:30:00.000Z","2023-05-01T16:45:00.000Z","2023-05-01T17:00:00.000Z","2023-05-01T17:15:00.000Z","2023-05-01T17:30:00.000Z","2023-05-01T17:45:00.000Z","2023-05-01T18:00:00.000Z","2023-05-01T18:15:00.000Z","2023-05-01T18:30:00.000Z","2023-05-01T18:45:00.000Z","2023-05-01T19:00:00.000Z","2023-05-01T19:15:00.000Z","2023-05-01T19:30:00.000Z","2023-05-01T19:45:00.000Z","2023-05-01T20:00:00.000Z","2023-05-01T20:15:00.000Z","2023-05-01T20:30:00.000Z","2023-05-01T20:45:00.000Z","2023-05-01T21:00:00.000Z","2023-05-01T21:15:00.000Z","2023-05-01T21:30:00.000Z","2023-05-01T21:45:00.000Z","2023-05-01T22:00:00.000Z","2023-05-01T22:15:00.000Z","2023-05-01T22:30:00.000Z","2023-05-01T22:45:00.000Z","2023-05-01T23:00:00.000Z","2023-05-01T23:15:00.000Z","2023-05-01T23:30:00.000Z","2023-05-01T23:45:00.000Z","2023-05-02T00:00:00.000Z","2023-05-02T00:15:00.000Z","2023-05-02T00:30:00.000Z","2023-05-02T00:45:00.000Z","2023-05-02T01:00:00.000Z","2023-05-02T01:15:00.000Z","2023-05-02T01:30:00.000Z","2023-05-02T01:45:00.000Z","2023-05-02T02:00:00.000Z","2023-05-02T02:15:00.000Z","2023-05-02T02:30:00.000Z","2023-05-02T02:45:00.000Z","2023-05-02T03:00:00.000Z","2023-05-02T03:15:00.000Z","2023-05-02T03:30:00.000Z","2023-05-02T03:45:00.000Z","2023-05-02T04:00:00.000Z","2023-05-02T04:15:00.000Z","2023-05-02T04:30:00.000Z","2023-05-02T04:45:00.000Z","2023-05-02T05:00:00.000Z","2023-05-02T05:15:00.000Z","2023-05-02T05:30:00.000Z","2023-05-02T05:45:00.000Z","2023-05-02T06:00:00.000Z","2023-05-02T06:15:00.000Z","2023-05-02T06:30:00.000Z","2023-05-02T06:45:00.000Z","2023-05-02T07:00:00.000Z","2023-05-02T07:15:00.000Z","2023-05-02T07:30:00.000Z","2023-05-02T07:45:00.000Z","2023-05-02T08:00:00.000Z","2023-05-02T08:15:00.000Z","2023-05-02T08:30:00.000Z","2023-05-02T08:45:00.000Z","2023-05-02T09:00:00.000Z","2023-05-02T09:15:00.000Z","2023-05-02T09:30:00.000Z","2023-05-02T09:45:00.000Z","2023-05-02T10:00:00.000Z","2023-05-02T10:15:00.000Z","2023-05-02T10:30:00.000Z","2023-05-02T10:45:00.000Z","2023-05-02T11:00:00.000Z","2023-05-02T11:15:00.000Z","2023-05-02T11:30:00.000Z","2023-05-02T11:45:00.000Z","2023-05-02T12:00:00.000Z","2023-05-02T12:15:00.000Z","2023-05-02T12:30:00.000Z","2023-05-02T12:45:00.000Z","2023-05-02T13:00:00.000Z","2023-05-02T13:15:00.000Z","2023-05-02T13:30:00.000Z","2023-05-02T13:45:00.000Z","2023-05-02T14:00:00.000Z","2023-05-02T14:15:00.000Z","2023-05-02T14:30:00.000Z","2023-05-02T14:45:00.000Z","2023-05-02T15:00:00.000Z","2023-05-02T15:15:00.000Z","2023-05-02T15:30:00.000Z","2023-05-02T15:45:00.000Z","2023-05-02T16:00:00.000Z","2023-05-02T16:15:00.000Z","2023-05-02T16:30:00.000Z","2023-05-02T16:45:00.000Z","2023-05-02T17:00:00.000Z","2023-05-02T17:15:00.000Z","2023-05-02T17:30:00.000Z","2023-05-02T17:45:00.000Z","2023-05-02T18:00:00.000Z","2023-05-02T18:15:00.000Z","2023-05-02T18:30:00.000Z","2023-05-02T18:45:00.000Z","2023-05-02T19:00:00.000Z","2023-05-02T19:15:00.000Z","2023-05-02T19:30:00.000Z","2023-05-02T19:45:00.000Z","2023-05-02T20:00:00.000Z","2023-05-02T20:15:00.000Z","2023-05-02T20:30:00.000Z","2023-05-02T20:45:00.000Z","2023-05-02T21:00:00.000Z","2023-05-02T21:15:00.000Z","2023-05-02T21:30:00.000Z","2023-05-02T21:45:00.000Z","2023-05-02T22:00:00.000Z","2023-05-02T22:15:00.000Z","2023-05-02T22:30:00.000Z","2023-05-02T22:45:00.000Z","2023-05-02T23:00:00.000Z","2023-05-02T23:15:00.000Z","2023-05-02T23:30:00.000Z","2023-05-02T23:45:00.000Z","2023-05-03T00:00:00.000Z","2023-05-03T00:15:00.000Z","2023-05-03T00:30:00.000Z","2023-05-03T00:45:00.000Z","2023-05-03T01:00:00.000Z","2023-05-03T01:15:00.000Z","2023-05-03T01:30:00.000Z","2023-05-03T01:45:00.000Z","2023-05-03T02:00:00.000Z","2023-05-03T02:15:00.000Z","2023-05-03T02:30:00.000Z","2023-05-03T02:45:00.000Z","2023-05-03T03:00:00.000Z","2023-05-03T03:15:00.000Z","2023-05-03T03:30:00.000Z","2023-05-03T03:45:00.000Z","2023-05-03T04:00:00.000Z","2023-05-03T04:15:00.000Z","2023-05-03T04:30:00.000Z","2023-05-03T04:45:00.000Z","2023-05-03T05:00:00.000Z","2023-05-03T05:15:00.000Z","2023-05-03T05:30:00.000Z","2023-05-03T05:45:00.000Z","2023-05-03T06:00:00.000Z","2023-05-03T06:15:00.000Z","2023-05-03T06:30:00.000Z","2023-05-03T06:45:00.000Z","2023-05-03T07:00:00.000Z","2023-05-03T07:15:00.000Z","2023-05-03T07:30:00.000Z","2023-05-03T07:45:00.000Z","2023-05-03T08:00:00.000Z","2023-05-03T08:15:00.000Z","2023-05-03T08:30:00.000Z","2023-05-03T08:45:00.000Z","2023-05-03T09:00:00.000Z","2023-05-03T09:15:00.000Z","2023-05-03T09:30:00.000Z","2023-05-03T09:45:00.000Z","2023-05-03T10:00:00.000Z","2023-05-03T10:15:00.000Z","2023-05-03T10:30:00.000Z","2023-05-03T10:45:00.000Z","2023-05-03T11:00:00.000Z","2023-05-03T11:15:00.000Z","2023-05-03T11:30:00.000Z","2023-05-03T11:45:00.000Z","2023-05-03T12:00:00.000Z","2023-05-03T12:15:00.000Z","2023-05-03T12:30:00.000Z","2023-05-03T12:45:00.000Z","2023-05-03T13:00:00.000Z","2023-05-03T13:15:00.000Z","2023-05-03T13:30:00.000Z","2023-05-03T13:45:00.000Z","2023-05-03T14:00:00.000Z","2023-05-03T14:15:00.000Z","2023-05-03T14:30:00.000Z","2023-05-03T14:45:00.000Z","2023-05-03T15:00:00.000Z","2023-05-03T15:15:00.000Z","2023-05-03T15:30:00.000Z","2023-05-03T15:45:00.000Z","2023-05-03T16:00:00.000Z","2023-05-03T16:15:00.000Z","2023-05-03T16:30:00.000Z","2023-05-03T16:45:00.000Z","2023-05-03T17:00:00.000Z","2023-05-03T17:15:00.000Z","2023-05-03T17:30:00.000Z","2023-05-03T17:45:00.000Z","2023-05-03T18:00:00.000Z","2023-05-03T18:15:00.000Z","2023-05-03T18:30:00.000Z","2023-05-03T18:45:00.000Z","2023-05-03T19:00:00.000Z","2023-05-03T19:15:00.000Z","2023-05-03T19:30:00.000Z","2023-05-03T19:45:00.000Z","2023-05-03T20:00:00.000Z","2023-05-03T20:15:00.000Z","2023-05-03T20:30:00.000Z","2023-05-03T20:45:00.000Z","2023-05-03T21:00:00.000Z","2023-05-03T21:15:00.000Z","2023-05-03T21:30:00.000Z","2023-05-03T21:45:00.000Z","2023-05-03T22:00:00.000Z","2023-05-03T22:15:00.000Z","2023-05-03T22:30:00.000Z","2023-05-03T22:45:00.000Z","2023-05-03T23:00:00.000Z","2023-05-03T23:15:00.000Z","2023-05-03T23:30:00.000Z","2023-05-03T23:45:00.000Z","2023-05-04T00:00:00.000Z","2023-05-04T00:15:00.000Z","2023-05-04T00:30:00.000Z","2023-05-04T00:45:00.000Z","2023-05-04T01:00:00.000Z","2023-05-04T01:15:00.000Z","2023-05-04T01:30:00.000Z","2023-05-04T01:45:00.000Z","2023-05-04T02:00:00.000Z","2023-05-04T02:15:00.000Z","2023-05-04T02:30:00.000Z","2023-05-04T02:45:00.000Z","2023-05-04T03:00:00.000Z","2023-05-04T03:15:00.000Z","2023-05-04T03:30:00.000Z","2023-05-04T03:45:00.000Z","2023-05-04T04:00:00.000Z","2023-05-04T04:15:00.000Z","2023-05-04T04:30:00.000Z","2023-05-04T04:45:00.000Z","2023-05-04T05:00:00.000Z","2023-05-04T05:15:00.000Z","2023-05-04T05:30:00.000Z","2023-05-04T05:45:00.000Z","2023-05-04T06:00:00.000Z","2023-05-04T06:15:00.000Z","2023-05-04T06:30:00.000Z","2023-05-04T06:45:00.000Z","2023-05-04T07:00:00.000Z","2023-05-04T07:15:00.000Z","2023-05-04T07:30:00.000Z","2023-05-04T07:45:00.000Z","2023-05-04T08:00:00.000Z","2023-05-04T08:15:00.000Z","2023-05-04T08:30:00.000Z","2023-05-04T08:45:00.000Z","2023-05-04T09:00:00.000Z","2023-05-04T09:15:00.000Z","2023-05-04T09:30:00.000Z","2023-05-04T09:45:00.000Z","2023-05-04T10:00:00.000Z","2023-05-04T10:15:00.000Z","2023-05-04T10:30:00.000Z","2023-05-04T10:45:00.000Z","2023-05-04T11:00:00.000Z","2023-05-04T11:15:00.000Z","2023-05-04T11:30:00.000Z","2023-05-04T11:45:00.000Z","2023-05-04T12:00:00.000Z","2023-05-04T12:15:00.000Z","2023-05-04T12:30:00.000Z","2023-05-04T12:45:00.000Z","2023-05-04T13:00:00.000Z","2023-05-04T13:15:00.000Z","2023-05-04T13:30:00.000Z","2023-05-04T13:45:00.000Z","2023-05-04T14:00:00.000Z","2023-05-04T14:15:00.000Z","2023-05-04T14:30:00.000Z","2023-05-04T14:45:00.000Z","2023-05-04T15:00:00.000Z","2023-05-04T15:15:00.000Z","2023-05-04T15:30:00.000Z","2023-05-04T15:45:00.000Z","2023-05-04T16:00:00.000Z","2023-05-04T16:15:00.000Z","2023-05-04T16:30:00.000Z","2023-05-04T16:45:00.000Z","2023-05-04T17:00:00.000Z","2023-05-04T17:15:00.000Z","2023-05-04T17:30:00.000Z","2023-05-04T17:45:00.000Z","2023-05-04T18:00:00.000Z","2023-05-04T18:15:00.000Z","2023-05-04T18:30:00.000Z","2023-05-04T18:45:00.000Z","2023-05-04T19:00:00.000Z","2023-05-04T19:15:00.000Z","2023-05-04T19:30:00.000Z","2023-05-04T19:45:00.000Z","2023-05-04T20:00:00.000Z","2023-05-04T20:15:00.000Z","2023-05-04T20:30:00.000Z","2023-05-04T20:45:00.000Z","2023-05-04T21:00:00.000Z","2023-05-04T21:15:00.000Z","2023-05-04T21:30:00.000Z","2023-05-04T21:45:00.000Z","2023-05-04T22:00:00.000Z","2023-05-04T22:15:00.000Z","2023-05-04T22:30:00.000Z","2023-05-04T22:45:00.000Z","2023-05-04T23:00:00.000Z","2023-05-04T23:15:00.000Z","2023-05-04T23:30:00.000Z","2023-05-04T23:45:00.000Z","2023-05-05T00:00:00.000Z","2023-05-05T00:15:00.000Z","2023-05-05T00:30:00.000Z","2023-05-05T00:45:00.000Z","2023-05-05T01:00:00.000Z","2023-05-05T01:15:00.000Z","2023-05-05T01:30:00.000Z","2023-05-05T01:45:00.000Z","2023-05-05T02:00:00.000Z","2023-05-05T02:15:00.000Z","2023-05-05T02:30:00.000Z","2023-05-05T02:45:00.000Z","2023-05-05T03:00:00.000Z","2023-05-05T03:15:00.000Z","2023-05-05T03:30:00.000Z","2023-05-05T03:45:00.000Z","2023-05-05T04:00:00.000Z","2023-05-05T04:15:00.000Z","2023-05-05T04:30:00.000Z","2023-05-05T04:45:00.000Z","2023-05-05T05:00:00.000Z","2023-05-05T05:15:00.000Z","2023-05-05T05:30:00.000Z","2023-05-05T05:45:00.000Z","2023-05-05T06:00:00.000Z","2023-05-05T06:15:00.000Z","2023-05-05T06:30:00.000Z","2023-05-05T06:45:00.000Z","2023-05-05T07:00:00.000Z","2023-05-05T07:15:00.000Z","2023-05-05T07:30:00.000Z","2023-05-05T07:45:00.000Z","2023-05-05T08:00:00.000Z","2023-05-05T08:15:00.000Z","2023-05-05T08:30:00.000Z","2023-05-05T08:45:00.000Z","2023-05-05T09:00:00.000Z","2023-05-05T09:15:00.000Z","2023-05-05T09:30:00.000Z","2023-05-05T09:45:00.000Z","2023-05-05T10:00:00.000Z","2023-05-05T10:15:00.000Z","2023-05-05T10:30:00.000Z","2023-05-05T10:45:00.000Z","2023-05-05T11:00:00.000Z","2023-05-05T11:15:00.000Z","2023-05-05T11:30:00.000Z","2023-05-05T11:45:00.000Z","2023-05-05T12:00:00.000Z","2023-05-05T12:15:00.000Z","2023-05-05T12:30:00.000Z","2023-05-05T12:45:00.000Z","2023-05-05T13:00:00.000Z","2023-05-05T13:15:00.000Z","2023-05-05T13:30:00.000Z","2023-05-05T13:45:00.000Z","2023-05-05T14:00:00.000Z","2023-05-05T14:15:00.000Z","2023-05-05T14:30:00.000Z","2023-05-05T14:45:00.000Z","2023-05-05T15:00:00.000Z","2023-05-05T15:15:00.000Z","2023-05-05T15:30:00.000Z","2023-05-05T15:45:00.000Z","2023-05-05T16:00:00.000Z","2023-05-05T16:15:00.000Z","2023-05-05T16:30:00.000Z","2023-05-05T16:45:00.000Z","2023-05-05T17:00:00.000Z","2023-05-05T17:15:00.000Z","2023-05-05T17:30:00.000Z","2023-05-05T17:45:00.000Z","2023-05-05T18:00:00.000Z","2023-05-05T18:15:00.000Z","2023-05-05T18:30:00.000Z","2023-05-05T18:45:00.000Z","2023-05-05T19:00:00.000Z","2023-05-05T19:15:00.000Z","2023-05-05T19:30:00.000Z","2023-05-05T19:45:00.000Z","2023-05-05T20:00:00.000Z","2023-05-05T20:15:00.000Z","2023-05-05T20:30:00.000Z","2023-05-05T20:45:00.000Z","2023-05-05T21:00:00.000Z","2023-05-05T21:15:00.000Z","2023-05-05T21:30:00.000Z","2023-05-05T21:45:00.000Z"],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.67,7.53,10.93,11.17,11.1,11.12,11.08,11.08,11.07,11.2,10.99,9.42,7.27,5.12,4.32,3.52,2.71,1.91,1.6,1.29,0.99,0.68,0.7,0.72,0.74,0.77,0.77,0.77,0.78,0.78,0.79,0.8100000000000001,0.82,0.84,1.11,1.39,1.67,1.95,2.25,2.55,2.85,3.15,3.38,3.62,3.85,4.09,4.28,4.47,4.66,4.85,4.87,4.89,4.91,4.93,4.89,4.85,4.8,4.76,4.97,5.19,5.4,5.62,5.66,5.7,5.74,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.13,0.43,0.72,1.02,0.84,0.67,0.49,0.32,2.59,4.87,7.15,9.42,7.73,6.04,4.34,2.65,2.81,2.97,3.12,3.28,2.8,2.31,1.82,1.34,0.31,0.09,0.09,0.09,0.08,0.17,2.27,1.85,2.06,2.26,2.47,2.68,2.77,2.86,2.95,3.04,2.82,2.61,2.39,2.17,2.37,2.57,2.77,2.96,3.13,3.31,3.48,3.65,4.07,4.5,4.92,5.34,5.74,6.14,6.54,6.94,7.01,7.08,7.15,7.22,7.17,7.13,7.08,7.04,7.09,7.14,7.18,7.23,7.29,7.36,7.42,7.49,8.75,10.01,11.27,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.38,3.53,3.68,3.83,3.98,3.79,3.71,3.68,3.49,2.73,1.97,1.21,0.45,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.03,0.13,3.29,3.69,3.39,3.1,2.8,2.82,2.85,2.88,2.9,2.86,2.82,2.78,2.74,2.69,2.63,2.57,2.51,2.82,3.13,3.44,3.74,4.18,4.61,5.04,5.48,5.64,5.8,5.96,6.12,6.18,6.24,6.31,6.37,6.45,6.53,6.62,6.7,6.68,6.66,6.63,6.61,7,7.38,7.77,8.15,8.779999999999999,9.41,10.04,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,7.4,11.1,11.1,11.1,11.1,11.1,11.1,11.1,11.1,11.1,9.899999999999999,7.62,5.39,4.529999999999999,3.71,2.85,2.02,1.67,1.35,1.04,0.7000000000000001,0.73,0.76,0.78,0.8100000000000001,0.8,0.8100000000000001,0.8200000000000001,0.8300000000000001,0.8300000000000001,0.8600000000000001,0.87,0.9,1.17,1.46,1.77,2.04,2.37,2.68,2.99,3.3,3.54,3.81,4.050000000000001,4.29,4.49,4.69,4.9,5.1,5.12,5.14,5.16,5.18,5.14,5.08,5.04,5,5.22,5.44,5.68,5.9,5.94,3.17,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.14,0.45,0.76,1.07,0.88,0.7,0.51,0.34,2.72,3.7,3.7,3.7,3.7,3.7,3.7,2.78,2.95,3.12,3.28,3.44,2.94,2.43,1.91,1.41,0.33,0.09,0.09,0.09,0.08,0.18,2.38,1.94,2.16,2.38,2.6,2.82,2.92,3,3.09,3.18,2.97,2.74,2.5,2.28,2.48,2.69,2.92,3.11,3.3,3.48,3.64,3.84,4.26,4.71,5.16,5.6,6.04,6.44,6.88,7.28,7.36,7.44,7.52,7.6,7.52,7.48,7.44,7.4,7.43,7.5,7.52,7.58,7.65,7.73,7.4,7.4,7.4,7.4,7.4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.55,3.7,3.7,3.7,3.7,3.7,3.7,3.7,3.66,2.87,2.07,1.27,0.18,0,0,0,0,0,0,0,0,0,0,0,3.45,3.7,3.56,3.26,2.94,2.96,3,3.02,3.04,3,2.96,2.91,2.88,2.82,2.76,2.7,2.64,2.97,3.3,3.6,3.92,4.4,4.84,5.28,5.76,5.92,6.08,6.28,6.44,6.48,6.56,6.64,6.68,6.76,6.88,6.96,7.03,6.999999999999999,6.99,6.949999999999999,6.94,7.350000000000001,7.74,8.16,7.48,7.4,7.4,4.18,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],"fixedtz":true,"tzone":"Europe/Amsterdam","css":"/* Dygraph styling */\n\n.dygraph-title {\n  text-align: left;\n  font-weight: normal;\n  font-size: 70%;\n}\n\n.dygraph-legend {\n  color: white;\n  background-color: #BABABA !important;\n    padding-left:5px;\n  border-color:#BABABA;\n    border-style:solid;\n  border-width:thin;\n  transition:0s 4s;\n  z-index: 20 !important;\n  box-shadow: 2px 2px 5px rgba(0, 0, 0, .3);\n  border-radius: 3px;\n}\n\n.dygraph-legend:hover{\n  transform: translate(-110%);\n  transition: 0s;\n}\n\n.dygraph-legend > span {\n  color: black;\n  padding-left:5px;\n  margin-left:-5px;\n  background-color: white !important;\n  display: block;\n}\n\n.dygraph-legend > span > span{\n  display: inline;\n}\n\n.highlight {\n  border-left: 2px solid #BABABA;\n  padding-left:3px !important;\n\n}"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="section level2">
<h2 id="the-ev-model-has-a-minimum-charging-power">The EV model has a minimum charging power<a class="anchor" aria-label="anchor" href="#the-ev-model-has-a-minimum-charging-power"></a>
</h2>
<p>It is known that some EV models have a minimum charging power, so
below this power they can’t be charged at all. Therefore, a possible
solution is to specify a minimum charging power with the parameter
<code>charging_power_min</code>. When
<code>charging_power_min = 0</code> and <code>method = "curtail"</code>,
the charging power can be reduced until 0 kW (interrupted), while a
value of <code>charging_power_min = 0.5</code> would only allow
curtailing the EV charging power until the 50% of its nominal charging
power.</p>
<p>Let’s simulate that all EVs must charge at least at a 30% of their
power requirements:</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sc_results</span> <span class="op">&lt;-</span> <span class="va">ev_sessions</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/smart_charging.html">smart_charging</a></span><span class="op">(</span></span>
<span>    opt_data <span class="op">=</span> <span class="va">energy_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span>static <span class="op">=</span> <span class="va">building</span>, production <span class="op">=</span> <span class="va">solar</span><span class="op">)</span>, </span>
<span>    opt_objective <span class="op">=</span> <span class="st">"grid"</span>,</span>
<span>    method <span class="op">=</span> <span class="st">"curtail"</span>,</span>
<span>    window_days <span class="op">=</span> <span class="fl">1</span>, </span>
<span>    window_start_hour <span class="op">=</span> <span class="fl">6</span>,</span>
<span>    charging_power_min <span class="op">=</span> <span class="fl">0.3</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning: Unknown or uninitialised column: `sessions`.</span></span></code></pre>
<pre><code><span><span class="co">## Warning: Unknown or uninitialised column: `demand`.</span></span></code></pre>
<pre><code><span><span class="co">## Warning: Unknown or uninitialised column: `log`.</span></span></code></pre>
<p>Check that the minimum power of the <code>Exploited</code> sessions
(i.e. the ones that provided flexibility) corresponds to the 30% of 3.7
(1.11kW):</p>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sc_results</span><span class="op">$</span><span class="va">sessions</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">Exploited</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html" class="external-link">pull</a></span><span class="op">(</span><span class="va">Power</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 1.11</span></span></code></pre>
<p>We can also make a histogram to show the distribution of charging
power values. It is visible that the limit of 30% of the nominal power
(1.11 kW) is actually limiting the flexibility, since a lot of sessions
have been charged at this minimum charging rate:</p>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sc_results</span><span class="op">$</span><span class="va">sessions</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">Exploited</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu">ggplot</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span><span class="va">Power</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">geom_histogram</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</span></span></code></pre>
<p><img src="smart-charging-advanced_files/figure-html/unnamed-chunk-20-1.png" alt="Histogram of charging power values" width="700">
And if we compare the final EV demand with the setpoint, in general we
see a good result even though the setpoint is not achieved during the
most restrictive periods:</p>
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">sc_results</span><span class="op">)</span></span></code></pre></div>
<div class="dygraphs html-widget html-fill-item" id="htmlwidget-5b1b2f4ad92281566982" style="width:700px;height:432.632880098888px;"></div>
<script type="application/json" data-for="htmlwidget-5b1b2f4ad92281566982">{"x":{"attrs":{"ylabel":"Power (kW)","labels":["minute","Setpoint","Flexible EVs"],"axes":{"x":{"pixelsPerLabel":60,"drawAxis":true},"y":{"drawAxis":true}},"legend":"auto","labelsDivWidth":250,"labelsShowZeroValues":false,"labelsSeparateLines":false,"hideOverlayOnMouseOut":true,"stackedGraph":false,"fillGraph":false,"fillAlpha":0.15,"stepPlot":false,"drawPoints":false,"pointSize":1,"drawGapEdgePoints":false,"connectSeparatedPoints":false,"strokeWidth":2,"strokeBorderColor":"white","colorValue":0.5,"colorSaturation":1,"includeZero":false,"drawAxesAtZero":false,"logscale":false,"axisTickSize":3,"axisLineColor":"black","axisLineWidth":0.3,"axisLabelColor":"black","axisLabelFontSize":14,"axisLabelWidth":60,"drawGrid":true,"gridLineWidth":0.3,"rightGap":5,"digitsAfterDecimal":2,"labelsKMB":false,"labelsKMG2":false,"labelsUTC":false,"maxNumberWidth":6,"animatedZooms":false,"mobileDisableYTouch":true,"retainDateWindow":true,"disableZoom":false,"colors":["red","navy"],"series":{"Setpoint":{"axis":"y","strokeWidth":2,"strokePattern":[7,3]},"Flexible EVs":{"axis":"y"}}},"scale":"minute","annotations":[],"shadings":[],"events":[],"format":"date","data":[["2023-04-30T22:00:00.000Z","2023-04-30T22:15:00.000Z","2023-04-30T22:30:00.000Z","2023-04-30T22:45:00.000Z","2023-04-30T23:00:00.000Z","2023-04-30T23:15:00.000Z","2023-04-30T23:30:00.000Z","2023-04-30T23:45:00.000Z","2023-05-01T00:00:00.000Z","2023-05-01T00:15:00.000Z","2023-05-01T00:30:00.000Z","2023-05-01T00:45:00.000Z","2023-05-01T01:00:00.000Z","2023-05-01T01:15:00.000Z","2023-05-01T01:30:00.000Z","2023-05-01T01:45:00.000Z","2023-05-01T02:00:00.000Z","2023-05-01T02:15:00.000Z","2023-05-01T02:30:00.000Z","2023-05-01T02:45:00.000Z","2023-05-01T03:00:00.000Z","2023-05-01T03:15:00.000Z","2023-05-01T03:30:00.000Z","2023-05-01T03:45:00.000Z","2023-05-01T04:00:00.000Z","2023-05-01T04:15:00.000Z","2023-05-01T04:30:00.000Z","2023-05-01T04:45:00.000Z","2023-05-01T05:00:00.000Z","2023-05-01T05:15:00.000Z","2023-05-01T05:30:00.000Z","2023-05-01T05:45:00.000Z","2023-05-01T06:00:00.000Z","2023-05-01T06:15:00.000Z","2023-05-01T06:30:00.000Z","2023-05-01T06:45:00.000Z","2023-05-01T07:00:00.000Z","2023-05-01T07:15:00.000Z","2023-05-01T07:30:00.000Z","2023-05-01T07:45:00.000Z","2023-05-01T08:00:00.000Z","2023-05-01T08:15:00.000Z","2023-05-01T08:30:00.000Z","2023-05-01T08:45:00.000Z","2023-05-01T09:00:00.000Z","2023-05-01T09:15:00.000Z","2023-05-01T09:30:00.000Z","2023-05-01T09:45:00.000Z","2023-05-01T10:00:00.000Z","2023-05-01T10:15:00.000Z","2023-05-01T10:30:00.000Z","2023-05-01T10:45:00.000Z","2023-05-01T11:00:00.000Z","2023-05-01T11:15:00.000Z","2023-05-01T11:30:00.000Z","2023-05-01T11:45:00.000Z","2023-05-01T12:00:00.000Z","2023-05-01T12:15:00.000Z","2023-05-01T12:30:00.000Z","2023-05-01T12:45:00.000Z","2023-05-01T13:00:00.000Z","2023-05-01T13:15:00.000Z","2023-05-01T13:30:00.000Z","2023-05-01T13:45:00.000Z","2023-05-01T14:00:00.000Z","2023-05-01T14:15:00.000Z","2023-05-01T14:30:00.000Z","2023-05-01T14:45:00.000Z","2023-05-01T15:00:00.000Z","2023-05-01T15:15:00.000Z","2023-05-01T15:30:00.000Z","2023-05-01T15:45:00.000Z","2023-05-01T16:00:00.000Z","2023-05-01T16:15:00.000Z","2023-05-01T16:30:00.000Z","2023-05-01T16:45:00.000Z","2023-05-01T17:00:00.000Z","2023-05-01T17:15:00.000Z","2023-05-01T17:30:00.000Z","2023-05-01T17:45:00.000Z","2023-05-01T18:00:00.000Z","2023-05-01T18:15:00.000Z","2023-05-01T18:30:00.000Z","2023-05-01T18:45:00.000Z","2023-05-01T19:00:00.000Z","2023-05-01T19:15:00.000Z","2023-05-01T19:30:00.000Z","2023-05-01T19:45:00.000Z","2023-05-01T20:00:00.000Z","2023-05-01T20:15:00.000Z","2023-05-01T20:30:00.000Z","2023-05-01T20:45:00.000Z","2023-05-01T21:00:00.000Z","2023-05-01T21:15:00.000Z","2023-05-01T21:30:00.000Z","2023-05-01T21:45:00.000Z","2023-05-01T22:00:00.000Z","2023-05-01T22:15:00.000Z","2023-05-01T22:30:00.000Z","2023-05-01T22:45:00.000Z","2023-05-01T23:00:00.000Z","2023-05-01T23:15:00.000Z","2023-05-01T23:30:00.000Z","2023-05-01T23:45:00.000Z","2023-05-02T00:00:00.000Z","2023-05-02T00:15:00.000Z","2023-05-02T00:30:00.000Z","2023-05-02T00:45:00.000Z","2023-05-02T01:00:00.000Z","2023-05-02T01:15:00.000Z","2023-05-02T01:30:00.000Z","2023-05-02T01:45:00.000Z","2023-05-02T02:00:00.000Z","2023-05-02T02:15:00.000Z","2023-05-02T02:30:00.000Z","2023-05-02T02:45:00.000Z","2023-05-02T03:00:00.000Z","2023-05-02T03:15:00.000Z","2023-05-02T03:30:00.000Z","2023-05-02T03:45:00.000Z","2023-05-02T04:00:00.000Z","2023-05-02T04:15:00.000Z","2023-05-02T04:30:00.000Z","2023-05-02T04:45:00.000Z","2023-05-02T05:00:00.000Z","2023-05-02T05:15:00.000Z","2023-05-02T05:30:00.000Z","2023-05-02T05:45:00.000Z","2023-05-02T06:00:00.000Z","2023-05-02T06:15:00.000Z","2023-05-02T06:30:00.000Z","2023-05-02T06:45:00.000Z","2023-05-02T07:00:00.000Z","2023-05-02T07:15:00.000Z","2023-05-02T07:30:00.000Z","2023-05-02T07:45:00.000Z","2023-05-02T08:00:00.000Z","2023-05-02T08:15:00.000Z","2023-05-02T08:30:00.000Z","2023-05-02T08:45:00.000Z","2023-05-02T09:00:00.000Z","2023-05-02T09:15:00.000Z","2023-05-02T09:30:00.000Z","2023-05-02T09:45:00.000Z","2023-05-02T10:00:00.000Z","2023-05-02T10:15:00.000Z","2023-05-02T10:30:00.000Z","2023-05-02T10:45:00.000Z","2023-05-02T11:00:00.000Z","2023-05-02T11:15:00.000Z","2023-05-02T11:30:00.000Z","2023-05-02T11:45:00.000Z","2023-05-02T12:00:00.000Z","2023-05-02T12:15:00.000Z","2023-05-02T12:30:00.000Z","2023-05-02T12:45:00.000Z","2023-05-02T13:00:00.000Z","2023-05-02T13:15:00.000Z","2023-05-02T13:30:00.000Z","2023-05-02T13:45:00.000Z","2023-05-02T14:00:00.000Z","2023-05-02T14:15:00.000Z","2023-05-02T14:30:00.000Z","2023-05-02T14:45:00.000Z","2023-05-02T15:00:00.000Z","2023-05-02T15:15:00.000Z","2023-05-02T15:30:00.000Z","2023-05-02T15:45:00.000Z","2023-05-02T16:00:00.000Z","2023-05-02T16:15:00.000Z","2023-05-02T16:30:00.000Z","2023-05-02T16:45:00.000Z","2023-05-02T17:00:00.000Z","2023-05-02T17:15:00.000Z","2023-05-02T17:30:00.000Z","2023-05-02T17:45:00.000Z","2023-05-02T18:00:00.000Z","2023-05-02T18:15:00.000Z","2023-05-02T18:30:00.000Z","2023-05-02T18:45:00.000Z","2023-05-02T19:00:00.000Z","2023-05-02T19:15:00.000Z","2023-05-02T19:30:00.000Z","2023-05-02T19:45:00.000Z","2023-05-02T20:00:00.000Z","2023-05-02T20:15:00.000Z","2023-05-02T20:30:00.000Z","2023-05-02T20:45:00.000Z","2023-05-02T21:00:00.000Z","2023-05-02T21:15:00.000Z","2023-05-02T21:30:00.000Z","2023-05-02T21:45:00.000Z","2023-05-02T22:00:00.000Z","2023-05-02T22:15:00.000Z","2023-05-02T22:30:00.000Z","2023-05-02T22:45:00.000Z","2023-05-02T23:00:00.000Z","2023-05-02T23:15:00.000Z","2023-05-02T23:30:00.000Z","2023-05-02T23:45:00.000Z","2023-05-03T00:00:00.000Z","2023-05-03T00:15:00.000Z","2023-05-03T00:30:00.000Z","2023-05-03T00:45:00.000Z","2023-05-03T01:00:00.000Z","2023-05-03T01:15:00.000Z","2023-05-03T01:30:00.000Z","2023-05-03T01:45:00.000Z","2023-05-03T02:00:00.000Z","2023-05-03T02:15:00.000Z","2023-05-03T02:30:00.000Z","2023-05-03T02:45:00.000Z","2023-05-03T03:00:00.000Z","2023-05-03T03:15:00.000Z","2023-05-03T03:30:00.000Z","2023-05-03T03:45:00.000Z","2023-05-03T04:00:00.000Z","2023-05-03T04:15:00.000Z","2023-05-03T04:30:00.000Z","2023-05-03T04:45:00.000Z","2023-05-03T05:00:00.000Z","2023-05-03T05:15:00.000Z","2023-05-03T05:30:00.000Z","2023-05-03T05:45:00.000Z","2023-05-03T06:00:00.000Z","2023-05-03T06:15:00.000Z","2023-05-03T06:30:00.000Z","2023-05-03T06:45:00.000Z","2023-05-03T07:00:00.000Z","2023-05-03T07:15:00.000Z","2023-05-03T07:30:00.000Z","2023-05-03T07:45:00.000Z","2023-05-03T08:00:00.000Z","2023-05-03T08:15:00.000Z","2023-05-03T08:30:00.000Z","2023-05-03T08:45:00.000Z","2023-05-03T09:00:00.000Z","2023-05-03T09:15:00.000Z","2023-05-03T09:30:00.000Z","2023-05-03T09:45:00.000Z","2023-05-03T10:00:00.000Z","2023-05-03T10:15:00.000Z","2023-05-03T10:30:00.000Z","2023-05-03T10:45:00.000Z","2023-05-03T11:00:00.000Z","2023-05-03T11:15:00.000Z","2023-05-03T11:30:00.000Z","2023-05-03T11:45:00.000Z","2023-05-03T12:00:00.000Z","2023-05-03T12:15:00.000Z","2023-05-03T12:30:00.000Z","2023-05-03T12:45:00.000Z","2023-05-03T13:00:00.000Z","2023-05-03T13:15:00.000Z","2023-05-03T13:30:00.000Z","2023-05-03T13:45:00.000Z","2023-05-03T14:00:00.000Z","2023-05-03T14:15:00.000Z","2023-05-03T14:30:00.000Z","2023-05-03T14:45:00.000Z","2023-05-03T15:00:00.000Z","2023-05-03T15:15:00.000Z","2023-05-03T15:30:00.000Z","2023-05-03T15:45:00.000Z","2023-05-03T16:00:00.000Z","2023-05-03T16:15:00.000Z","2023-05-03T16:30:00.000Z","2023-05-03T16:45:00.000Z","2023-05-03T17:00:00.000Z","2023-05-03T17:15:00.000Z","2023-05-03T17:30:00.000Z","2023-05-03T17:45:00.000Z","2023-05-03T18:00:00.000Z","2023-05-03T18:15:00.000Z","2023-05-03T18:30:00.000Z","2023-05-03T18:45:00.000Z","2023-05-03T19:00:00.000Z","2023-05-03T19:15:00.000Z","2023-05-03T19:30:00.000Z","2023-05-03T19:45:00.000Z","2023-05-03T20:00:00.000Z","2023-05-03T20:15:00.000Z","2023-05-03T20:30:00.000Z","2023-05-03T20:45:00.000Z","2023-05-03T21:00:00.000Z","2023-05-03T21:15:00.000Z","2023-05-03T21:30:00.000Z","2023-05-03T21:45:00.000Z","2023-05-03T22:00:00.000Z","2023-05-03T22:15:00.000Z","2023-05-03T22:30:00.000Z","2023-05-03T22:45:00.000Z","2023-05-03T23:00:00.000Z","2023-05-03T23:15:00.000Z","2023-05-03T23:30:00.000Z","2023-05-03T23:45:00.000Z","2023-05-04T00:00:00.000Z","2023-05-04T00:15:00.000Z","2023-05-04T00:30:00.000Z","2023-05-04T00:45:00.000Z","2023-05-04T01:00:00.000Z","2023-05-04T01:15:00.000Z","2023-05-04T01:30:00.000Z","2023-05-04T01:45:00.000Z","2023-05-04T02:00:00.000Z","2023-05-04T02:15:00.000Z","2023-05-04T02:30:00.000Z","2023-05-04T02:45:00.000Z","2023-05-04T03:00:00.000Z","2023-05-04T03:15:00.000Z","2023-05-04T03:30:00.000Z","2023-05-04T03:45:00.000Z","2023-05-04T04:00:00.000Z","2023-05-04T04:15:00.000Z","2023-05-04T04:30:00.000Z","2023-05-04T04:45:00.000Z","2023-05-04T05:00:00.000Z","2023-05-04T05:15:00.000Z","2023-05-04T05:30:00.000Z","2023-05-04T05:45:00.000Z","2023-05-04T06:00:00.000Z","2023-05-04T06:15:00.000Z","2023-05-04T06:30:00.000Z","2023-05-04T06:45:00.000Z","2023-05-04T07:00:00.000Z","2023-05-04T07:15:00.000Z","2023-05-04T07:30:00.000Z","2023-05-04T07:45:00.000Z","2023-05-04T08:00:00.000Z","2023-05-04T08:15:00.000Z","2023-05-04T08:30:00.000Z","2023-05-04T08:45:00.000Z","2023-05-04T09:00:00.000Z","2023-05-04T09:15:00.000Z","2023-05-04T09:30:00.000Z","2023-05-04T09:45:00.000Z","2023-05-04T10:00:00.000Z","2023-05-04T10:15:00.000Z","2023-05-04T10:30:00.000Z","2023-05-04T10:45:00.000Z","2023-05-04T11:00:00.000Z","2023-05-04T11:15:00.000Z","2023-05-04T11:30:00.000Z","2023-05-04T11:45:00.000Z","2023-05-04T12:00:00.000Z","2023-05-04T12:15:00.000Z","2023-05-04T12:30:00.000Z","2023-05-04T12:45:00.000Z","2023-05-04T13:00:00.000Z","2023-05-04T13:15:00.000Z","2023-05-04T13:30:00.000Z","2023-05-04T13:45:00.000Z","2023-05-04T14:00:00.000Z","2023-05-04T14:15:00.000Z","2023-05-04T14:30:00.000Z","2023-05-04T14:45:00.000Z","2023-05-04T15:00:00.000Z","2023-05-04T15:15:00.000Z","2023-05-04T15:30:00.000Z","2023-05-04T15:45:00.000Z","2023-05-04T16:00:00.000Z","2023-05-04T16:15:00.000Z","2023-05-04T16:30:00.000Z","2023-05-04T16:45:00.000Z","2023-05-04T17:00:00.000Z","2023-05-04T17:15:00.000Z","2023-05-04T17:30:00.000Z","2023-05-04T17:45:00.000Z","2023-05-04T18:00:00.000Z","2023-05-04T18:15:00.000Z","2023-05-04T18:30:00.000Z","2023-05-04T18:45:00.000Z","2023-05-04T19:00:00.000Z","2023-05-04T19:15:00.000Z","2023-05-04T19:30:00.000Z","2023-05-04T19:45:00.000Z","2023-05-04T20:00:00.000Z","2023-05-04T20:15:00.000Z","2023-05-04T20:30:00.000Z","2023-05-04T20:45:00.000Z","2023-05-04T21:00:00.000Z","2023-05-04T21:15:00.000Z","2023-05-04T21:30:00.000Z","2023-05-04T21:45:00.000Z","2023-05-04T22:00:00.000Z","2023-05-04T22:15:00.000Z","2023-05-04T22:30:00.000Z","2023-05-04T22:45:00.000Z","2023-05-04T23:00:00.000Z","2023-05-04T23:15:00.000Z","2023-05-04T23:30:00.000Z","2023-05-04T23:45:00.000Z","2023-05-05T00:00:00.000Z","2023-05-05T00:15:00.000Z","2023-05-05T00:30:00.000Z","2023-05-05T00:45:00.000Z","2023-05-05T01:00:00.000Z","2023-05-05T01:15:00.000Z","2023-05-05T01:30:00.000Z","2023-05-05T01:45:00.000Z","2023-05-05T02:00:00.000Z","2023-05-05T02:15:00.000Z","2023-05-05T02:30:00.000Z","2023-05-05T02:45:00.000Z","2023-05-05T03:00:00.000Z","2023-05-05T03:15:00.000Z","2023-05-05T03:30:00.000Z","2023-05-05T03:45:00.000Z","2023-05-05T04:00:00.000Z","2023-05-05T04:15:00.000Z","2023-05-05T04:30:00.000Z","2023-05-05T04:45:00.000Z","2023-05-05T05:00:00.000Z","2023-05-05T05:15:00.000Z","2023-05-05T05:30:00.000Z","2023-05-05T05:45:00.000Z","2023-05-05T06:00:00.000Z","2023-05-05T06:15:00.000Z","2023-05-05T06:30:00.000Z","2023-05-05T06:45:00.000Z","2023-05-05T07:00:00.000Z","2023-05-05T07:15:00.000Z","2023-05-05T07:30:00.000Z","2023-05-05T07:45:00.000Z","2023-05-05T08:00:00.000Z","2023-05-05T08:15:00.000Z","2023-05-05T08:30:00.000Z","2023-05-05T08:45:00.000Z","2023-05-05T09:00:00.000Z","2023-05-05T09:15:00.000Z","2023-05-05T09:30:00.000Z","2023-05-05T09:45:00.000Z","2023-05-05T10:00:00.000Z","2023-05-05T10:15:00.000Z","2023-05-05T10:30:00.000Z","2023-05-05T10:45:00.000Z","2023-05-05T11:00:00.000Z","2023-05-05T11:15:00.000Z","2023-05-05T11:30:00.000Z","2023-05-05T11:45:00.000Z","2023-05-05T12:00:00.000Z","2023-05-05T12:15:00.000Z","2023-05-05T12:30:00.000Z","2023-05-05T12:45:00.000Z","2023-05-05T13:00:00.000Z","2023-05-05T13:15:00.000Z","2023-05-05T13:30:00.000Z","2023-05-05T13:45:00.000Z","2023-05-05T14:00:00.000Z","2023-05-05T14:15:00.000Z","2023-05-05T14:30:00.000Z","2023-05-05T14:45:00.000Z","2023-05-05T15:00:00.000Z","2023-05-05T15:15:00.000Z","2023-05-05T15:30:00.000Z","2023-05-05T15:45:00.000Z","2023-05-05T16:00:00.000Z","2023-05-05T16:15:00.000Z","2023-05-05T16:30:00.000Z","2023-05-05T16:45:00.000Z","2023-05-05T17:00:00.000Z","2023-05-05T17:15:00.000Z","2023-05-05T17:30:00.000Z","2023-05-05T17:45:00.000Z","2023-05-05T18:00:00.000Z","2023-05-05T18:15:00.000Z","2023-05-05T18:30:00.000Z","2023-05-05T18:45:00.000Z","2023-05-05T19:00:00.000Z","2023-05-05T19:15:00.000Z","2023-05-05T19:30:00.000Z","2023-05-05T19:45:00.000Z","2023-05-05T20:00:00.000Z","2023-05-05T20:15:00.000Z","2023-05-05T20:30:00.000Z","2023-05-05T20:45:00.000Z","2023-05-05T21:00:00.000Z","2023-05-05T21:15:00.000Z","2023-05-05T21:30:00.000Z","2023-05-05T21:45:00.000Z"],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.67,7.53,10.93,11.17,11.1,11.12,11.08,11.08,11.07,11.2,10.99,9.42,7.27,5.12,4.32,3.52,2.71,1.91,1.6,1.29,0.99,0.68,0.7,0.72,0.74,0.77,0.77,0.77,0.78,0.78,0.79,0.8100000000000001,0.82,0.84,1.11,1.39,1.67,1.95,2.25,2.55,2.85,3.15,3.38,3.62,3.85,4.09,4.28,4.47,4.66,4.85,4.87,4.89,4.91,4.93,4.89,4.85,4.8,4.76,4.97,5.19,5.4,5.62,5.66,5.7,5.74,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.13,0.43,0.72,1.02,0.84,0.67,0.49,0.32,2.59,4.87,7.15,9.42,7.73,6.04,4.34,2.65,2.81,2.97,3.12,3.28,2.8,2.31,1.82,1.34,0.31,0.09,0.09,0.09,0.08,0.17,2.27,1.85,2.06,2.26,2.47,2.68,2.77,2.86,2.95,3.04,2.82,2.61,2.39,2.17,2.37,2.57,2.77,2.96,3.13,3.31,3.48,3.65,4.07,4.5,4.92,5.34,5.74,6.14,6.54,6.94,7.01,7.08,7.15,7.22,7.17,7.13,7.08,7.04,7.09,7.14,7.18,7.23,7.29,7.36,7.42,7.49,8.75,10.01,11.27,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.38,3.53,3.68,3.83,3.98,3.79,3.71,3.68,3.49,2.73,1.97,1.21,0.45,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.03,0.13,3.29,3.69,3.39,3.1,2.8,2.82,2.85,2.88,2.9,2.86,2.82,2.78,2.74,2.69,2.63,2.57,2.51,2.82,3.13,3.44,3.74,4.18,4.61,5.04,5.48,5.64,5.8,5.96,6.12,6.18,6.24,6.31,6.37,6.45,6.53,6.62,6.7,6.68,6.66,6.63,6.61,7,7.38,7.77,8.15,8.779999999999999,9.41,10.04,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.67,7.4,10.92,11.1,11.1,11.1,11.07,11.07,11.07,11.1,10.98,9.42,7.26,5.12,4.59,4.03,3.33,3.33,3.33,3.33,3.33,3.33,3.42,2.22,2.22,2.22,2.22,2.22,2.22,2.22,2.22,1.83,2.22,2.22,2.22,2.22,2.22,2.22,2.24,2.56,2.86,3.16,3.38,3.62,3.86,4.08,4.28,4.48,4.66,4.86,4.88,4.9,4.92,4.92,4.9,4.84,4.69,3.7,3.7,3.58,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1.11,1.11,1.11,1.11,1.11,1.11,1.11,1.11,2.59,3.7,3.7,3.7,3.7,3.7,3.7,2.65,2.81,2.97,3.12,3.28,2.8,2.31,1.82,1.34,1.11,1.11,1.11,1.11,1.11,1.11,2.28,2.22,2.22,2.26,2.54,2.99,2.77,2.86,2.96,3.04,2.82,2.62,2.4,2.22,2.38,2.58,2.78,2.96,3.14,3.32,3.48,3.66,4.08,4.5,4.92,5.32,5.76,6.16,6.56,6.96,7,7.08,7.16,7.24,7.16,7.12,7.08,7.05,7.09,7.14,7.17,7.220000000000001,7.300000000000001,7.36,7.4,7.4,7.4,7.4,7.4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.7,3.38,3.53,3.68,3.7,3.7,3.7,3.7,3.68,3.49,2.73,1.97,1.21,1.03,0,0,0,0,0,0,0,0,0,0,0,3.29,3.69,3.4,3.1,2.8,2.82,2.86,2.88,2.9,2.86,2.82,3.33,3.33,3.33,3.33,3.33,3.33,3.33,3.33,3.45,4.44,4.44,4.6,5.04,5.48,5.64,5.8,5.96,6.12,6.2,6.24,6.32,6.36,6.44,6.52,6.64,6.69,7.02,6.67,6.63,6.600000000000001,6.99,7.38,7.780000000000001,7.960000000000001,7.4,7.4,6.52,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],"fixedtz":true,"tzone":"Europe/Amsterdam","css":"/* Dygraph styling */\n\n.dygraph-title {\n  text-align: left;\n  font-weight: normal;\n  font-size: 70%;\n}\n\n.dygraph-legend {\n  color: white;\n  background-color: #BABABA !important;\n    padding-left:5px;\n  border-color:#BABABA;\n    border-style:solid;\n  border-width:thin;\n  transition:0s 4s;\n  z-index: 20 !important;\n  box-shadow: 2px 2px 5px rgba(0, 0, 0, .3);\n  border-radius: 3px;\n}\n\n.dygraph-legend:hover{\n  transform: translate(-110%);\n  transition: 0s;\n}\n\n.dygraph-legend > span {\n  color: black;\n  padding-left:5px;\n  margin-left:-5px;\n  background-color: white !important;\n  display: block;\n}\n\n.dygraph-legend > span > span{\n  display: inline;\n}\n\n.highlight {\n  border-left: 2px solid #BABABA;\n  padding-left:3px !important;\n\n}"},"evals":[],"jsHooks":[]}</script><!-- # Which scheduling method is better? -->
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Marc Cañigueral.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
