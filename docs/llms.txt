# flextools

## Overview

`flextools` package provides functions for:

- Optimizing time-series power loads for minimizing net power
  interaction with the grid or energy cost
- Smart charging simulation considering different methods to coordinate
  charging sessions, such as postpone, curtail or interrupt
- Simulation of battery systems for optimization purposes or just
  business-as-usual battery behavior

## Usage

If you want to test `flextools` with your own data set of time-series
energy, the best place to start is the [Get started
chapter](https://resourcefully-dev.github.io/flextools/articles/flextools.html)
in the package website.

## Installation

Since at this moment flextools is not yet in CRAN, you can install the
the latest development version from GitHub:

``` r

# install.packages("pak")
pak::pak("resourcefully-dev/flextools")
```

## Getting help

If you encounter a clear bug, please open an issue with a minimal
reproducible example on
[GitHub](https://github.com/resourcefully-dev/flextools/issues).

For further technical details, you can read the following academic
articles about the algorithms used in this package:

- **Increasing hosting capacity of low-voltage distribution network
  using smart charging based on local and dynamic capacity limits**.
  Sustainable Energy, Grids and Networks, vol. 41. Elsevier BV,
  p. 101626, March 2025. [DOI
  link](https://doi.org/10.1016/j.segan.2025.101626).
- **Potential benefits of scheduling electric vehicle sessions over
  limiting charging power**. CIRED Porto Workshop 2022: E-mobility and
  power distribution systems. Institution of Engineering and
  Technology, 2022. [DOI
  link](https://ieeexplore.ieee.org/abstract/document/9841653).
- **Flexibility management of electric vehicles based on user profiles:
  The Arnhem case study**. International Journal of Electrical Power and
  Energy Systems, vol. 133. Elsevier BV, p. 107195, Dec. 2021. [DOI
  link](https://doi.org/10.1016/j.ijepes.2021.107195).

## Acknowledgements

This work started under a PhD program in the the University of Girona in
collaboration with [Resourcefully](https://resourcefully.nl/), the
energy transition consulting company that currently supports the
development and maintenance.

# Package index

## Optimization

- [`optimize_demand()`](https://resourcefully-dev.github.io/flextools/reference/optimize_demand.md)
  : Optimize a vector of flexible demand
- [`add_battery_optimization()`](https://resourcefully-dev.github.io/flextools/reference/add_battery_optimization.md)
  : Battery optimal charging/discharging profile

## Smart charging

- [`smart_charging()`](https://resourcefully-dev.github.io/flextools/reference/smart_charging.md)
  : Smart charging algorithm
- [`schedule_sessions()`](https://resourcefully-dev.github.io/flextools/reference/schedule_sessions.md)
  : Schedule sessions according to optimal setpoint
- [`plot_smart_charging()`](https://resourcefully-dev.github.io/flextools/reference/plot_smart_charging.md)
  : Plot smart charging results
- [`summarise_smart_charging_sessions()`](https://resourcefully-dev.github.io/flextools/reference/summarise_smart_charging_sessions.md)
  : Get a summary of the new schedule of charging sessions
- [`view_smart_charging_logs()`](https://resourcefully-dev.github.io/flextools/reference/view_smart_charging_logs.md)
  : Interactive Log Viewer
- [`smart_v2g()`](https://resourcefully-dev.github.io/flextools/reference/smart_v2g.md)
  : Smart V2G algorithm

## Battery

- [`add_battery_simple()`](https://resourcefully-dev.github.io/flextools/reference/add_battery_simple.md)
  : Simple battery profile
- [`get_storage_level()`](https://resourcefully-dev.github.io/flextools/reference/get_storage_level.md)
  : Accumulated storage level (energy)

## Thermal storage

- [`get_storage_losses()`](https://resourcefully-dev.github.io/flextools/reference/get_storage_losses.md)
  : Storage losses over time
- [`get_conversion_losses()`](https://resourcefully-dev.github.io/flextools/reference/get_conversion_losses.md)
  : Losses due to charging/discharging process

## Evaluation of results

- [`get_energy_kpis()`](https://resourcefully-dev.github.io/flextools/reference/get_energy_kpis.md)
  : Obtain a list of energy indicators given the energy profiles
- [`get_energy_balance()`](https://resourcefully-dev.github.io/flextools/reference/get_energy_balance.md)
  : Get energy balance time-series
- [`plot_net_power()`](https://resourcefully-dev.github.io/flextools/reference/plot_net_power.md)
  : Plot net power interaction with the grid
- [`get_energy_cost()`](https://resourcefully-dev.github.io/flextools/reference/get_energy_cost.md)
  : Get energy cost time-series
- [`get_energy_total_cost()`](https://resourcefully-dev.github.io/flextools/reference/get_energy_total_cost.md)
  : Get energy total cost (one number)
- [`plot_energy_cost()`](https://resourcefully-dev.github.io/flextools/reference/plot_energy_cost.md)
  : Plot hourly energy cost
- [`get_imbalance_income()`](https://resourcefully-dev.github.io/flextools/reference/get_imbalance_income.md)
  : Get imbalance income time-series
- [`get_imbalance_total_income()`](https://resourcefully-dev.github.io/flextools/reference/get_imbalance_total_income.md)
  : Get imbalance total income (one number)
- [`get_load_duration_curve()`](https://resourcefully-dev.github.io/flextools/reference/get_load_duration_curve.md)
  : Load duration curve table
- [`plot_load_duration_curve()`](https://resourcefully-dev.github.io/flextools/reference/plot_load_duration_curve.md)
  : Plot of the load duration curve
- [`summarise_energy_charged()`](https://resourcefully-dev.github.io/flextools/reference/summarise_energy_charged.md)
  : Get a summary of the energy charged per session

# Articles

### Articles

- [Net power
  optimization](https://resourcefully-dev.github.io/flextools/articles/minimize_net_power.md):
- [Energy cost
  optimization](https://resourcefully-dev.github.io/flextools/articles/minimize_cost.md):
- [Combined
  optimization](https://resourcefully-dev.github.io/flextools/articles/combined_optimization.md):
- [Parallel
  processing](https://resourcefully-dev.github.io/flextools/articles/parallel-processing.md):

### Demand-response

- [Smart
  charging](https://resourcefully-dev.github.io/flextools/articles/smart-charging.md):
- [Advanced smart
  charging](https://resourcefully-dev.github.io/flextools/articles/smart-charging-advanced.md):
- [User profiles in smart
  charging](https://resourcefully-dev.github.io/flextools/articles/user-profiles.md):
